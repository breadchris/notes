import { $APP, shadow$provide, $jscomp } from "./nbb_core.js";
if (global) { global.datascript = datascript } else if (window) { window.datascript = datascript } else { var datascript = {}}const shadow_esm_import = function(x) { return import(x) };
var cLa,JY,LY,KY,MY,OY,eLa,PY,QY,fLa,gLa,hLa,RY,SY,TY,iLa,UY,VY,WY,XY,YY,ZY,$Y,aZ,bZ,jLa,cZ,dZ,hZ,iZ,kZ,lZ,nZ,pZ,kLa,qZ,oZ,rZ,sZ,tZ,lLa,mLa,uZ,vZ,wZ,xZ,yZ,zZ,nLa,AZ,oLa,EZ,FZ,GZ,JZ,qLa,KZ,LZ,NZ,PZ,sLa,QZ,RZ,SZ,TZ,UZ,VZ,WZ,XZ,YZ,ZZ,tLa,$Z,a_,b_,c_,d_,g_,h_,i_,j_,u_,v_,xLa,yLa,zLa,G_,J_,M_,CLa,N_,O_,P_,Q_,Z_,$_,a0,ELa,g0,h0,X_,f_,k0,Y_,W_,V_,n0,o0,p0,q0,KLa,r0,LLa,t0,u0,v0,OLa,RLa,SLa,TLa,A0,B0,VLa,WLa,XLa,YLa,D0,L0,iMa,jMa,M0,O0,P0,K0,Q0,T0,R0,S0,kMa,lMa,N0,U0,mMa,nMa,V0,oMa,e1,k1,m1,rMa,sMa,tMa,o1,
uMa,vMa,r1,s1,t1,u1,v1,w1,x1,y1,z1,A1,B1,C1,D1,E1,G1,F1,H1,J1,K1,L1,M1,N1,zMa,AMa,BMa,EMa,O1,P1,Q1,R1,S1,U1,T1,V1,W1,X1,Y1,Z1,$1,a2,b2,c2,d2,e2,GMa,f2,g2,h2,HMa,i2,j2,IMa,m2,n2,o2,p2,q2,r2,JMa,KMa,LMa,s2,u2,v2,w2,x2,y2,z2,A2,B2,C2,D2,H2,NMa,I2,J2,OMa,QMa,K2,L2,M2,N2,O2,P2,Q2,RMa,R2,SMa,TMa,UMa,VMa,WMa,X2,U2,XMa,Z2,$2,YMa,$Ma,aNa,b3,bNa,cNa,dNa,gNa,jNa,k3,l3,m3,kNa,n3,o3,p3,r3,lNa,s3,t3,mNa,pNa,z3,A3,qNa,C3,rNa,sNa,tNa,uNa,D3,E3,F3,vNa,wNa,xNa,yNa,zNa,ANa,CNa,DNa,ENa,K3,FNa,HNa,INa,JNa,R3,S3,T3,KNa,
LNa,MNa,GNa,Q3,NNa,ONa,V3,PNa,QNa,RNa,SNa,TNa,W3,UNa,X3,Y3,Z3,$3,b4,VNa,c4,d4,e4,WNa,x_,E0,XNa,YNa,ZNa,j3,BLa,w0,e3,$Na,aOa,f4,GLa,a3,bOa,g4,G2,cOa,j1,z0,h3,h1,QLa,aMa,dOa,Y0,B_,eOa,fOa,gOa,x0,gMa,hOa,FLa,iOa,jOa,d0,O3,g3,j0,e0,c3,kOa,N3,A_,s0,lOa,c0,S2,h4,mOa,z_,C0,nOa,ILa,Y2,oOa,pOa,qOa,iNa,rOa,sOa,tOa,e_,i4,$La,uOa,PMa,vOa,t_,wOa,b1,pMa,j4,k4,xOa,T2,K_,n_,yOa,zOa,l4,PLa,E2,AOa,BOa,m4,COa,J3,C_,U_,DOa,n4,EOa,D_,Z0,o4,FOa,P3,p4,eNa,B3,q4,r4,dMa,GOa,HOa,a4,o_,IOa,JOa,hMa,KOa,I_,LOa,MOa,s4,q1,DMa,
E_,y_,CMa,NOa,w_,HLa,v3,ZLa,t4,f0,OOa,POa,QOa,ROa,X0,FMa,SOa,fMa,vLa,TOa,UOa,u4,i0,cMa,VOa,p_,g1,c1,WOa,v4,I1,w4,x4,H3,m0,XOa,YOa,w3,ZOa,b0,G0,NLa,MLa,$Oa,eMa,aPa,y4,bPa,yMa,r_,cPa,dPa,u3,ePa,F_,d1,F2,MMa,y0,s_,pLa,t2,fPa,z4,gPa,hPa,iPa,A4,f1,wLa,jPa,a1,kPa,W2,d3,hNa,lPa,k2,mPa,nPa,i1,H_,oNa,B4,$0,nNa,L_,oPa,pPa,qPa,rPa,sPa,H0,M3,tPa,uPa,JLa,J0,uLa,f3,i3,vPa,l1,wPa,F0,q_,xPa,yPa,zPa,APa,HZ,l0,fNa,IZ,BPa,xMa,l2,bMa,CPa,ZMa,DPa,DLa,EPa,FPa,W0,GPa;
cLa=function(a,b){a=a.split(".");var c=$APP.Nu;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b};JY=function(a,b,c,d,e){this.cf=a;this.Fi=b;this.Gi=c;this.Ne=d;this.ub=e;this.I=2147484416;this.M=0};
LY=function(a,b,c){var d=a.cf,e=a.Fi,f=a.Gi,g=a.Ne;a=a.ub;var m=f.g?f.g(b,null):f.call(null,b,null);if($APP.l(m))return new JY(d,$APP.yj.j($APP.Im.g(e,m),g,b),$APP.yj.j(f,b,g),g+1,a);b=new JY($APP.yj.j(d,b,c),$APP.yj.j(e,g,b),$APP.yj.j(f,b,g),g+1,a);return KY.h?KY.h(b):KY.call(null,b)};KY=function(a){if($APP.me(a.cf)>a.ub){var b=a.cf,c=a.Fi,d=a.Gi,e=a.Ne;a=a.ub;var f=$APP.v(c),g=$APP.B.j(f,0,null);f=$APP.B.j(f,1,null);return new JY($APP.Im.g(b,f),$APP.Im.g(c,g),$APP.Im.g(d,f),e,a)}return a};
MY=function(a,b,c){if(null!=a&&null!=a.Bi)a=a.Bi(a,b,c);else{var d=MY[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=MY._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Db("ICache.-get",a);}return a};
OY=function(){var a=$APP.Ih(new JY($APP.ah,$APP.rw(),$APP.ah,0,100));if("undefined"===typeof datascript||"undefined"===typeof dLa||"undefined"===typeof NY)NY=function(b,c,d){this.ub=b;this.ng=c;this.ak=d;this.I=393216;this.M=0},NY.prototype.X=function(b,c){return new NY(this.ub,this.ng,c)},NY.prototype.W=function(){return this.ak},NY.prototype.Bi=function(b,c,d){b=$APP.D.j($APP.q(this.ng),c,null);return null==b?(d=d.C?d.C():d.call(null),$APP.pd(this.ng,$APP.yj.j($APP.q(this.ng),c,d)),d):b},NY.Jc=
!0,NY.rc="datascript.lru/t_datascript$lru36200",NY.Qc=function(b){return $APP.Qc(b,"datascript.lru/t_datascript$lru36200")};return new NY(100,a,$APP.ah)};eLa=function(a){return $APP.nf.j(function(b,c){b.push(c);return b},[],a)};PY=function(a){return a instanceof Array};QY=function(a,b,c,d){for(var e=0,f=$APP.Pf(c);;)if(e<=f){c=e+f>>>1;var g=b[c];0>(a.g?a.g(g,d):a.call(null,g,d))?e=c+1:f=c-1}else return e};
fLa=function(a,b,c,d){for(var e=0,f=$APP.Pf(c);;)if(e<=f){c=e+f>>>1;var g=b[c];0<(a.g?a.g(g,d):a.call(null,g,d))?f=c-1:e=c+1}else return e};gLa=function(a,b,c){var d=b.length,e=QY(a,b,d-1,c);if(d=e<d)b=b[e],d=0===(a.g?a.g(b,c):a.call(null,b,c));return d?e:-1};hLa=function(a,b,c){var d=b.length;a=QY(a,b,d-1,c);return a===d?-1:a};
RY=function(a,b,c,d,e,f){var g=f.length,m=d-b,r=m+g,n=Array(m+g+(c-e));d-=b;for(var w=0;;)if(w<d)n[w+0]=a[w+b],w+=1;else break;b=g-0;for(g=0;;)if(g<b)n[g+m]=f[g+0],g+=1;else break;c-=e;for(f=0;;)if(f<c)n[f+r]=a[f+e],f+=1;else break;return n};SY=function(a,b,c,d){return RY(a,0,a.length,b,c,d)};
TY=function(a,b){var c=a.length,d=b.length,e=c+d,f=e>>>1,g=Array(f);e=Array(e-f);if(c<=f){for(var m=c-0,r=0;;)if(r<m)g[r+0]=a[r+0],r+=1;else break;a=f-c;for(m=0;;)if(m<a)g[m+c]=b[m+0],m+=1;else break;d-=f-c;for(a=0;;)if(a<d)e[a+0]=b[a+(f-c)],a+=1;else break}else{m=f-0;for(r=0;;)if(r<m)g[r+0]=a[r+0],r+=1;else break;m=c-f;for(r=0;;)if(r<m)e[r+0]=a[r+f],r+=1;else break;d-=0;for(a=0;;)if(a<d)e[a+(c-f)]=b[a+0],a+=1;else break}return[g,e]};
iLa=function(a,b,c,d,e,f){d-=c;if(f=d===f-0)for(f=0;;){if(f===d)return!0;var g=b[f+c],m=e[f+0];if(0!==(a.g?a.g(g,m):a.call(null,g,m)))return!1;f+=1}else return f};UY=function(a,b){return $APP.l(a)?$APP.l(b)?[a,b]:[a]:[b]};VY=function(a,b,c){return $APP.l(a)?$APP.l(b)?$APP.l(c)?[a,b,c]:[a,b]:$APP.l(c)?[a,c]:[a]:$APP.l(b)?$APP.l(c)?[b,c]:[b]:[c]};
WY=function(a){if(null!=a&&null!=a.Oh)a=a.Oh(a);else{var b=WY[$APP.fa(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=WY._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw $APP.Db("INode.node-lim-key",a);}return a};XY=function(a){if(null!=a&&null!=a.Hi)a=a.keys.length;else{var b=XY[$APP.fa(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=XY._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw $APP.Db("INode.node-len",a);}return a};
YY=function(a,b){if(null!=a&&null!=a.Qh)a=a.Qh(a,b);else{var c=YY[$APP.fa(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=YY._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw $APP.Db("INode.node-merge",a);}return a};ZY=function(a,b){if(null!=a&&null!=a.Rh)a=a.Rh(a,b);else{var c=ZY[$APP.fa(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=ZY._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw $APP.Db("INode.node-merge-n-split",a);}return a};
$Y=function(a,b,c){if(null!=a&&null!=a.Ph)a=a.Ph(a,b,c);else{var d=$Y[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=$Y._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Db("INode.node-lookup",a);}return a};aZ=function(a,b,c){if(null!=a&&null!=a.Mh)a=a.Mh(a,b,c);else{var d=aZ[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=aZ._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Db("INode.node-conj",a);}return a};
bZ=function(a,b,c,d,e,f){if(null!=a&&null!=a.Nh)a=a.Nh(a,b,c,d,e,f);else{var g=bZ[$APP.fa(null==a?null:a)];if(null!=g)a=g.ua?g.ua(a,b,c,d,e,f):g.call(null,a,b,c,d,e,f);else if(g=bZ._,null!=g)a=g.ua?g.ua(a,b,c,d,e,f):g.call(null,a,b,c,d,e,f);else throw $APP.Db("INode.node-disj",a);}return a};
jLa=function(a,b,c,d){if($APP.l(b))return[a];if(16<XY(a))return VY(c,a,d);if($APP.l($APP.l(c)?16>=XY(c):c))return UY(YY(c,a),d);if($APP.l($APP.l(d)?16>=XY(d):d))return UY(c,YY(a,d));if($APP.l($APP.l(c)?null==d||XY(c)<XY(d):c))return a=ZY(c,a),VY(a[0],a[1],d);a=ZY(a,d);return VY(c,a[0],a[1])};cZ=function(a,b){this.keys=a;this.Zb=b};dZ=function(a){this.keys=a};$APP.eZ=function(a,b,c,d,e,f){this.root=a;this.shift=b;this.O=c;this.Rc=d;this.K=e;this.Vc=f;this.I=2297303311;this.M=8332};
hZ=function(a,b){var c=a.shift;for(a=a.root;;)if(0<c)a=a.Zb[fZ&b>>>c],c-=gZ;else return a.keys};iZ=function(a,b,c,d){return new $APP.eZ(b,c,d,a.Rc,a.K,null)};kZ=function(a,b){return jZ(a.root,b,a.shift)};lZ=function(a,b){for(var c=0;;)if(0<b)c|=a.Zb.length-1<<b,b-=gZ,a=a.Zb,a=a[a.length-1];else return c|a.keys.length-1<<0};nZ=function(a,b){return mZ(a.root,b,a.shift)};pZ=function(a){if(0<XY(a.root)){var b=lZ(a.root,a.shift)+1;return oZ.j?oZ.j(a,0,b):oZ.call(null,a,0,b)}return null};
kLa=function(a,b,c){this.H=a;this.vb=b;this.end=c;this.I=524306;this.M=0};qZ=function(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.I=2309488832;this.M=1536};oZ=function(a,b,c){return new qZ(a,b,c,hZ(a,b),fZ&b>>>0)};rZ=function(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.I=2308964544;this.M=0};sZ=function(a,b,c){return new rZ(a,b,c,hZ(a,c),fZ&c>>>0)};
tZ=function(a,b,c,d){a:if(null==b)b=0;else for(var e=a.root,f=0,g=a.shift;;){var m=XY(e);if(0===g){var r=e.keys;r=QY(d,r,m-1,b);b=m===r?-1:f|r<<0;break a}r=e.keys;r=QY(d,r,m-2,b);f|=r<<g;g-=gZ;e=e.Zb[r]}if(0>b)return null;a:if(null==c)c=lZ(a.root,a.shift)+1;else for(e=a.root,f=0,g=a.shift;;){r=XY(e);if(0===g){m=e.keys;r=fLa(d,m,r-1,c);c=f|r<<0;break a}m=e.keys;r=fLa(d,m,r-2,c);f|=r<<g;g-=gZ;e=e.Zb[r]}return c>b?new qZ(a,b,c,hZ(a,b),fZ&b>>>0):null};
lLa=function(a,b){for(var c=b.length,d=0;;)if(d<c){var e=d;var f=b[d];f=a.h?a.h(f):a.call(null,f);b[e]=f;d+=1}else break;return b};mLa=function(a){var b=a.length,c=$APP.Yc($APP.Xh);if(0<b)for(var d=0;;){var e=b-d;if(32>=e){$APP.Wh.g(c,a.slice(d));break}else 40<=e?($APP.Wh.g(c,a.slice(d,d+24)),d+=24):(e>>>=1,$APP.Wh.g(c,a.slice(d,d+e)),d+=e)}return $APP.of($APP.$c(c))};
uZ=function(a,b,c){b=aZ(a.root,c,b);return null==b?a:1===b.length?iZ(a,b[0],a.shift,a.O+1):iZ(a,new cZ(b.map(WY),b),a.shift+gZ,a.O+1)};vZ=function(a,b,c){b=bZ(a.root,c,b,!0,null,null);if(null==b)return a;b=b[0];return b instanceof cZ&&1===b.Zb.length?iZ(a,b.Zb[0],a.shift-gZ,a.O-1):iZ(a,b,a.shift,a.O-1)};wZ=function(a,b,c){return tZ(a,b,c,a.Rc)};
xZ=function(a,b){for(var c=lLa(function(g){return new dZ(g)},mLa(b)),d=c,e=0;;){var f=$APP.me(d);switch(f){case 0:return new $APP.eZ(new dZ([]),0,0,a,null,null);case 1:return new $APP.eZ($APP.v(d),e,b.length,a,null,null);default:d=lLa(function(){return function(g){return new cZ(g.map(WY),g)}}(d,e,f,c),mLa(d)),e+=gZ}}};yZ=function(a){return new $APP.eZ(new dZ([]),0,0,a,null,null)};zZ=function(a){return"string"!==typeof a&&($APP.We(a)||PY(a))};
nLa=function(a,b,c){return $APP.v($APP.nf.j(function(d,e){var f=$APP.B.j(d,0,null);d=$APP.B.j(d,1,null);e=a.j?a.j(f,e,d):a.call(null,f,e,d);return $APP.be(e)?$APP.ae(new $APP.J(null,2,5,$APP.K,[e,d],null)):new $APP.J(null,2,5,$APP.K,[e,d+1],null)},new $APP.J(null,2,5,$APP.K,[b,0],null),c))};AZ=function(a,b){return $APP.Ed(a,b)};
$APP.BZ=function(a){if(null!=a&&null!=a.gb)a=a.gb(a);else{var b=$APP.BZ[$APP.fa(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=$APP.BZ._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw $APP.Db("IDatom.datom-tx",a);}return a};$APP.CZ=function(a){if(null!=a&&null!=a.fd)a=a.fd(a);else{var b=$APP.CZ[$APP.fa(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=$APP.CZ._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw $APP.Db("IDatom.datom-added",a);}return a};
$APP.DZ=function(a,b,c,d,e,f){this.e=a;this.a=b;this.v=c;this.tx=d;this.idx=e;this.Vc=f;this.I=2162164496;this.M=0};oLa=function(a){return a instanceof $APP.DZ};EZ=function(a){return AZ(AZ($APP.Dd(a.e),$APP.Dd(a.a)),$APP.Dd(a.v))};FZ=function(a,b){return a.e===b.e&&$APP.A.g(a.a,b.a)&&$APP.A.g(a.v,b.v)};GZ=function(a){return new $APP.E(null,a.e,new $APP.E(null,a.a,new $APP.E(null,a.v,new $APP.E(null,a.gb(null),new $APP.E(null,a.fd(null),null,1,null),2,null),3,null),4,null),5,null)};
JZ=function(a,b,c){return $APP.A.g(HZ,b)?a.v:$APP.A.g("e",b)?a.e:$APP.A.g($APP.KA,b)?a.fd(null):$APP.A.g("v",b)?a.v:$APP.A.g($APP.JL,b)?a.e:$APP.A.g("a",b)?a.a:$APP.A.g(pLa,b)?a.gb(null):$APP.A.g("added",b)?a.fd(null):$APP.A.g("tx",b)?a.gb(null):$APP.A.g(IZ,b)?a.a:c};qLa=function(a){switch(arguments.length){case 2:return KZ(arguments[0],arguments[1]);case 3:return LZ(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.p.h(arguments.length)].join(""));}};
KZ=function(a,b){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.gb(null);case 4:return a.fd(null);default:throw Error(["Datom/-nth: Index out of bounds: ",$APP.p.h(b)].join(""));}};LZ=function(a,b,c){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.gb(null);case 4:return a.fd(null);default:return c}};
NZ=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "e":return MZ.P(c,a.a,a.v,a.gb(null),a.fd(null));case "a":return MZ.P(a.e,c,a.v,a.gb(null),a.fd(null));case "v":return MZ.P(a.e,a.a,c,a.gb(null),a.fd(null));case "tx":return MZ.P(a.e,a.a,a.v,c,a.fd(null));case "added":return MZ.P(a.e,a.a,a.v,a.gb(null),c);default:throw new rLa(["invalid key for #datascript/Datom: ",$APP.p.h(b)].join(""));}};$APP.OZ=function(a){return $APP.zh.g(MZ,a)};
PZ=function(a,b){return null==a?0:null==b?0:$APP.ff(a,b)};sLa=function(a,b){return $APP.Ua($APP.Eb($APP.Cb(a)),$APP.Eb($APP.Cb(b)))};
QZ=function(a,b){try{return $APP.A.g(a,b)?0:(null!=a?a.M&2048||$APP.Cd===a.Rd||(a.M?0:$APP.Bb($APP.ed,a)):$APP.Bb($APP.ed,a))?$APP.fd(a,b):$APP.Cb(a)===$APP.Cb(b)?"number"===typeof a||"string"===typeof a||$APP.rb(a)||!0===a||!1===a?$APP.Ua(a,b):$APP.Dd(a)-$APP.Dd(b):sLa(a,b)}catch(d){if(d instanceof Error){var c=d;if($APP.Cb(a)===$APP.Cb(b))throw c;return sLa(a,b)}throw d;}};RZ=function(a,b){return null==a?0:null==b?0:QZ(a,b)};
SZ=function(a,b){var c=a.e-b.e;return 0===c?(c=PZ(a.a,b.a),0===c?(c=RZ(a.v,b.v),0===c?(a=a.gb(null)-b.gb(null),0===a?0:a):c):c):c};TZ=function(a,b){var c=PZ(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=RZ(a.v,b.v),0===c?(a=a.gb(null)-b.gb(null),0===a?0:a):c):c):c};UZ=function(a,b){var c=PZ(a.a,b.a);return 0===c?(c=RZ(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.gb(null)-b.gb(null),0===a?0:a):c):c):c};VZ=function(a,b){return a instanceof $APP.G?$APP.fd(a,b):$APP.Ua(a,b)};
WZ=function(a,b){var c=a.e-b.e;return 0===c?(c=VZ(a.a,b.a),0===c?(a=QZ(a.v,b.v),0===a?0:a):c):c};XZ=function(a,b){var c=a.e-b.e;return 0===c?(c=VZ(a.a,b.a),0===c?(c=QZ(a.v,b.v),0===c?(a=a.gb(null)-b.gb(null),0===a?0:a):c):c):c};YZ=function(a,b){var c=VZ(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=QZ(a.v,b.v),0===c?(a=a.gb(null)-b.gb(null),0===a?0:a):c):c):c};ZZ=function(a,b){var c=VZ(a.a,b.a);return 0===c?(c=QZ(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.gb(null)-b.gb(null),0===a?0:a):c):c):c};tLa=function(){};
$Z=function(a,b){if(null!=a&&null!=a.Hh)a=a.Hh(a,b);else{var c=$Z[$APP.fa(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=$Z._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw $APP.Db("ISearch.-search",a);}return a};a_=function(a,b){return $APP.v($Z(a,b))};
b_=function(a,b,c){if(null!=a&&null!=a.Eh)a=a.Eh(a,b,c);else{var d=b_[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=b_._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Db("IIndexAccess.-datoms",a);}return a};
c_=function(a,b,c){if(null!=a&&null!=a.Gh)a=a.Gh(a,b,c);else{var d=c_[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=c_._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Db("IIndexAccess.-seek-datoms",a);}return a};
d_=function(a,b,c,d){if(null!=a&&null!=a.Fh)a=a.Fh(a,b,c,d);else{var e=d_[$APP.fa(null==a?null:a)];if(null!=e)a=e.G?e.G(a,b,c,d):e.call(null,a,b,c,d);else if(e=d_._,null!=e)a=e.G?e.G(a,b,c,d):e.call(null,a,b,c,d);else throw $APP.Db("IIndexAccess.-index-range",a);}return a};
g_=function(a,b,c){if($APP.A.g(b,e_)&&(b=$APP.v(c),null!=b&&!$APP.l(f_.g?f_.g(a,b):f_.call(null,a,b))))throw $APP.Sm.g(["Attribute ",$APP.yk.l($APP.C([b]))," should be marked as :db/index true"].join(""),new $APP.k(null,3,[$APP.zJ,uLa,vLa,e_,wLa,c],null));};h_=function(){};i_=function(a){if(null!=a&&null!=a.Dh)a=a.Dh(a);else{var b=i_[$APP.fa(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=i_._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw $APP.Db("IDB.-schema",a);}return a};
j_=function(a,b){if(null!=a&&null!=a.Ch)a=a.Ch(a,b);else{var c=j_[$APP.fa(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=j_._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw $APP.Db("IDB.-attrs-by",a);}return a};$APP.k_=function(a,b,c,d,e,f,g,m,r,n,w,x,z){this.mc=a;this.Sb=b;this.pc=c;this.ic=d;this.Ec=e;this.Fc=f;this.vc=g;this.uc=m;this.tc=r;this.hash=n;this.A=w;this.o=x;this.D=z;this.I=2230716170;this.M=139264};
u_=function(a){var b=$APP.Im.l(a,$APP.l_,$APP.C([$APP.m_,n_,e_,o_,p_,q_,r_,s_,t_]));b=$APP.Ne(a)?$APP.Ji.g($APP.ah,b):b;return new $APP.k_($APP.l_.h(a),$APP.m_.h(a),n_.h(a),e_.h(a),o_.h(a),p_.h(a),q_.h(a),r_.h(a),s_.h(a),t_.h(a),null,$APP.ch(b),null)};v_=function(a,b,c,d,e,f){this.xc=a;this.ec=b;this.hash=c;this.A=d;this.o=e;this.D=f;this.I=2230716170;this.M=139264};xLa=function(a){return a instanceof v_?a.xc:a};
yLa=function(a,b){switch(b instanceof $APP.G?b.S:null){case "db.unique/identity":return new $APP.J(null,3,5,$APP.K,[w_,x_,y_],null);case "db.unique/value":return new $APP.J(null,3,5,$APP.K,[w_,z_,y_],null);case "db.cardinality/many":return new $APP.J(null,1,5,$APP.K,[A_],null);case "db.type/ref":return new $APP.J(null,2,5,$APP.K,[B_,y_],null);default:return $APP.A.g(C_,a)&&!0===b?new $APP.J(null,1,5,$APP.K,[C_],null):$APP.A.g(y_,a)&&!0===b?new $APP.J(null,1,5,$APP.K,[y_],null):$APP.A.g(D_,a)?new $APP.J(null,
2,5,$APP.K,[E_,y_],null):$APP.Xh}};zLa=function(a,b){return $APP.nf.j(function(c,d){return nLa(function(e,f,g){return $APP.Tn.P(e,f,$APP.yj,d,g)},c,D_.h($APP.D.g(a,d)))},$APP.ah,E_.h(b))};G_=function(a){var b=$APP.tf(function(c,d,e){return $APP.tf(function(f,g,m){return $APP.nf.j(function(r,n){return $APP.Tn.G(r,n,ALa,d)},f,yLa(g,m))},c,e)},$APP.ah,a);return $APP.yj.j(b,F_,zLa(a,b))};
J_=function(a,b,c,d){if(null!=c&&!$APP.cf(d,c))throw $APP.Sm.g(["Bad attribute specification for ",$APP.yk.l($APP.C([$APP.$g([a,$APP.$g([b,c])])])),", expected one of ",$APP.p.h(d)].join(""),new $APP.k(null,4,[$APP.zJ,H_,I_,a,$APP.QC,b,$APP.GJ,c],null));};
M_=function(a){for(var b=$APP.u(a),c=null,d=0,e=0;;)if(e<d){var f=c.ea(null,e),g=$APP.B.j(f,0,null),m=$APP.B.j(f,1,null),r=C_.g(m,!1);J_(g,C_,C_.h(m),new $APP.Bj(null,new $APP.k(null,2,[!0,null,!1,null],null),null));if($APP.l(function(){var X=r;return $APP.l(X)?$APP.xj.g(K_.h(m),B_):X}()))throw $APP.Sm.g(["Bad attribute specification for ",$APP.yk.l($APP.C([g])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new $APP.k(null,3,[$APP.zJ,H_,I_,g,$APP.QC,C_],null));
J_(g,w_,w_.h(m),new $APP.Bj(null,new $APP.k(null,2,[x_,null,z_,null],null),null));J_(g,K_,K_.h(m),new $APP.Bj(null,new $APP.k(null,2,[E_,null,B_,null],null),null));J_(g,L_,L_.h(m),new $APP.Bj(null,new $APP.k(null,2,[A_,null,BLa,null],null),null));if($APP.A.g(E_,K_.h(m))&&!$APP.cf(m,D_))throw $APP.Sm.g(["Bad attribute specification for ",$APP.yk.l($APP.C([g])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new $APP.k(null,3,[$APP.zJ,H_,I_,g,$APP.QC,K_],null));if($APP.cf(m,
D_)){f=new $APP.k(null,3,[$APP.zJ,H_,I_,g,$APP.QC,D_],null);if($APP.A.g(A_,L_.h(m)))throw $APP.Sm.g([$APP.yk.l($APP.C([g]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),f);var n=D_.h(m);if(!$APP.Ke(n))throw $APP.Sm.g([$APP.yk.l($APP.C([g]))," :db/tupleAttrs must be a sequential collection, got: ",$APP.yk.l($APP.C([n]))].join(""),f);if($APP.Ge(n))throw $APP.Sm.g([$APP.yk.l($APP.C([g]))," :db/tupleAttrs can’t be empty"].join(""),f);n=$APP.u(n);for(var w=null,x=0,z=0;;)if(z<x){var F=
w.ea(null,z),M=$APP.yj.j(f,$APP.GJ,F);if($APP.cf($APP.D.g(a,F),D_))throw $APP.Sm.g([$APP.yk.l($APP.C([g]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.yk.l($APP.C([F]))].join(""),M);if($APP.A.g(A_,L_.h($APP.D.g(a,F))))throw $APP.Sm.g([$APP.yk.l($APP.C([g]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.yk.l($APP.C([F]))].join(""),M);z+=1}else if(n=$APP.u(n)){if($APP.Pe(n))x=$APP.hd(n),n=$APP.id(n),w=x,x=$APP.me(x);else{w=$APP.v(n);x=$APP.yj.j(f,$APP.GJ,
w);if($APP.cf($APP.D.g(a,w),D_))throw $APP.Sm.g([$APP.yk.l($APP.C([g]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.yk.l($APP.C([w]))].join(""),x);if($APP.A.g(A_,L_.h($APP.D.g(a,w))))throw $APP.Sm.g([$APP.yk.l($APP.C([g]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.yk.l($APP.C([w]))].join(""),x);n=$APP.y(n);w=null;x=0}z=0}else break}e+=1}else if(g=$APP.u(b)){b=g;if($APP.Pe(b))c=$APP.hd(b),b=$APP.id(b),g=c,d=$APP.me(c),c=g;else{c=$APP.v(b);g=$APP.B.j(c,
0,null);m=$APP.B.j(c,1,null);var T=C_.g(m,!1);J_(g,C_,C_.h(m),new $APP.Bj(null,new $APP.k(null,2,[!0,null,!1,null],null),null));if($APP.l(function(){var X=T;return $APP.l(X)?$APP.xj.g(K_.h(m),B_):X}()))throw $APP.Sm.g(["Bad attribute specification for ",$APP.yk.l($APP.C([g])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new $APP.k(null,3,[$APP.zJ,H_,I_,g,$APP.QC,C_],null));J_(g,w_,w_.h(m),new $APP.Bj(null,new $APP.k(null,2,[x_,null,z_,null],null),null));J_(g,
K_,K_.h(m),new $APP.Bj(null,new $APP.k(null,2,[E_,null,B_,null],null),null));J_(g,L_,L_.h(m),new $APP.Bj(null,new $APP.k(null,2,[A_,null,BLa,null],null),null));if($APP.A.g(E_,K_.h(m))&&!$APP.cf(m,D_))throw $APP.Sm.g(["Bad attribute specification for ",$APP.yk.l($APP.C([g])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new $APP.k(null,3,[$APP.zJ,H_,I_,g,$APP.QC,K_],null));if($APP.cf(m,D_)){c=new $APP.k(null,3,[$APP.zJ,H_,I_,g,$APP.QC,D_],null);if($APP.A.g(A_,L_.h(m)))throw $APP.Sm.g([$APP.yk.l($APP.C([g])),
" has :db/tupleAttrs, must be :db.cardinality/one"].join(""),c);d=D_.h(m);if(!$APP.Ke(d))throw $APP.Sm.g([$APP.yk.l($APP.C([g]))," :db/tupleAttrs must be a sequential collection, got: ",$APP.yk.l($APP.C([d]))].join(""),c);if($APP.Ge(d))throw $APP.Sm.g([$APP.yk.l($APP.C([g]))," :db/tupleAttrs can’t be empty"].join(""),c);d=$APP.u(d);e=null;for(n=f=0;;)if(n<f){w=e.ea(null,n);x=$APP.yj.j(c,$APP.GJ,w);if($APP.cf($APP.D.g(a,w),D_))throw $APP.Sm.g([$APP.yk.l($APP.C([g]))," :db/tupleAttrs can’t depend on another tuple attribute: ",
$APP.yk.l($APP.C([w]))].join(""),x);if($APP.A.g(A_,L_.h($APP.D.g(a,w))))throw $APP.Sm.g([$APP.yk.l($APP.C([g]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.yk.l($APP.C([w]))].join(""),x);n+=1}else if(d=$APP.u(d)){if($APP.Pe(d))f=$APP.hd(d),d=$APP.id(d),e=f,f=$APP.me(f);else{e=$APP.v(d);f=$APP.yj.j(c,$APP.GJ,e);if($APP.cf($APP.D.g(a,e),D_))throw $APP.Sm.g([$APP.yk.l($APP.C([g]))," :db/tupleAttrs can’t depend on another tuple attribute: ",$APP.yk.l($APP.C([e]))].join(""),
f);if($APP.A.g(A_,L_.h($APP.D.g(a,e))))throw $APP.Sm.g([$APP.yk.l($APP.C([g]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",$APP.yk.l($APP.C([e]))].join(""),f);d=$APP.y(d);e=null;f=0}n=0}else break}b=$APP.y(b);c=null;d=0}e=0}else return null};CLa=function(a){var b=$APP.JL.h,c=MZ.G(536870911,null,null,2147483647),d=MZ.G(0,null,null,536870912);a=tZ(a,d,c,a.Rc);a=null==a?null:$APP.Ic(a);b=b.call($APP.JL,$APP.v(a));return $APP.l(b)?b:0};
N_=function(a){var b=$APP.q(a.hash);return 0===b?$APP.Fh(a.hash,AZ($APP.Dd(a.mc),$APP.Dd(a.Sb))):b};O_=function(a){var b=$APP.q(a.hash);(function(){var c=b_(a,$APP.m_,$APP.Xh);return $APP.l(c)?c:$APP.Cj})();return 0===b?(b=function(){var c=b_(a,$APP.m_,$APP.Xh);return $APP.l(c)?c:$APP.Cj}(),$APP.Fh(a.hash,AZ($APP.Dd(i_(a)),$APP.Wd(b)))):b};
P_=function(a,b){var c;if(c=b instanceof $APP.k_||b instanceof v_)if(c=$APP.A.g(i_(a),i_(b)))a:for(a=b_(a,$APP.m_,$APP.Xh),c=b_(b,$APP.m_,$APP.Xh),b=$APP.u(a),a=$APP.u(c);;){if(null==b){c=null==a;break a}if($APP.A.g($APP.v(b),$APP.v(a)))b=$APP.y(b),a=$APP.y(a);else{c=!1;break a}}return c};
Q_=function(a,b,c){$APP.Qc(b,"#datascript/DB {");$APP.Qc(b,":schema ");$APP.dk(i_(a),b,c);$APP.Qc(b,", :datoms ");$APP.ak(b,function(d,e,f){return $APP.ak(e,$APP.dk,"["," ","]",f,new $APP.J(null,4,5,$APP.K,[d.e,d.a,d.v,$APP.BZ(d)],null))},"["," ","]",c,b_(a,$APP.m_,$APP.Xh));return $APP.Qc(b,"}")};
$APP.T_=function(a){var b=$APP.bh(a);a=$APP.D.g(b,$APP.l_);b=$APP.D.g(b,$APP.R_);return S_.g($APP.ek.g(function(c){var d=$APP.B.j(c,0,null),e=$APP.B.j(c,1,null),f=$APP.B.j(c,2,null);c=$APP.B.j(c,3,null);return MZ.G(d,e,f,c)},b),a)};
Z_=function(a,b,c,d,e,f,g){if($APP.l(c)){var m=new $APP.E(null,DLa,new $APP.E(null,U_,new $APP.E(null,b,new $APP.E(null,c,new $APP.E(null,d,new $APP.E(null,e,null,1,null),2,null),3,null),4,null),5,null),6,null);V_.g?V_.g(c,m):V_.call(null,c,m)}return MZ.G(function(){var r=W_.g?W_.g(a,b):W_.call(null,a,b);return $APP.l(r)?r:f}(),c,$APP.l(function(){var r=null!=d;return r?X_.g?X_.g(a,c):X_.call(null,a,c):r}())?Y_.g?Y_.g(a,d):Y_.call(null,a,d):d,function(){var r=W_.g?W_.g(a,e):W_.call(null,a,e);return $APP.l(r)?
r:g}())};$_=function(a,b,c,d,e){var f=$APP.B.j(c,0,null),g=$APP.B.j(c,1,null),m=$APP.B.j(c,2,null);c=$APP.B.j(c,3,null);b=b instanceof $APP.G?b.S:null;switch(b){case "eavt":return Z_(a,f,g,m,c,d,e);case "aevt":return Z_(a,g,f,m,c,d,e);case "avet":return Z_(a,m,f,g,c,d,e);default:throw Error(["No matching clause: ",$APP.p.h(b)].join(""));}};a0=function(a,b,c,d,e,f,g,m){this.ud=a;this.td=b;this.xd=c;this.vd=d;this.yd=e;this.A=f;this.o=g;this.D=m;this.I=2230716170;this.M=139264};
ELa=function(a){var b=$APP.Im.l(a,b0,$APP.C([c0,d0,e0,f0]));b=$APP.Ne(a)?$APP.Ji.g($APP.ah,b):b;return new a0(b0.h(a),c0.h(a),d0.h(a),e0.h(a),f0.h(a),null,$APP.ch(b),null)};g0=function(a,b,c){return $APP.cf(j_(a,c),b)};h0=function(a,b){return g0(a,b,A_)};X_=function(a,b){return g0(a,b,B_)};f_=function(a,b){return g0(a,b,y_)};
k0=function(a,b){for(;;){if("number"===typeof b&&0<b){if(2147483647<b)throw $APP.Sm.g(["Highest supported entity id is ",$APP.yk.l($APP.C([2147483647])),", got ",$APP.yk.l($APP.C([b]))].join(""),new $APP.k(null,2,[$APP.zJ,i0,$APP.GJ,b],null));return b}if($APP.Ke(b)){var c=b,d=$APP.B.j(c,0,null);c=$APP.B.j(c,1,null);if($APP.xj.g($APP.me(b),2))throw $APP.Sm.g(["Lookup ref should contain 2 elements: ",$APP.yk.l($APP.C([b]))].join(""),new $APP.k(null,2,[$APP.zJ,FLa,i0,b],null));if(g0(a,d,w_))return null==
c?null:$APP.JL.h($APP.v(b_(a,e_,b)));throw $APP.Sm.g(["Lookup ref attribute should be marked as :db/unique: ",$APP.yk.l($APP.C([b]))].join(""),new $APP.k(null,2,[$APP.zJ,GLa,i0,b],null));}if($APP.rb(b))b=$APP.C(b);else{if(b instanceof $APP.G)return $APP.JL.h($APP.v(b_(a,e_,new $APP.J(null,2,5,$APP.K,[j0,b],null))));throw $APP.Sm.g(["Expected number or lookup ref for entity id, got ",$APP.yk.l($APP.C([b]))].join(""),new $APP.k(null,2,[$APP.zJ,HLa,i0,b],null));}}};
Y_=function(a,b){a=k0(a,b);if($APP.l(a))return a;throw $APP.Sm.g(["Nothing found for entity id ",$APP.yk.l($APP.C([b]))].join(""),new $APP.k(null,2,[$APP.zJ,ILa,i0,b],null));};W_=function(a,b){return $APP.l(b)?Y_(a,b):null};V_=function(a,b){if(a instanceof $APP.G||"string"===typeof a)return null;throw $APP.Sm.g(["Bad entity attribute ",$APP.yk.l($APP.C([a]))," at ",$APP.yk.l($APP.C([b])),", expected keyword or string"].join(""),new $APP.k(null,3,[$APP.zJ,l0,I_,a,m0,b],null));};
n0=function(a,b){if(null==a)throw $APP.Sm.g(["Cannot store nil as a value at ",$APP.yk.l($APP.C([b]))].join(""),new $APP.k(null,3,[$APP.zJ,l0,$APP.GJ,a,m0,b],null));return null};o0=function(a){return $APP.Ap.g(a,new $APP.J(null,2,5,$APP.K,[b0,p_],null))+1};p0=function(a){return $APP.A.g(a,JLa)||$APP.A.g(a,":db/current-tx")||$APP.A.g(a,"datomic.tx")||$APP.A.g(a,"datascript.tx")};q0=function(a){return"number"===typeof a&&0>a||"string"===typeof a};
KLa=function(a,b){return b>o_.h(a)&&536870912>b?$APP.yj.j(a,o_,b):a};r0=function(a,b,c){var d=p0(b)?$APP.Tn.P(a,e0,$APP.yj,b,c):a;d=q0(b)?$APP.Tn.P(d,e0,$APP.yj,b,c):d;if(b=!q0(b))a=c0.h(a),b=c>o_.h(a)&&536870912>c;a=b?$APP.Tn.P(d,e0,$APP.yj,c,c):d;return $APP.Tn.G(a,c0,KLa,c)};
LLa=function(a,b,c,d,e){return $APP.tf(function(f,g,m){var r=$APP.D.g(f,g);$APP.l(r)||(r=HZ.h($APP.v(b_(c,$APP.m_,new $APP.J(null,2,5,$APP.K,[d,g],null)))),r=$APP.l(r)?r:$APP.pf($APP.yq.g($APP.me(D_.h($APP.D.g(i_(c),g))),null)));m=$APP.yj.j(r,m,e);return $APP.yj.j(f,g,m)},a,b)};
t0=function(a,b){var c=c0.h(a),d=IZ.h(b),e=$APP.Tn.G,f=$APP.yj.j;var g=b.fd(null);g=$APP.l(g)?g0(c,b.a,w_):g;if($APP.l(g)&&(g=$APP.ch(b_(c,e_,new $APP.J(null,2,5,$APP.K,[b.a,b.v],null))),null!=g))throw $APP.Sm.g(["Cannot add ",$APP.yk.l($APP.C([b]))," because of unique constraint: ",$APP.yk.l($APP.C([g]))].join(""),new $APP.k(null,3,[$APP.zJ,MLa,I_,b.a,NLa,b],null));g=f_(c,b.a);if($APP.l(b.fd(null))){var m=$APP.Tn.P(c,$APP.m_,uZ,b,XZ);m=$APP.Tn.P(m,n_,uZ,b,YZ);g=g?$APP.Tn.P(m,e_,uZ,b,ZZ):m;g=KLa(g,
b.e);g=$APP.yj.j(g,t_,$APP.Ak.h(0))}else if(m=a_(c,new $APP.J(null,3,5,$APP.K,[b.e,b.a,b.v],null)),null==m)g=c;else{var r=$APP.Tn.P(c,$APP.m_,vZ,m,XZ);r=$APP.Tn.P(r,n_,vZ,m,YZ);g=g?$APP.Tn.P(r,e_,vZ,m,ZZ):r;g=$APP.yj.j(g,t_,$APP.Ak.h(0))}a=e.call($APP.Tn,f.call($APP.yj,a,c0,g),d0,$APP.vg,b);return g0(c,d,F_)?(e=$APP.JL.h(b),b=$APP.l($APP.CZ(b))?HZ.h(b):null,f=$APP.D.g(s0.h(a),e),f=$APP.l(f)?f:$APP.ah,d=$APP.D.g(j_(c,F_),d),c=LLa(f,d,c,e,b),$APP.Tn.P(a,s0,$APP.yj,e,c)):a};
u0=function(a){if(a instanceof $APP.G)return $APP.A.g("_",$APP.B.g($APP.Hj(a),0));if("string"===typeof a)return $APP.Ya($APP.Tj(/(?:([^\/]+)\/)?_([^\/]+)/,a));throw $APP.Sm.g(["Bad attribute type: ",$APP.yk.l($APP.C([a])),", expected keyword or string"].join(""),new $APP.k(null,2,[$APP.zJ,l0,I_,a],null));};
v0=function(a){if(a instanceof $APP.G)return u0(a)?$APP.fk.g($APP.Dg(a),$APP.Xj.g($APP.Hj(a),1)):$APP.fk.g($APP.Dg(a),["_",$APP.Hj(a)].join(""));if("string"===typeof a){var b=$APP.Tj(/(?:([^\/]+)\/)?([^\/]+)/,a);$APP.B.j(b,0,null);a=$APP.B.j(b,1,null);b=$APP.B.j(b,2,null);return $APP.A.g("_",$APP.B.g(b,0))?$APP.l(a)?[$APP.p.h(a),"/",$APP.Xj.g(b,1)].join(""):$APP.Xj.g(b,1):$APP.l(a)?[$APP.p.h(a),"/_",$APP.p.h(b)].join(""):["_",$APP.p.h(b)].join("")}throw $APP.Sm.g(["Bad attribute type: ",$APP.yk.l($APP.C([a])),
", expected keyword or string"].join(""),new $APP.k(null,2,[$APP.zJ,l0,I_,a],null));};
OLa=function(a,b){function c(f,g){return $APP.nf.j(function(m,r){var n=d(f,r);return null==n?$APP.Tn.G(m,0,$APP.vg,r):$APP.Tn.P(m,1,$APP.yj,r,n)},new $APP.J(null,2,5,$APP.K,[$APP.Xh,$APP.ah],null),g)}function d(f,g){return $APP.JL.h($APP.v(b_(a,e_,new $APP.J(null,2,5,$APP.K,[f,g],null))))}var e=$APP.ch(j_(a,x_));return null==e?new $APP.J(null,2,5,$APP.K,[b,null],null):$APP.tf(function(f,g,m){var r=$APP.B.j(f,0,null);f=$APP.B.j(f,1,null);if($APP.cf(e,g)){if(h0(a,g)&&(PY(m)||$APP.He(m)&&!$APP.Me(m))){var n=
c(g,m);m=$APP.B.j(n,0,null);n=$APP.B.j(n,1,null);return new $APP.J(null,2,5,$APP.K,[$APP.Ge(m)?r:$APP.yj.j(r,g,m),$APP.Ge(n)?f:$APP.yj.j(f,g,n)],null)}n=d(g,m);return null==n?new $APP.J(null,2,5,$APP.K,[$APP.yj.j(r,g,m),f],null):new $APP.J(null,2,5,$APP.K,[r,$APP.yj.j(f,g,$APP.$g([m,n]))],null)}return new $APP.J(null,2,5,$APP.K,[$APP.yj.j(r,g,m),f],null)},new $APP.J(null,2,5,$APP.K,[$APP.ah,$APP.ah],null),b)};
RLa=function(a,b){var c=$APP.tf(function(g,m,r){return $APP.tf(function(n,w,x){return $APP.yj.j(n,x,new $APP.J(null,2,5,$APP.K,[m,w],null))},g,r)},$APP.ah,b);if(2<=$APP.me(c)){b=$APP.v(c);a=$APP.B.j(b,0,null);var d=$APP.B.j(b,1,null);b=$APP.B.j(d,0,null);d=$APP.B.j(d,1,null);var e=$APP.re(c);c=$APP.B.j(e,0,null);var f=$APP.B.j(e,1,null);e=$APP.B.j(f,0,null);f=$APP.B.j(f,1,null);throw $APP.Sm.g(["Conflicting upserts: ",$APP.yk.l($APP.C([new $APP.J(null,2,5,$APP.K,[b,d],null)]))," resolves to ",$APP.yk.l($APP.C([a])),
", but ",$APP.yk.l($APP.C([new $APP.J(null,2,5,$APP.K,[e,f],null)]))," resolves to ",$APP.yk.l($APP.C([c]))].join(""),new $APP.k(null,3,[$APP.zJ,w0,PLa,new $APP.J(null,3,5,$APP.K,[a,b,d],null),QLa,new $APP.J(null,3,5,$APP.K,[c,e,f],null)],null));}d=$APP.v(c);b=$APP.B.j(d,0,null);c=$APP.B.j(d,1,null);d=$APP.B.j(c,0,null);c=$APP.B.j(c,1,null);a=x0.h(a);if(null!=b&&null!=a&&!q0(a)&&$APP.xj.g(b,a))throw $APP.Sm.g(["Conflicting upsert: ",$APP.yk.l($APP.C([new $APP.J(null,2,5,$APP.K,[d,c],null)]))," resolves to ",
$APP.yk.l($APP.C([b])),", but entity already has :db/id ",$APP.yk.l($APP.C([a]))].join(""),new $APP.k(null,3,[$APP.zJ,w0,PLa,new $APP.J(null,3,5,$APP.K,[b,d,c],null),QLa,new $APP.k(null,1,[x0,a],null)],null));return b};SLa=function(a,b,c){return u0(b)||h0(a,b)?PY(c)||$APP.He(c)&&!$APP.Me(c)?$APP.A.g($APP.me(c),2)&&g0(a,$APP.v(c),x_)?new $APP.J(null,1,5,$APP.K,[c],null):c:new $APP.J(null,1,5,$APP.K,[c],null):new $APP.J(null,1,5,$APP.K,[c],null)};
TLa=function(a,b){var c=x0.h(b),d=$APP.zh.g($APP.P,$APP.nf.j(function(e,f){var g=$APP.B.j(f,0,null);f=$APP.B.j(f,1,null);return $APP.Tn.G(e,g0(a,g,E_)?1:0,$APP.vg,new $APP.J(null,2,5,$APP.K,[g,f],null))},new $APP.J(null,2,5,$APP.K,[$APP.Xh,$APP.Xh],null),b));return function g(f){return new $APP.Hg(null,function(){for(var m=f;;){var r=$APP.u(m);if(r){var n=r,w=$APP.v(n),x=$APP.B.j(w,0,null),z=$APP.B.j(w,1,null);if($APP.xj.g(x,x0)){var F=V_(x,$APP.$g([x0,c,x,z])),M=u0(x),T=M?v0(x):x;if(M&&!X_(a,T))throw $APP.Sm.g(["Bad attribute ",
$APP.yk.l($APP.C([x])),": reverse attribute name requires {:db/valueType :db.type/ref} in schema"].join(""),new $APP.k(null,3,[$APP.zJ,l0,I_,x,m0,$APP.$g([x0,c,x,z])],null));if(r=$APP.u(function(X,aa,ba,ca,ja,oa,ma,O,I,la,S,W){return function pa(na){return new $APP.Hg(null,function(wa,za,Ea,La,Za,cb,$a,Xa,lb,tb,sb){return function(){for(;;){var Vb=$APP.u(na);if(Vb){if($APP.Pe(Vb)){var $b=$APP.hd(Vb),nc=$APP.me($b),Fc=$APP.Kg(nc);a:for(var Gd=0;;)if(Gd<nc){var sc=$APP.ze($b,Gd);$APP.Og(Fc,X_(a,La)&&
$APP.Me(sc)?$APP.yj.j(sc,v0($a),sb):Ea?new $APP.J(null,4,5,$APP.K,[y0,sc,La,sb],null):new $APP.J(null,4,5,$APP.K,[y0,sb,La,sc],null));Gd+=1}else{$b=!0;break a}return $b?$APP.Ng($APP.Pg(Fc),pa($APP.id(Vb))):$APP.Ng($APP.Pg(Fc),null)}Fc=$APP.v(Vb);return $APP.Bg(X_(a,La)&&$APP.Me(Fc)?$APP.yj.j(Fc,v0($a),sb):Ea?new $APP.J(null,4,5,$APP.K,[y0,Fc,La,sb],null):new $APP.J(null,4,5,$APP.K,[y0,sb,La,Fc],null),pa($APP.Rd(Vb)))}return null}}}(X,aa,ba,ca,ja,oa,ma,O,I,la,S,W),null,null)}}(m,F,M,T,null,w,x,z,n,
r,c,d)(SLa(a,x,z))))return $APP.P.g(r,g($APP.Rd(m)))}m=$APP.Rd(m)}else return null}},null,null)}(d)};
A0=function(a,b){$APP.B.j(b,0,null);var c=$APP.B.j(b,1,null),d=$APP.B.j(b,2,null),e=$APP.B.j(b,3,null),f=$APP.B.j(b,4,null);V_(d,b);n0(e,b);b=$APP.l(f)?f:o0(a);f=c0.h(a);c=Y_(f,c);e=X_(f,d)?Y_(f,e):e;var g=MZ.G(c,d,e,b);f=h0(f,d)?a_(f,new $APP.J(null,3,5,$APP.K,[c,d,e],null)):a_(f,new $APP.J(null,2,5,$APP.K,[c,d],null));return null==f?t0(a,g):$APP.A.g(f.v,e)?$APP.Tn.G(a,z0,ULa,g):t0(t0(a,MZ.P(c,d,f.v,b,!1)),g)};B0=function(a,b){var c=o0(a);return t0(a,MZ.P(b.e,b.a,b.v,c,!1))};
VLa=function(a,b){return $APP.Ji.j($APP.Cj,$APP.xq.g($APP.Vh.h(function(c){return g0(a,c.a,C_)}),$APP.ek.h(function(c){return new $APP.J(null,2,5,$APP.K,[C0,c.v],null)})),b)};
WLa=function(a,b,c,d,e){if($APP.cf(e0.h(a),d))throw $APP.Sm.g(["Conflicting upsert: ",$APP.yk.l($APP.C([d]))," resolves both to ",$APP.yk.l($APP.C([e]))," and ",$APP.yk.l($APP.C([$APP.Ap.g(a,new $APP.J(null,2,5,$APP.K,[e0,d],null))]))].join(""),new $APP.k(null,1,[$APP.zJ,w0],null));b=$APP.yj.j(e0.h(b),d,e);a=$APP.yj.j(a,e0,b);return D0.g?D0.g(a,c):D0.call(null,a,c)};
XLa=function(a){var b=c0.h(a);i_(b);j_(b,F_);return $APP.tf(function(c,d,e){return $APP.tf(function(f,g,m){m=$APP.vh($APP.qb,m)?null:m;var r=HZ.h($APP.v(b_(b,$APP.m_,new $APP.J(null,2,5,$APP.K,[d,g],null))));return $APP.A.g(m,r)?f:null==m?$APP.vg.g(f,$APP.Ce(new $APP.J(null,4,5,$APP.K,[E0,d,g,r],null),new $APP.k(null,1,[F0,!0],null))):$APP.vg.g(f,$APP.Ce(new $APP.J(null,4,5,$APP.K,[y0,d,g,m],null),new $APP.k(null,1,[F0,!0],null)))},c,e)},$APP.Xh,s0.h(a))};
YLa=function(a){var b=G0.h(a);b=$APP.nf.j(function(c,d){return $APP.l($APP.CZ(d))?$APP.Im.g(c,$APP.JL.h(d)):c},b,$APP.P.g(d0.h(a),z0.h(a)));if($APP.Ge(b))return $APP.Im.l(a,G0,$APP.C([z0]));throw $APP.Sm.g(["Tempids used only as value in transaction: ",$APP.yk.l($APP.C([$APP.Fl.h($APP.wj(b))]))].join(""),new $APP.k(null,2,[$APP.zJ,l0,e0,b],null));};
D0=function(a,b){if(null!=b&&!$APP.Ke(b))throw $APP.Sm.g(["Bad transaction data ",$APP.yk.l($APP.C([b])),", expected sequential collection"].join(""),new $APP.k(null,2,[$APP.zJ,l0,d0,b],null));for(var c=!$APP.Ge(j_(c0.h(a),E_)),d=c?$APP.Yn.g(b,$APP.yq.h(ZLa)):b,e=a,f=d;;){if($APP.Ge(f))return $APP.Tn.P($APP.Tn.P(YLa(e),e0,$APP.yj,JLa,o0(e)),c0,$APP.Tn,p_,$APP.Zd);var g=f,m=$APP.u(g),r=$APP.v(m),n=$APP.y(m),w=r,x=n;if(null==w)f=x;else if($APP.A.g(ZLa,w))if($APP.cf(e,s0)){var z=$APP.Im.g(e,s0);x=$APP.P.g(XLa(e),
x);e=z;f=x}else f=x;else{var F=c0.h(e),M=e0.h(e);if($APP.Me(w)){var T=x0.h(w);if(p0(T))z=o0(e),e=r0(e,T,z),f=x=$APP.Bg($APP.yj.j(w,x0,z),x);else if($APP.Ke(T))z=Y_(F,T),f=x=$APP.Bg($APP.yj.j(w,x0,z),x);else{var X=OLa(F,w);z=$APP.B.j(X,0,null);X=$APP.B.j(X,1,null);var aa=RLa(z,X);if(null!=aa){if(q0(T)&&$APP.cf(M,T)&&$APP.xj.g(aa,$APP.D.g(M,T)))return WLa(a,e,b,T,aa);e=$APP.Tn.G(r0(e,T,aa),z0,ULa,MZ.G(aa,null,null,536870912));f=x=$APP.P.g(TLa(F,$APP.yj.j(z,x0,aa)),x)}else if("number"===typeof T||null==
T||"string"===typeof T)z=null==T?o_.h(F)+1:q0(T)?function(){var La=$APP.D.g(M,T);return $APP.l(La)?La:o_.h(F)+1}():T,w=$APP.yj.j(w,x0,z),e=r0(e,T,z),f=x=$APP.P.g(TLa(F,w),x);else throw $APP.Sm.g(["Expected number, string or lookup ref for :db/id, got ",$APP.yk.l($APP.C([T]))].join(""),new $APP.k(null,2,[$APP.zJ,HLa,$La,w],null));}}else if($APP.Ke(w)){var ba=w;X=$APP.B.j(ba,0,null);var ca=$APP.B.j(ba,1,null);z=$APP.B.j(ba,2,null);var ja=$APP.B.j(ba,3,null);if($APP.A.g(X,H0)){z=$APP.u(w);w=$APP.v(z);
z=$APP.y(z);var oa=w;w=$APP.v(z);z=$APP.y(z);f=x=$APP.P.g($APP.zh.j(w,F,z),x)}else if(X instanceof $APP.G&&$APP.vb(I0.h?I0.h(X):I0.call(null,X))){oa=k0(F,X);if(null==oa)throw $APP.Sm.g(["Can’t find entity for transaction fn ",$APP.yk.l($APP.C([X]))].join(""),new $APP.k(null,3,[$APP.zJ,l0,J0,H0,d0,w],null));ca=HZ.h(a_(F,new $APP.J(null,2,5,$APP.K,[oa,aMa],null)));z=$APP.y(w);if($APP.Ae(ca))f=x=$APP.P.g($APP.zh.j(ca,F,z),x);else throw $APP.Sm.g(["Entity ",$APP.yk.l($APP.C([X]))," expected to have :db/fn attribute with fn? value"].join(""),
new $APP.k(null,3,[$APP.zJ,l0,J0,H0,d0,w],null));}else{if(q0(ca)&&$APP.xj.g(X,y0))throw $APP.Sm.g(["Can't use tempid in '",$APP.yk.l($APP.C([w])),"'. Tempids are allowed in :db/add only"].join(""),new $APP.k(null,2,[$APP.zJ,l0,$APP.UG,w],null));if($APP.A.g(X,bMa)||$APP.A.g(X,cMa)){var ma=w;oa=$APP.B.j(ma,0,null);var O=$APP.B.j(ma,1,null),I=$APP.B.j(ma,2,null),la=$APP.B.j(ma,3,null),S=$APP.B.j(ma,4,null),W=Y_(F,O),ia=V_(I,w),na=X_(F,I)?Y_(F,la):la,pa=X_(F,I)?Y_(F,S):S,wa=n0(pa,w),za=$APP.pf($Z(F,new $APP.J(null,
2,5,$APP.K,[W,I],null)));if(h0(F,I))if($APP.l($APP.wh(function(La,Za,cb,$a,Xa,lb,tb,sb,Vb,$b,nc){return function(Fc){return $APP.A.g(Fc.v,nc)}}(e,f,ma,oa,O,I,la,S,W,ia,na,pa,wa,za,ba,X,ca,z,ja,F,M,g,m,r,n,w,x,a,c,d),za)))e=A0(e,new $APP.J(null,4,5,$APP.K,[y0,W,I,pa],null)),f=x;else throw $APP.Sm.g([":db.fn/cas failed on datom [",$APP.yk.l($APP.C([W]))," ",$APP.yk.l($APP.C([I]))," ",$APP.yk.l($APP.C([$APP.ek.g(HZ,za)])),"], expected ",$APP.yk.l($APP.C([na]))].join(""),new $APP.k(null,4,[$APP.zJ,dMa,
eMa,za,$APP.gH,na,fMa,pa],null));else if(X=HZ.h($APP.v(za)),$APP.A.g(X,na))e=A0(e,new $APP.J(null,4,5,$APP.K,[y0,W,I,pa],null)),f=x;else throw $APP.Sm.g([":db.fn/cas failed on datom [",$APP.yk.l($APP.C([W]))," ",$APP.yk.l($APP.C([I]))," ",$APP.yk.l($APP.C([X])),"], expected ",$APP.yk.l($APP.C([na]))].join(""),new $APP.k(null,4,[$APP.zJ,dMa,eMa,$APP.v(za),$APP.gH,na,fMa,pa],null));}else if(p0(ca))w=r0(e,ca,o0(e)),x=$APP.Bg(new $APP.J(null,4,5,$APP.K,[X,o0(e),z,ja],null),x),e=w,f=x;else if(X_(F,z)&&
p0(ja))w=r0(e,ja,o0(e)),x=$APP.Bg(new $APP.J(null,4,5,$APP.K,[X,ca,z,o0(e)],null),x),e=w,f=x;else if(X_(F,z)&&q0(ja))oa=$APP.D.g(M,ja),null==oa?(w=o_.h(F)+1,e=$APP.Tn.P(r0(e,ja,w),G0,$APP.yj,w,ja),f=x=f):(w=oa,e=$APP.Tn.P(e,G0,$APP.yj,w,ja),f=x=$APP.Bg(new $APP.J(null,4,5,$APP.K,[X,ca,z,w],null),x));else if(q0(ca)){aa=g0(F,z,x_)?$APP.JL.h($APP.v(b_(F,e_,new $APP.J(null,2,5,$APP.K,[z,ja],null)))):null;var Ea=$APP.D.g(M,ca);if($APP.l(function(){var La=aa;return $APP.l(La)?(La=Ea,$APP.l(La)?$APP.xj.g(aa,
Ea):La):La}()))return WLa(a,e,b,ca,aa);w=function(){var La=aa;if($APP.l(La))return La;La=Ea;return $APP.l(La)?La:o_.h(F)+1}();e=r0(e,ca,w);f=x=$APP.Bg(new $APP.J(null,4,5,$APP.K,[X,w,z,ja],null),x)}else if($APP.vb(F0.h($APP.De(w)))&&g0(F,z,E_))if(O=$APP.Ap.g(F,new $APP.J(null,3,5,$APP.K,[$APP.l_,z,D_],null)),$APP.A.g($APP.me(O),$APP.me(ja))&&$APP.vh($APP.wb,ja)&&$APP.vh(function(La,Za,cb,$a,Xa,lb,tb,sb,Vb){return function($b){var nc=$APP.B.j($b,0,null);$b=$APP.B.j($b,1,null);nc=HZ.h($APP.v(b_(Vb,
$APP.m_,new $APP.J(null,2,5,$APP.K,[lb,nc],null))));return $APP.A.g($b,nc)}}(e,f,O,ba,X,ca,z,ja,F,M,g,m,r,n,w,x,a,c,d),$APP.ek.j($APP.iw,O,ja)))f=x;else throw $APP.Sm.g(["Can’t modify tuple attrs directly: ",$APP.yk.l($APP.C([w]))].join(""),new $APP.k(null,2,[$APP.zJ,l0,d0,w],null));else if($APP.A.g(X,y0))e=A0(e,w),f=x;else if($APP.A.g(X,E0)&&null!=ja)oa=k0(F,ca),null==oa?f=x:(O=oa,X=X_(F,z)?Y_(F,ja):ja,V_(z,w),n0(X,w),z=a_(F,new $APP.J(null,3,5,$APP.K,[O,z,X],null)),null==z?f=x:(e=B0(e,z),f=x));
else if($APP.A.g(X,gMa)||$APP.A.g(X,E0))oa=k0(F,ca),null==oa?f=x:(O=oa,oa=V_(z,w),za=$APP.pf($Z(F,new $APP.J(null,2,5,$APP.K,[O,z],null))),e=$APP.nf.j(B0,e,za),f=x=$APP.P.g(VLa(F,za),x));else if($APP.A.g(X,C0)||$APP.A.g(X,hMa))oa=k0(F,ca),null==oa?f=x:(O=oa,za=$APP.pf($Z(F,new $APP.J(null,1,5,$APP.K,[O],null))),z=$APP.pf($APP.Sh.l(function(La,Za,cb,$a,Xa,lb,tb,sb,Vb,$b,nc){return function(Fc){return $Z(nc,new $APP.J(null,3,5,$APP.K,[null,Fc,$a],null))}}(e,f,za,O,oa,ba,X,ca,z,ja,F,M,g,m,r,n,w,x,a,
c,d),$APP.C([j_(F,B_)]))),e=$APP.nf.j(B0,e,$APP.P.g(za,z)),f=x=$APP.P.g(VLa(F,za),x));else throw $APP.Sm.g(["Unknown operation at ",$APP.yk.l($APP.C([w])),", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute, :db.fn/retractEntity or an ident corresponding to an installed transaction function (e.g. {:db/ident \x3ckeyword\x3e :db/fn \x3cIfn\x3e}, usage of :db/ident requires {:db/unique :db.unique/identity} in schema)"].join(""),new $APP.k(null,3,[$APP.zJ,l0,J0,X,d0,w],null));}}else if(oLa(w))X=
w,ca=$APP.B.j(X,0,null),z=$APP.B.j(X,1,null),ja=$APP.B.j(X,2,null),w=$APP.B.j(X,3,null),X=$APP.B.j(X,4,null),$APP.l(X)?(e=A0(e,new $APP.J(null,5,5,$APP.K,[y0,ca,z,ja,w],null)),f=x):f=x=$APP.Bg(new $APP.J(null,4,5,$APP.K,[E0,ca,z,ja],null),x);else throw $APP.Sm.g(["Bad entity type at ",$APP.yk.l($APP.C([w])),", expected map or vector"].join(""),new $APP.k(null,2,[$APP.zJ,l0,d0,w],null));}}};
L0=function(a,b){b="number"===typeof b||$APP.Ke(b)||b instanceof $APP.G?k0(a,b):null;if($APP.l(b)){var c=$APP.Ih(!1),d=$APP.Ih($APP.ah);return K0.G?K0.G(a,b,c,d):K0.call(null,a,b,c,d)}return null};iMa=function(a,b,c){return h0(a,b)?X_(a,b)?$APP.nf.j(function(d,e){return $APP.vg.g(d,L0(a,HZ.h(e)))},$APP.Cj,c):$APP.nf.j(function(d,e){return $APP.vg.g(d,HZ.h(e))},$APP.Cj,c):X_(a,b)?L0(a,HZ.h($APP.v(c))):HZ.h($APP.v(c))};
jMa=function(a,b,c,d){b=$APP.ch($Z(a,new $APP.J(null,3,5,$APP.K,[null,c,b],null)));return $APP.l(b)?g0(a,c,C_)?L0(a,$APP.JL.h($APP.v(b))):$APP.nf.j(function(e,f){return $APP.vg.g(e,L0(a,$APP.JL.h(f)))},$APP.Cj,b):d};M0=function(a){return $APP.l(a)?$APP.of(a):null};
O0=function(a){N0.h?N0.h(a):N0.call(null,a);return function d(c){return new $APP.Hg(null,function(){for(;;){var e=$APP.u(c);if(e){if($APP.Pe(e)){var f=$APP.hd(e),g=$APP.me(f),m=$APP.Kg(g);a:for(var r=0;;)if(r<g){var n=$APP.ze(f,r),w=$APP.B.j(n,0,null);n=$APP.B.j(n,1,null);$APP.Og(m,h0(a.db,w)?new $APP.J(null,2,5,$APP.K,[w,M0(n)],null):new $APP.J(null,2,5,$APP.K,[w,n],null));r+=1}else{f=!0;break a}return f?$APP.Ng($APP.Pg(m),d($APP.id(e))):$APP.Ng($APP.Pg(m),null)}f=$APP.v(e);m=$APP.B.j(f,0,null);
f=$APP.B.j(f,1,null);return $APP.Bg(h0(a.db,m)?new $APP.J(null,2,5,$APP.K,[m,M0(f)],null):new $APP.J(null,2,5,$APP.K,[m,f],null),d($APP.Rd(e)))}return null}},null,null)}($APP.q(a.cache))};P0=function(a,b,c,d){this.db=a;this.eid=b;this.ai=c;this.cache=d;this.I=2162164483;this.M=0};K0=function(a,b,c,d){return new P0(a,b,c,d)};Q0=function(a,b){return b instanceof P0&&$APP.A.g(a.eid,b.eid)};
T0=function(a){switch(arguments.length){case 2:return R0(arguments[0],arguments[1]);case 3:return S0(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.p.h(arguments.length)].join(""));}};R0=function(a,b){return S0(a,b,null)};
S0=function(a,b,c){if($APP.A.g(b,x0))return a.eid;if(u0(b))return jMa(a.db,a.eid,v0(b),c);var d=$APP.q(a.cache);d=d.h?d.h(b):d.call(null,b);if(null==d){if($APP.l($APP.q(a.ai)))return c;d=$APP.ch($Z(a.db,new $APP.J(null,2,5,$APP.K,[a.eid,b],null)));if(null==d)return c;c=iMa(a.db,b,d);$APP.Jh(a.cache,$APP.yj.j($APP.q(a.cache),b,c));return c}return d};
kMa=function(a,b){return $APP.tf(function(c,d,e){return $APP.yj.j(c,d,g0(a,d,C_)?h0(a,d)?$APP.Fj($APP.ek.g(N0,e)):N0.h?N0.h(e):N0.call(null,e):e)},$APP.ah,b)};lMa=function(a,b){return $APP.nf.j(function(c,d){var e=IZ.h($APP.v(d));return $APP.yj.j(c,e,iMa(a,e,d))},$APP.ah,$APP.zw.g(IZ,b))};N0=function(a){if(!$APP.l($APP.q(a.ai))){var b=$APP.ch($Z(a.db,new $APP.J(null,1,5,$APP.K,[a.eid],null)));$APP.l(b)&&($APP.Jh(a.cache,kMa(a.db,lMa(a.db,b))),$APP.pd(a.ai,!0))}return a};
U0=function(a){return $APP.nf.j($APP.Bv,0,a)};mMa=function(a){return U0(a)/$APP.me(a)};
nMa=function(a){var b=mMa(a);return U0(function(){return function e(d){return new $APP.Hg(null,function(){for(;;){var f=$APP.u(d);if(f){if($APP.Pe(f)){var g=$APP.hd(f),m=$APP.me(g),r=$APP.Kg(m);a:for(var n=0;;)if(n<m){var w=$APP.ze(g,n)-b;r.add(w*w);n+=1}else{g=!0;break a}return g?$APP.Ng($APP.Pg(r),e($APP.id(f))):$APP.Ng($APP.Pg(r),null)}r=$APP.v(f)-b;return $APP.Bg(r*r,e($APP.Rd(f)))}return null}},null,null)}(a)}())/$APP.me(a)};
V0=function(a,b,c,d,e,f,g,m,r,n,w,x,z,F,M){this.as=a;this.zc=b;this.ub=c;this.name=d;this.pattern=e;this.fc=f;this.ya=g;this.lc=m;this.wb=r;this.dc=n;this.hc=w;this.bc=x;this.A=z;this.o=F;this.D=M;this.I=2230716170;this.M=139264};
oMa=function(a){var b=$APP.Im.l(a,$APP.Bq,$APP.C([$APP.Gn,W0,$APP.R,X0,Y0,Z0,$0,a1,b1,c1,d1]));b=$APP.Ne(a)?$APP.Ji.g($APP.ah,b):b;return new V0($APP.Bq.h(a),$APP.Gn.h(a),W0.h(a),$APP.R.h(a),X0.h(a),Y0.h(a),Z0.h(a),$0.h(a),a1.h(a),b1.h(a),c1.h(a),d1.h(a),null,$APP.ch(b),null)};e1=function(a,b,c,d,e,f,g,m){this.oa=a;this.Yc=b;this.jd=c;this.Tc=d;this.oc=e;this.A=f;this.o=g;this.D=m;this.I=2230716170;this.M=139264};
k1=function(a){var b=$APP.Im.l(a,f1,$APP.C([g1,h1,i1,j1]));b=$APP.Ne(a)?$APP.Ji.g($APP.ah,b):b;return new e1(f1.h(a),g1.h(a),h1.h(a),i1.h(a),j1.h(a),null,$APP.ch(b),null)};m1=function(a,b,c){if($APP.l(a))return null;throw $APP.Sm.g(["Expected ",$APP.p.h(b),", got: ",$APP.yk.l($APP.C([c]))].join(""),new $APP.k(null,2,[$APP.zJ,pMa,l1,c],null));};
rMa=function(a,b){var c=u0(b),d=c?v0(b):b,e=X_(a,d),f=g0(a,d,C_);a=h0(a,d);if(c){m1(e,"reverse attribute having :db.type/ref",b);var g=!0}else g=null;return oMa($APP.kj([a1,W0,$0,$APP.R,$APP.Bq,d1,c1,b1,X0],[$APP.uf,a?1E3:null,g,d,b,f?!0:null,e?!0:null,a?!0:null,e?c?n1:f?qMa:n1:null]))};sMa=function(a,b,c){m1("number"===typeof c&&0<c||null==c,"(positive-number | nil)",c);m1(h0(a,$APP.R.h(b)),"limit attribute having :db.cardinality/many",$APP.R.h(b))};
tMa=function(a,b){var c=function(){var d=$APP.v(b);return o1.g?o1.g(a,d):o1.call(null,a,d)}();if(null==c)return null;m1($APP.xh($APP.me($APP.y(b))),"even number of opts",b);return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);switch(f instanceof $APP.G?f.S:null){case "as":return $APP.yj.j(d,$APP.Bq,e);case "limit":return sMa(a,d,e),$APP.yj.j(d,W0,e);case "default":return $APP.yj.j(d,$APP.Gn,e);case "xform":f=$APP.yj.j;var g=$APP.Ae(e)?e:null;if($APP.l(g))e=g;else if(g=$APP.D.g(p1,
e),$APP.l(g))e=g;else throw $APP.Sm.g(["Can't resolve symbol ",$APP.yk.l($APP.C([e]))].join(""),new $APP.k(null,2,[$APP.zJ,pMa,l1,e],null));return f.call($APP.yj,d,a1,e);default:return m1(!1,"one of :as, :limit, :default, :xform",b)}},c,$APP.zq.g(2,$APP.y(b)))};
o1=function(a,b){var c;!(c=b instanceof $APP.G)&&(c="string"===typeof b)&&(c=new $APP.Bj(null,new $APP.k(null,2,["limit",null,"default",null],null),null),c=c.h?c.h(b):c.call(null,b),c=$APP.vb(c));if(c)return rMa(a,b);if($APP.Ke(b)){c=tMa(a,b);if($APP.l(c))return c;c=$APP.v(b);var d=new $APP.Bj(null,new $APP.k(null,2,[$APP.Fla,null,"limit",null],null),null);c=d.h?d.h(c):d.call(null,c);$APP.l(c)?(m1($APP.A.g($APP.me(b),3),"['limit attr-name (positive-number | nil)]",b),$APP.B.j(b,0,null),d=$APP.B.j(b,
1,null),c=$APP.B.j(b,2,null),d=o1.g?o1.g(a,d):o1.call(null,a,d),sMa(a,d,c),c=$APP.yj.j(d,W0,c)):c=null;if($APP.l(c))return c;c=$APP.v(b);d=new $APP.Bj(null,new $APP.k(null,2,[$APP.kL,null,"default",null],null),null);c=d.h?d.h(c):d.call(null,c);$APP.l(c)?(m1($APP.A.g($APP.me(b),3),"['default attr-name any-value]",b),$APP.B.j(b,0,null),d=$APP.B.j(b,1,null),c=$APP.B.j(b,2,null),a=o1.g?o1.g(a,d):o1.call(null,a,d),a=$APP.yj.j(a,$APP.Gn,c)):a=null;return $APP.l(a)?a:m1(!1,"[attr-name attr-option+] | ['limit attr-name (positive-num | nil)] | ['default attr-name any-val]",
b)}return null};uMa=function(a,b){return $APP.wh(function(c){var d=$APP.B.j(c,0,null);c=$APP.B.j(c,1,null);return $APP.l(a.h?a.h(d):a.call(null,d))?c:null},$APP.ek.j($APP.iw,b,$APP.lo.C()))};vMa=function(a,b){var c=$APP.l($0.h(b))?i1:f1,d=uMa(function(e){return $APP.A.g($APP.Bq.h(e),$APP.Bq.h(b))},$APP.D.g(a,c));return null==d?$APP.Tn.G(a,c,$APP.vg,b):$APP.Tn.P(a,c,$APP.yj,d,b)};
r1=function(a,b){m1($APP.Ke(b),"pattern to be sequential?",b);for(var c=k1(new $APP.k(null,3,[f1,$APP.Xh,i1,$APP.Xh,j1,null],null));;){if($APP.Ge(b)){var d=c.oa,e=function(){return function(m){m=m.name;var r=new $APP.Bj(null,new $APP.k(null,2,[x0,null,":db/id",null],null),null);return r.h?r.h(m):r.call(null,m)}}(b,c,d);b=function(){return function(m){m=$APP.R.h(m);return m instanceof $APP.G?m:$APP.A.g(":",$APP.Xj.j(m,0,1))?$APP.fk.h($APP.Xj.g(m,1)):$APP.fk.h(m)}}(b,c,d,e);d=$APP.l(function(){var m=
c.oc;return $APP.l(m)?$APP.vb($APP.wh(e,c.oa)):m}())?$APP.vg.g(d,wMa):d;d=$APP.tt.h($APP.yv.g(b,d));var f=$APP.ps.g(e,d),g=$APP.v(f);f=$APP.xe(f);return k1(new $APP.k(null,5,[f1,d,g1,g,h1,f,i1,$APP.tt.h($APP.yv.g(b,c.Tc)),j1,c.oc],null))}g=$APP.v(b);if($APP.A.g($APP.BH,g)||$APP.A.g("*",g)||$APP.A.g(xMa,g))b=$APP.y(b),c=d=$APP.yj.j(c,j1,!0);else if($APP.Me(g))d=$APP.tf(function(){return function(m,r,n){var w=o1(a,r);m1(null!=w,"attr-name | attr-expr",r);m1(X_(a,$APP.R.h(w)),"attribute having :db.type/ref",
r);$APP.A.g(q1,n)||$APP.A.g("...",n)?r=$APP.yj.l(w,X0,null,$APP.C([Z0,!0,Y0,null])):"number"===typeof n?(m1(0<n,"(positive-num | ...)",$APP.$g([r,n])),r=$APP.yj.l(w,X0,null,$APP.C([Z0,!0,Y0,n]))):r=$APP.yj.j(w,X0,r1.g?r1.g(a,n):r1.call(null,a,n));return vMa(m,r)}}(b,c,g),c,g),b=$APP.y(b),c=d;else{d=o1(a,g);if(null==d)return m1(!1,"attr-name | attr-expr | map-spec | *",g);b=$APP.y(b);c=d=vMa(c,d)}}};s1=function(a){return null==a?null:$APP.Tb(a)};t1=function(a){return null==a?null:$APP.Xb(a)};
u1=function(a,b){return null==a?new $APP.E(null,b,null,1,null):$APP.Qb(a,b)};v1=function(a,b,c,d,e){this.db=a;this.he=b;this.A=c;this.o=d;this.D=e;this.I=2230716170;this.M=139264};w1=function(a,b,c,d,e){a=a.he;null==a||(a.G?a.G(b,c,d,e):a.call(null,b,c,d,e))};x1=function(a,b){if(null!=a&&null!=a.Mg)a=a.Mg(a,b);else{var c=x1[$APP.fa(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=x1._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw $APP.Db("IFrame.-merge",a);}return a};
y1=function(a,b){if(null!=a&&null!=a.Pf)a=a.Pf(a,b);else{var c=y1[$APP.fa(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=y1._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw $APP.Db("IFrame.-run",a);}return a};z1=function(a,b,c,d,e){this.value=a;this.va=b;this.A=c;this.o=d;this.D=e;this.I=2230716170;this.M=139264};A1=function(a,b,c,d,e,f){this.ka=a;this.ga=b;this.va=c;this.A=d;this.o=e;this.D=f;this.I=2230716170;this.M=139264};
B1=function(a,b,c,d,e,f,g,m,r){this.qa=a;this.wa=b;this.ka=c;this.pattern=d;this.ga=e;this.va=f;this.A=g;this.o=m;this.D=r;this.I=2230716170;this.M=139264};C1=function(a,b,c,d,e,f,g,m,r,n,w){this.qa=a;this.wa=b;this.ka=c;this.pattern=d;this.ga=e;this.oa=f;this.va=g;this.id=m;this.A=r;this.o=n;this.D=w;this.I=2230716170;this.M=139264};D1=function(a,b,c,d,e,f,g,m,r,n){this.qa=a;this.wa=b;this.ka=c;this.pattern=d;this.ga=e;this.oa=f;this.id=g;this.A=m;this.o=r;this.D=n;this.I=2230716170;this.M=139264};
E1=function(a,b,c,d,e,f,g){return new D1(a,b,c,d,e,f,g,null,null,null)};
G1=function(a,b,c,d,e,f){var g=e.ya;$APP.l(g)||(g=e.bc,g=$APP.l(g)?e.pattern.oc:g);if($APP.vb(g))return d=e.pattern,F1.P?F1.P(a,b,c,d,f):F1.call(null,a,b,c,d,f);if($APP.l(b.h?b.h(f):b.call(null,f)))return new z1(new $APP.k(null,1,[x0,f],null),null,null,null,null);g=c.h?c.h(e):c.call(null,e);if($APP.l($APP.l(g)?0>=g:g))return new z1(null,null,null,null,null);b=$APP.vg.g(b,f);c=$APP.l(g)?$APP.Tn.j(c,e,$APP.vf):$APP.l(e.fc)?$APP.yj.j(c,e,e.fc-1):c;d=$APP.l(e.ya)?d:e.pattern;return F1.P?F1.P(a,b,c,d,
f):F1.call(null,a,b,c,d,f)};
F1=function(a,b,c,d,e){var f=a.db,g=$APP.l(function(){var m=d.oc;return $APP.l(m)?f instanceof $APP.k_:m}())?wZ(f.Sb,MZ.G(e,null,null,536870912),MZ.G(e,null,null,2147483647)):$APP.l(d.oc)?$Z(f,new $APP.J(null,1,5,$APP.K,[e],null)):null==d.Yc?null:function(){var m=d.Yc.name,r=d.jd.name;return f instanceof $APP.k_?wZ(f.Sb,MZ.G(e,m,null,536870912),MZ.G(e,r,null,2147483647)):c_(f,$APP.m_,new $APP.J(null,1,5,$APP.K,[e],null))}();$APP.l(d.oc)&&w1(a,yMa,e,null,null);return new C1(b,c,$APP.Yc($APP.ah),d,
s1(d.oa),t1(d.oa),g,e,null,null,null)};H1=function(a,b){var c=$APP.bh(a);a=$APP.D.g(c,m0);c=$APP.D.g(c,X0);b=k0(a.db,b);if(null==b)return null;for(c=new $APP.E(null,F1(a,$APP.Cj,$APP.ah,c,b),null,1,null);;){b=s1(c);var d=t1(c);if(b instanceof z1){if(null==d)return b.value;c=s1(d);d=t1(d);c=u1(d,x1(c,b))}else c=$APP.nf.j(u1,d,y1(b,a))}};J1=function(a,b,c){c=$APP.bh(c);c=$APP.D.g(c,I1);return new $APP.k(null,2,[X0,MY(xLa(a).uc,b,function(){return r1(a,b)}),m0,new v1(a,c,null,null,null)],null)};
K1=function(a,b){return $APP.rb(a)?a[b]:$APP.B.g(a,b)};L1=function(a,b){return $APP.Me(a)?a.h?a.h(b):a.call(null,b):a[b]};M1=function(a,b){var c=Array($APP.me(b));$APP.nf.j(function(d,e){c[d]=a.h?a.h(e):a.call(null,e);return d+1},0,b);return c};N1=function(a,b){var c=Array($APP.me(b));$APP.nf.j(function(d,e){c[d]=a.g?a.g(d,e):a.call(null,d,e);return d+1},0,b);return c};zMa=function(a,b){return null==b.a?-1:0>=$APP.ff(a.a,b.a)?-1:1};
AMa=function(a){if($APP.Ge(n_.h(a)))return $APP.Xh;for(var b=$APP.Yc(new $APP.J(null,1,5,$APP.K,[IZ.h($APP.v(n_.h(a)))],null));;){var c=$APP.B.g(b,$APP.me(b)-1),d=MZ.j(0,c,null),e=MZ.j(2147483647,null,null);c=IZ;var f=c.h,g=n_.h(a);d=tZ(g,d,e,zMa);c=f.call(c,$APP.v(d));if(null!=c)b=$APP.Wh.g(b,c);else return $APP.$c(b)}};BMa=function(a){return $APP.Ca(a,":")?$APP.fk.h($APP.Xj.g(a,1)):a};
EMa=function(a,b){b=$APP.bh(b);var c=$APP.D.j(b,CMa,$APP.yk),d=$APP.D.j(b,DMa,$APP.p),e=AMa(a),f=$APP.Ji.g($APP.ah,$APP.ek.j($APP.iw,e,$APP.lo.C())),g=$APP.Ih($APP.Yc($APP.Xh)),m=$APP.Ih($APP.Yc($APP.ah));b=N1(function(x,z){z.idx=x|0;x=z.e;var F=z.a;F=f.h?f.h(F):f.call(null,F);var M=z.v;if("string"!==typeof M)if("number"===typeof M)M=Infinity===M?[2]:-Infinity===M?[3]:$APP.l(isNaN(M))?[4]:M;else if(!$APP.Ue(M))if(M instanceof $APP.G){var T=$APP.D.g($APP.q(m),M);$APP.l(T)?M=T:(T=g.Wc(null,$APP.Wh.g(g.Qa(null),
M)),T=$APP.me(T)-1,m.Wc(null,$APP.Li.j(m.Qa(null),M,T)),M=T);M=[0,M]}else M=[1,c.h?c.h(M):c.call(null,M)];return[x,F,M,z.tx-536870912]},$APP.m_.h(a));var r=N1(function(x,z){return z.idx},n_.h(a)),n=N1(function(x,z){return z.idx},e_.h(a)),w=function(){var x=$APP.l_.h(a);return c.h?c.h(x):c.call(null,x)}();e=M1(d,e);d=M1(d,$APP.$c($APP.q(g)));return{count:$APP.me($APP.m_.h(a)),tx0:536870912,"max-eid":o_.h(a),"max-tx":p_.h(a),schema:w,attrs:e,keywords:d,eavt:b,aevt:r,avet:n}};O1=function(){};
P1=function(a,b,c){if(null!=a&&null!=a.sb)a=a.sb(a,b,c);else{var d=P1[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=P1._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Db("ITraversable.-collect",a);}return a};Q1=function(a,b){if(null!=a&&null!=a.tb)a=a.tb(a,b);else{var c=Q1[$APP.fa(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=Q1._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw $APP.Db("ITraversable.-collect-vars",a);}return a};
R1=function(a,b){return $APP.Ke(a)&&$APP.A.g($APP.me(a),b)};S1=function(a,b){return $APP.Ke(b)?$APP.nf.j(function(c,d){d=a.h?a.h(d):a.call(null,d);return $APP.l(d)?$APP.vg.g(c,d):$APP.ae(null)},$APP.Xh,b):null};U1=function(a,b){return T1(a,b,$APP.Xh)};T1=function(a,b,c){return $APP.l(a.h?a.h(b):a.call(null,b))?$APP.vg.g(c,b):(null!=b?$APP.Cd===b.rb||(b.Cd?0:$APP.Bb(O1,b)):$APP.Bb(O1,b))?P1(b,a,c):zZ(b)?$APP.nf.j(function(d,e){return T1(a,e,d)},c,b):c};
V1=function(a){var b=$APP.Ge(a);return b?b:$APP.zh.g($APP.ip,a)};W1=function(a,b){return $APP.Ce(a,new $APP.k(null,1,[$APP.Gm,b],null))};X1=function(a){var b=$APP.Gm.h($APP.De(a));return $APP.l(b)?b:a};Y1=function(a,b,c){this.A=a;this.o=b;this.D=c;this.I=2230716170;this.M=139264};Z1=function(a,b,c,d){this.Ja=a;this.A=b;this.o=c;this.D=d;this.I=2230716170;this.M=139264};$1=function(a,b,c,d){this.Ja=a;this.A=b;this.o=c;this.D=d;this.I=2230716170;this.M=139264};
a2=function(a,b,c){this.A=a;this.o=b;this.D=c;this.I=2230716170;this.M=139264};b2=function(a,b,c){this.A=a;this.o=b;this.D=c;this.I=2230716170;this.M=139264};c2=function(a,b,c,d){this.value=a;this.A=b;this.o=c;this.D=d;this.I=2230716170;this.M=139264};d2=function(a,b,c,d){this.Ja=a;this.A=b;this.o=c;this.D=d;this.I=2230716170;this.M=139264};e2=function(a){return a instanceof $APP.t&&$APP.A.g($APP.v($APP.Hj(a)),"?")?new Z1(a,null,null,null):null};
GMa=function(a){var b=e2(a);if($APP.l(b))return b;throw $APP.Sm.g(["Cannot parse var, expected symbol starting with ?, got: ",$APP.yk.l($APP.C([a]))].join(""),new $APP.k(null,2,[$APP.zJ,FMa,$APP.ez,a],null));};f2=function(a){return a instanceof $APP.t&&$APP.A.g($APP.v($APP.Hj(a)),"$")?new $1(a,null,null,null):null};g2=function(a){return a instanceof $APP.t&&$APP.A.g($APP.v($APP.Hj(a)),"?")?null:new c2(a,null,null,null)};
h2=function(a){return a instanceof $APP.t&&$APP.vb(e2(a))&&$APP.vb(f2(a))&&$APP.vb($APP.A.g($APP.AH,a)?new b2(null,null,null):null)&&$APP.vb($APP.A.g($APP.HH,a)?new Y1(null,null,null):null)?new d2(a,null,null,null):null};HMa=function(a){return $APP.l(h2(a))?new Z1(a,null,null,null):null};i2=function(a){var b=e2(a);if($APP.l(b))return b;b=f2(a);return $APP.l(b)?b:g2(a)};j2=function(a,b,c,d,e){this.required=a;this.Hd=b;this.A=c;this.o=d;this.D=e;this.I=2230716170;this.M=139264};
IMa=function(a){if($APP.Ke(a)){var b=$APP.Ke($APP.v(a))?new $APP.J(null,2,5,$APP.K,[$APP.v(a),$APP.y(a)],null):new $APP.J(null,2,5,$APP.K,[null,a],null),c=$APP.B.j(b,0,null);b=$APP.B.j(b,1,null);c=S1(GMa,c);b=S1(GMa,b);if($APP.Ge(c)&&$APP.Ge(b))throw $APP.Sm.g("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new $APP.k(null,2,[$APP.zJ,k2,$APP.ez,a],null));if(!$APP.l(V1($APP.P.g(c,b))))throw $APP.Sm.g("Rule variables should be distinct",new $APP.k(null,2,[$APP.zJ,k2,$APP.ez,
a],null));return new j2(c,b,null,null,null)}throw $APP.Sm.g("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new $APP.k(null,2,[$APP.zJ,k2,$APP.ez,a],null));};m2=function(a){return $APP.P.g($APP.l($APP.JG.h(a))?new $APP.J(null,1,5,$APP.K,[$APP.vq.g($APP.wn,$APP.JG.h(a))],null):null,$APP.vq.g($APP.wn,l2.h(a)))};n2=function(a){return new $APP.J(null,2,5,$APP.K,[$APP.me($APP.JG.h(a)),$APP.me(l2.h(a))],null)};
o2=function(a,b,c){this.A=a;this.o=b;this.D=c;this.I=2230716170;this.M=139264};p2=function(a,b,c,d){this.Ob=a;this.A=b;this.o=c;this.D=d;this.I=2230716170;this.M=139264};q2=function(a,b,c,d){this.qc=a;this.A=b;this.o=c;this.D=d;this.I=2230716170;this.M=139264};r2=function(a,b,c,d){this.binding=a;this.A=b;this.o=c;this.D=d;this.I=2230716170;this.M=139264};JMa=function(a){return $APP.A.g($APP.HH,a)?W1(new o2(null,null,null),a):null};
KMa=function(a){var b=JMa(a);return $APP.l(b)?b:s2.h?s2.h(a):s2.call(null,a)};LMa=function(a){var b=S1(KMa,a);if($APP.l(b)){if($APP.Ge(b))throw $APP.Sm.g("Tuple binding cannot be empty",new $APP.k(null,2,[$APP.zJ,t2,$APP.ez,a],null));return W1(new q2(b,null,null,null),a)}return null};
s2=function(a){a:{if(R1(a,2)&&$APP.A.g($APP.re(a),q1)){var b=$APP.v(a);b=s2.h?s2.h(b):s2.call(null,b);if($APP.l(b)){b=W1(new r2(b,null,null,null),a);break a}throw $APP.Sm.g("Cannot parse collection binding",new $APP.k(null,2,[$APP.zJ,t2,$APP.ez,a],null));}b=null}if($APP.l(b))return b;b=R1(a,1)&&$APP.Ke($APP.v(a))?W1(new r2(LMa($APP.v(a)),null,null,null),a):null;if($APP.l(b))return b;b=LMa(a);if($APP.l(b))return b;b=JMa(a);if($APP.l(b))return b;b=e2(a);b=$APP.l(b)?W1(new p2(b,null,null,null),a):null;
if($APP.l(b))return b;throw $APP.Sm.g("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)",new $APP.k(null,2,[$APP.zJ,t2,$APP.ez,a],null));};u2=function(a){if(null!=a&&null!=a.Lg)a=a.Lg(a);else{var b=u2[$APP.fa(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=u2._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw $APP.Db("IFindVars.-find-vars",a);}return a};v2=function(a,b,c,d,e){this.ia=a;this.xa=b;this.A=c;this.o=d;this.D=e;this.I=2230716170;this.M=139264};
w2=function(a,b,c,d,e,f){this.source=a;this.Ob=b;this.pattern=c;this.A=d;this.o=e;this.D=f;this.I=2230716170;this.M=139264};x2=function(a){if(null!=a&&null!=a.Of)a=a.Of(a);else{var b=x2[$APP.fa(null==a?null:a)];if(null!=b)a=b.h?b.h(a):b.call(null,a);else if(b=x2._,null!=b)a=b.h?b.h(a):b.call(null,a);else throw $APP.Db("IFindElements.find-elements",a);}return a};y2=function(a,b,c,d){this.elements=a;this.A=b;this.o=c;this.D=d;this.I=2230716170;this.M=139264};
z2=function(a,b,c,d){this.element=a;this.A=b;this.o=c;this.D=d;this.I=2230716170;this.M=139264};A2=function(a,b,c,d){this.element=a;this.A=b;this.o=c;this.D=d;this.I=2230716170;this.M=139264};B2=function(a,b,c,d){this.elements=a;this.A=b;this.o=c;this.D=d;this.I=2230716170;this.M=139264};C2=function(a){return a instanceof v2};D2=function(a){return a instanceof w2};
H2=function(a){var b=e2(a);if($APP.l(b))return b;a:{if($APP.Ke(a)&&$APP.A.g($APP.v(a),E2)){if(3<=$APP.me(a)&&4>=$APP.me(a)){var c=(b=$APP.A.g($APP.me(a),4))?$APP.B.g(a,1):F2;b=b?$APP.we(a):$APP.y(a);var d=$APP.B.j(b,0,null);b=$APP.B.j(b,1,null);c=f2(c);d=e2(d);var e=e2(b);$APP.l(e)?b=e:(e=HMa(b),b=$APP.l(e)?e:g2(b));if($APP.l($APP.l(c)?$APP.l(d)?b:d:c)){b=new w2(c,d,b,null,null,null);break a}}throw $APP.Sm.g("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable | plain-symbol)]",
new $APP.k(null,2,[$APP.zJ,G2,l1,a],null));}b=null}if($APP.l(b))return b;a:{if($APP.Ke(a)&&$APP.A.g($APP.v(a),MMa)){if(3<=$APP.me(a)&&(b=$APP.u(a),$APP.v(b),c=$APP.y(b),b=$APP.v(c),c=$APP.y(c),b=e2(b),c=S1(i2,c),$APP.l($APP.l(b)?c:b))){b=new v2(b,c,null,null,null);break a}throw $APP.Sm.g("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]",new $APP.k(null,2,[$APP.zJ,G2,l1,a],null));}b=null}$APP.l(b)?a=b:$APP.Ke(a)&&2<=$APP.me(a)?(b=$APP.u(a),a=$APP.v(b),b=$APP.y(b),a=h2(a),
b=S1(i2,b),a=$APP.l($APP.l(a)?b:a)?new v2(a,b,null,null,null):null):a=null;return a};
NMa=function(a){var b=S1(H2,a);b=null==b?null:new y2(b,null,null,null);if($APP.l(b))return b;a:{if($APP.Ke(a)&&$APP.A.g($APP.me(a),1)&&(b=$APP.v(a),$APP.Ke(b)&&$APP.A.g($APP.me(b),2)&&$APP.A.g($APP.re(b),q1))){b=H2($APP.v(b));b=null==b?null:new z2(b,null,null,null);break a}b=null}if($APP.l(b))return b;$APP.Ke(a)&&$APP.A.g($APP.me(a),2)&&$APP.A.g($APP.re(a),$APP.vl)?(b=H2($APP.v(a)),b=null==b?null:new A2(b,null,null,null)):b=null;if($APP.l(b))return b;$APP.Ke(a)&&$APP.A.g($APP.me(a),1)?(b=$APP.v(a),
b=S1(H2,b),b=null==b?null:new B2(b,null,null,null)):b=null;if($APP.l(b))return b;throw $APP.Sm.g("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)",new $APP.k(null,2,[$APP.zJ,G2,l1,a],null));};I2=function(a,b,c,d,e){this.type=a;this.Md=b;this.A=c;this.o=d;this.D=e;this.I=2230716170;this.M=139264};
J2=function(a,b){if(!$APP.Ge(b)&&$APP.vh($APP.Fd,b))switch(a instanceof $APP.G?a.S:null){case "keys":return new I2(a,$APP.vq.g($APP.fk,b),null,null,null);case "syms":return new I2(a,$APP.pf(b),null,null,null);case "strs":return new I2(a,$APP.vq.g($APP.p,b),null,null,null);default:return null}else return null};OMa=function(a){var b=f2(a);$APP.l(b)||(b=$APP.A.g($APP.AH,a)?new b2(null,null,null):null,b=$APP.l(b)?b:HMa(a));return $APP.l(b)?W1(new p2(b,null,null,null),a):s2(a)};
QMa=function(a){var b=S1(OMa,a);if($APP.l(b))return b;throw $APP.Sm.g("Cannot parse :in clause, expected (src-var | % | plain-symbol | bind-scalar | bind-tuple | bind-coll | bind-rel)",new $APP.k(null,2,[$APP.zJ,PMa,$APP.ez,a],null));};K2=function(a,b,c,d,e){this.source=a;this.pattern=b;this.A=c;this.o=d;this.D=e;this.I=2230716170;this.M=139264};L2=function(a,b,c,d,e){this.ia=a;this.xa=b;this.A=c;this.o=d;this.D=e;this.I=2230716170;this.M=139264};
M2=function(a,b,c,d,e,f){this.ia=a;this.xa=b;this.binding=c;this.A=d;this.o=e;this.D=f;this.I=2230716170;this.M=139264};N2=function(a,b,c,d,e,f){this.source=a;this.name=b;this.xa=c;this.A=d;this.o=e;this.D=f;this.I=2230716170;this.M=139264};O2=function(a,b,c,d,e,f){this.source=a;this.Pb=b;this.Ca=c;this.A=d;this.o=e;this.D=f;this.I=2230716170;this.M=139264};P2=function(a,b,c,d,e,f){this.source=a;this.ld=b;this.Ca=c;this.A=d;this.o=e;this.D=f;this.I=2230716170;this.M=139264};
Q2=function(a,b,c,d){this.Ca=a;this.A=b;this.o=c;this.D=d;this.I=2230716170;this.M=139264};RMa=function(a){var b=$APP.A.g($APP.HH,a)?new Y1(null,null,null):null;if($APP.l(b))return b;b=e2(a);return $APP.l(b)?b:g2(a)};R2=function(a){if($APP.Ke(a)){var b=f2($APP.v(a));return $APP.l(b)?new $APP.J(null,2,5,$APP.K,[b,$APP.y(a)],null):new $APP.J(null,2,5,$APP.K,[new a2(null,null,null),a],null)}return null};
SMa=function(a){if($APP.Ke(a)){var b=$APP.u(a);a=$APP.v(b);b=$APP.y(b);b=null==b?$APP.Xh:b;var c=h2(a);a=$APP.l(c)?c:e2(a);b=S1(i2,b);return $APP.l($APP.l(a)?b:a)?new $APP.J(null,2,5,$APP.K,[a,b],null):null}return null};TMa=function(a,b,c){if($APP.Ge(a)&&$APP.Ge(b))throw $APP.Sm.g("Join variables should not be empty",new $APP.k(null,2,[$APP.zJ,S2,$APP.ez,c],null));};UMa=function(a,b){TMa(null,$APP.BI.h(a),b);return a};
VMa=function(a,b){var c=$APP.bh(a);c=$APP.D.g(c,T2);var d=$APP.bh(c);c=$APP.D.g(d,$APP.JG);d=$APP.D.g(d,l2);TMa(c,d,b);return a};WMa=function(a){if($APP.Ke(a)&&$APP.A.g($APP.qt,$APP.v(a))){var b=$APP.y(a);b=U2.h?U2.h(b):U2.call(null,b);if($APP.l($APP.ch(b)))return new Q2(b,null,null,null);throw $APP.Sm.g("Cannot parse 'and' clause, expected [ 'and' clause+ ]",new $APP.k(null,2,[$APP.zJ,S2,$APP.ez,a],null));}return null};
X2=function(a){a:{var b=R2(a);if($APP.l(b)){var c=$APP.B.j(b,0,null);b=$APP.B.j(b,1,null);var d=$APP.u(b);b=$APP.v(d);d=$APP.y(d);if($APP.A.g($APP.lA,b)){b=U2.h?U2.h(d):U2.call(null,d);if($APP.l(b)){c=UMa(W1(new O2(c,$APP.pf($APP.uw.h(V2($APP.Xh,b))),b,null,null,null),a),a);break a}throw $APP.Sm.g("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]",new $APP.k(null,2,[$APP.zJ,S2,$APP.ez,a],null));}}c=null}if($APP.l(c))return c;a:{b=R2(a);if($APP.l(b)){c=$APP.B.j(b,0,null);b=$APP.B.j(b,
1,null);d=$APP.u(b);b=$APP.v(d);var e=$APP.y(d);d=$APP.v(e);e=$APP.y(e);if($APP.A.g(W2,b)){b=S1(e2,d);d=U2.h?U2.h(e):U2.call(null,e);if($APP.l($APP.l(b)?d:b)){c=UMa(W1(new O2(c,b,d,null,null,null),a),a);break a}throw $APP.Sm.g("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]",new $APP.k(null,2,[$APP.zJ,S2,$APP.ez,a],null));}}c=null}if($APP.l(c))return c;a:{b=R2(a);if($APP.l(b)&&(c=$APP.B.j(b,0,null),b=$APP.B.j(b,1,null),d=$APP.u(b),b=$APP.v(d),d=$APP.y(d),$APP.A.g($APP.wt,
b))){b=S1($APP.dw.g(WMa,X2),d);if($APP.l(b)){c=VMa(W1(new P2(c,new j2(null,$APP.pf($APP.uw.h(V2($APP.Xh,b))),null,null,null),b,null,null,null),a),a);break a}throw $APP.Sm.g("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]",new $APP.k(null,2,[$APP.zJ,S2,$APP.ez,a],null));}c=null}if($APP.l(c))return c;a:{b=R2(a);if($APP.l(b)&&(c=$APP.B.j(b,0,null),b=$APP.B.j(b,1,null),d=$APP.u(b),b=$APP.v(d),e=$APP.y(d),d=$APP.v(e),e=$APP.y(e),$APP.A.g(Y2,b))){b=IMa(d);d=S1($APP.dw.g(WMa,X2),e);if($APP.l($APP.l(b)?
d:b)){c=VMa(W1(new P2(c,b,d,null,null,null),a),a);break a}throw $APP.Sm.g("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]",new $APP.k(null,2,[$APP.zJ,S2,$APP.ez,a],null));}c=null}if($APP.l(c))return c;a:{if(R1(a,1)&&(b=SMa($APP.v(a)),$APP.l(b))){c=$APP.B.j(b,0,null);b=$APP.B.j(b,1,null);c=W1(new L2(c,b,null,null,null),a);break a}c=null}if($APP.l(c))return c;a:{if(R1(a,2)&&(b=$APP.B.j(a,0,null),c=$APP.B.j(a,1,null),d=SMa(b),$APP.l(d))){b=$APP.B.j(d,0,null);d=$APP.B.j(d,
1,null);c=s2(c);c=$APP.l(c)?W1(new M2(b,d,c,null,null,null),a):null;break a}c=null}if($APP.l(c))return c;a:{b=R2(a);if($APP.l(b)&&(c=$APP.B.j(b,0,null),b=$APP.B.j(b,1,null),b=$APP.u(b),d=$APP.v(b),b=$APP.y(b),d=h2(d),e=S1(RMa,b),$APP.l(d))){if($APP.Ge(b))throw $APP.Sm.g("rule-expr requires at least one argument",new $APP.k(null,2,[$APP.zJ,S2,$APP.ez,a],null));if(null==e)throw $APP.Sm.g("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]",new $APP.k(null,2,[$APP.zJ,S2,$APP.ez,
a],null));c=new N2(c,d,e,null,null,null);break a}c=null}if($APP.l(c))return c;a:{b=R2(a);if($APP.l(b)&&(c=$APP.B.j(b,0,null),b=$APP.B.j(b,1,null),b=S1(RMa,b),$APP.l(b))){if($APP.Ge(b))throw $APP.Sm.g("Pattern could not be empty",new $APP.k(null,2,[$APP.zJ,S2,$APP.ez,a],null));c=W1(new K2(c,b,null,null,null),a);break a}c=null}if($APP.l(c))return c;throw $APP.Sm.g("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)",
new $APP.k(null,2,[$APP.zJ,S2,$APP.ez,a],null));};U2=function(a){return S1(X2,a)};XMa=function(a){var b=U2(a);if($APP.l(b))return b;throw $APP.Sm.g("Cannot parse :where clause, expected [clause+]",new $APP.k(null,2,[$APP.zJ,S2,$APP.ez,a],null));};Z2=function(a,b,c,d,e){this.Pb=a;this.Ca=b;this.A=c;this.o=d;this.D=e;this.I=2230716170;this.M=139264};$2=function(a,b,c,d,e){this.name=a;this.Bd=b;this.A=c;this.o=d;this.D=e;this.I=2230716170;this.M=139264};
YMa=function(a){if($APP.Ke(a)){var b=$APP.u(a),c=$APP.v(b),d=$APP.y(b);if($APP.Ke(c)){b=$APP.u(c);var e=$APP.v(b);c=$APP.y(b);b=function(){var g=h2(e);if($APP.l(g))return g;throw $APP.Sm.g("Cannot parse rule name, expected plain-symbol",new $APP.k(null,2,[$APP.zJ,a3,$APP.ez,a],null));}();c=IMa(c);var f=function(){var g=$APP.ch(U2(d));if($APP.l(g))return g;throw $APP.Sm.g("Rule branch should have clauses",new $APP.k(null,2,[$APP.zJ,a3,$APP.ez,a],null));}();return new $APP.k(null,3,[$APP.R,b,$APP.BI,
c,$APP.cM,f],null)}throw $APP.Sm.g(["Cannot parse rule head, expected [rule-name rule-vars], got: ",$APP.yk.l($APP.C([c]))].join(""),new $APP.k(null,2,[$APP.zJ,a3,$APP.ez,a],null));}throw $APP.Sm.g("Cannot parse rule, expected [rule-head clause+]",new $APP.k(null,2,[$APP.zJ,a3,$APP.ez,a],null));};
$Ma=function(a,b){var c=$APP.BI.h($APP.v(b)),d=n2(c);b=$APP.u($APP.y(b));for(var e=null,f=0,g=0;;)if(g<f){var m=e.ea(null,g);m=$APP.BI.h(m);if($APP.xj.g(d,n2(m)))throw $APP.Sm.g(["Arity mismatch for rule '",$APP.yk.l($APP.C([$APP.wn.h(a)])),"': ",$APP.yk.l($APP.C([m2(c)]))," vs. ",$APP.yk.l($APP.C([m2(m)]))].join(""),new $APP.k(null,2,[$APP.zJ,a3,ZMa,a],null));g+=1}else if(b=$APP.u(b)){if($APP.Pe(b))f=$APP.hd(b),b=$APP.id(b),e=f,f=$APP.me(f);else{m=$APP.v(b);e=$APP.BI.h(m);if($APP.xj.g(d,n2(e)))throw $APP.Sm.g(["Arity mismatch for rule '",
$APP.yk.l($APP.C([$APP.wn.h(a)])),"': ",$APP.yk.l($APP.C([m2(c)]))," vs. ",$APP.yk.l($APP.C([m2(e)]))].join(""),new $APP.k(null,2,[$APP.zJ,a3,ZMa,a],null));b=$APP.y(b);e=null;f=0}g=0}else break};
aNa=function(a){$APP.pf(function(){return function d(c){return new $APP.Hg(null,function(){for(;;){var e=$APP.u(c);if(e){var f=e;if($APP.Pe(f)){var g=$APP.hd(f),m=$APP.me(g),r=$APP.Kg(m);return function(){for(var z=0;;)if(z<m){var F=$APP.ze(g,z),M=$APP.B.j(F,0,null),T=$APP.B.j(F,1,null);F=$APP.vq.g(function(){return function(X){return new Z2($APP.BI.h(X),$APP.cM.h(X),null,null,null)}}(z,F,M,T,g,m,r,f,e),T);T=r;$Ma(M,F);T.add(new $2(M,F,null,null,null));z+=1}else return!0}()?$APP.Ng($APP.Pg(r),d($APP.id(f))):
$APP.Ng($APP.Pg(r),null)}var n=$APP.v(f),w=$APP.B.j(n,0,null),x=$APP.B.j(n,1,null);n=$APP.vq.g(function(){return function(z){return new Z2($APP.BI.h(z),$APP.cM.h(z),null,null,null)}}(n,w,x,f,e),x);$Ma(w,n);return $APP.Bg(new $2(w,n,null,null,null),d($APP.Rd(f)))}return null}},null,null)}($APP.Ek($APP.R,S1(YMa,a)))}())};b3=function(a,b,c,d,e,f,g,m){this.Zc=a;this.cd=b;this.ad=c;this.$c=d;this.bd=e;this.A=f;this.o=g;this.D=m;this.I=2230716170;this.M=139264};
bNa=function(a){var b=$APP.Im.l(a,c3,$APP.C([d3,e3,f3,g3]));b=$APP.Ne(a)?$APP.Ji.g($APP.ah,b):b;return new b3(c3.h(a),d3.h(a),e3.h(a),f3.h(a),g3.h(a),null,$APP.ch(b),null)};cNa=function(a){for(var b=$APP.ah,c=null;;){var d=$APP.v(a);if($APP.l(d))d instanceof $APP.G?(c=d,a=$APP.y(a)):(b=$APP.Fm.G(b,new $APP.J(null,1,5,$APP.K,[c],null),$APP.Rn.g($APP.vg,$APP.Xh),d),a=$APP.y(a));else return b}};dNa=function(a){var b=$APP.Gm.h(a);return a instanceof K2?b:null!=b?b instanceof a2?null:b:null};
gNa=function(a,b,c){var d=$APP.Fj(V2($APP.Xh,c3.h(a))),e=$APP.Fj(d3.h(a)),f=$APP.Fj(V2($APP.Xh,f3.h(a))),g=$APP.Fj(V2($APP.Xh,g3.h(a)));f=$APP.iv.g($APP.eN.g(d,e),$APP.eN.g(g,f));d=$APP.jv.g(d,e);if(!$APP.Ge(f))throw $APP.Sm.g(["Query for unknown vars: ",$APP.yk.l($APP.C([$APP.vq.g($APP.wn,f)]))].join(""),new $APP.k(null,3,[$APP.zJ,h3,$APP.BI,f,$APP.ez,b],null));if(!$APP.Ge(d))throw $APP.Sm.g([":find and :with should not use same variables: ",$APP.yk.l($APP.C([$APP.vq.g($APP.wn,d)]))].join(""),new $APP.k(null,
3,[$APP.zJ,h3,$APP.BI,d,$APP.ez,b],null));d=e3.h(a);if(null!=d){if(c3.h(a)instanceof A2)throw $APP.Sm.g([$APP.yk.l($APP.C([$APP.Nm.h(d)]))," does not work with single-scalar :find"].join(""),new $APP.k(null,2,[$APP.zJ,h3,$APP.ez,b],null));if(c3.h(a)instanceof z2)throw $APP.Sm.g([$APP.yk.l($APP.C([$APP.Nm.h(d)]))," does not work with collection :find"].join(""),new $APP.k(null,2,[$APP.zJ,h3,$APP.ez,b],null));}d=i3.h(e3.h(a));if(null!=d&&(e=x2(c3.h(a)),!$APP.A.g($APP.me(d),$APP.me(e))))throw $APP.Sm.g(["Count of ",
$APP.yk.l($APP.C([$APP.Nm.h(e3.h(a))]))," must match count of :find"].join(""),new $APP.k(null,4,[$APP.zJ,h3,eNa,$APP.Bg($APP.Nm.h(e3.h(a)),d),fNa,e,$APP.ez,b],null));if(1<$APP.me($APP.Vh.g($APP.wb,new $APP.J(null,3,5,$APP.K,[$APP.yz.h(c),$APP.ys.h(c),j3.h(c)],null))))throw $APP.Sm.g("Only one of :keys/:syms/:strs must be present",new $APP.k(null,2,[$APP.zJ,h3,$APP.ez,b],null));var m=V2($APP.Xh,f3.h(a)),r=U1(function(w){return w instanceof $1},f3.h(a)),n=U1(function(w){return w instanceof b2},f3.h(a));
if(!$APP.l(function(){var w=V1(m);return $APP.l(w)?(w=V1(r),$APP.l(w)?V1(n):w):w}()))throw $APP.Sm.g("Vars used in :in should be distinct",new $APP.k(null,2,[$APP.zJ,h3,$APP.ez,b],null));c=V2($APP.Xh,d3.h(a));if(!$APP.l(V1(c)))throw $APP.Sm.g("Vars used in :with should be distinct",new $APP.k(null,2,[$APP.zJ,h3,$APP.ez,b],null));c=T1(function(w){return w instanceof $1},f3.h(a),$APP.Cj);d=T1(function(w){return w instanceof $1},g3.h(a),$APP.Cj);c=$APP.iv.g(d,c);if(!$APP.Ge(c))throw $APP.Sm.g(["Where uses unknown source vars: ",
$APP.yk.l($APP.C([$APP.vq.g($APP.wn,c)]))].join(""),new $APP.k(null,3,[$APP.zJ,h3,$APP.BI,c,$APP.ez,b],null));c=U1(function(w){return w instanceof N2},g3.h(a));a=U1(function(w){return w instanceof b2},f3.h(a));if(!$APP.Ge(c)&&$APP.Ge(a))throw $APP.Sm.g("Missing rules var '%' in :in",new $APP.k(null,2,[$APP.zJ,h3,$APP.ez,b],null));};
jNa=function(a){if($APP.Me(a))var b=a;else if($APP.Ke(a))b=cNa(a);else throw $APP.Sm.g("Query should be a vector or a map",new $APP.k(null,2,[$APP.zJ,h3,$APP.ez,a],null));var c=b,d=XMa($APP.vD.g(c,$APP.Xh));b=bNa(new $APP.k(null,5,[c3,NMa(fNa.h(c)),d3,function(){var e=hNa.h(c);if($APP.l(e)){var f=S1(e2,e);if($APP.l(f))e=f;else throw $APP.Sm.g("Cannot parse :with clause, expected [ variable+ ]",new $APP.k(null,2,[$APP.zJ,iNa,$APP.ez,e],null));}else e=null;return e}(),e3,function(){var e=J2($APP.yz,
$APP.yz.h(c));if($APP.l(e))return e;e=J2($APP.ys,$APP.ys.h(c));return $APP.l(e)?e:J2(j3,j3.h(c))}(),f3,QMa(function(){var e=$APP.Bpa.h(c);return $APP.l(e)?e:$APP.Ge(U1(dNa,d))?$APP.Xh:new $APP.J(null,1,5,$APP.K,[F2],null)}()),g3,d],null));gNa(b,a,c);return b};k3=function(a,b,c,d,e,f){this.de=a;this.sources=b;this.rules=c;this.A=d;this.o=e;this.D=f;this.I=2230716170;this.M=139264};l3=function(a,b,c,d,e){this.oa=a;this.we=b;this.A=c;this.o=d;this.D=e;this.I=2230716170;this.M=139264};
m3=function(a,b){return $APP.jv.g($APP.Fj($APP.uj(a)),$APP.Fj($APP.uj(b)))};kNa=function(a,b){return $APP.A.g($APP.me(a),$APP.me(b))&&$APP.vh(function(c){return $APP.cf(b,c)},$APP.uj(a))&&$APP.vh(function(c){return $APP.cf(b,c)},$APP.uj(a))};n3=function(a){return a instanceof $APP.t&&$APP.A.g("$",$APP.v($APP.Hj(a)))};o3=function(a){return a instanceof $APP.t&&$APP.A.g("?",$APP.v($APP.Hj(a)))};p3=function(a){return a instanceof $APP.G||"string"===typeof a};
r3=function(a){return q3(new $APP.J(null,2,5,$APP.K,[p3,$APP.HH],null),a)};lNa=function(a,b,c,d){for(var e=b.length,f=d.length,g=Array(e+f),m=0;;)if(m<e)g[m]=a[b[m]],m+=1;else break;for(a=0;;)if(a<f)g[e+a]=c[d[a]],a+=1;else break;return g};s3=function(a){a=$APP.ek.g($APP.wn,$APP.pf($APP.uw.h(V2($APP.Xh,a))));return new l3($APP.Ij(a,$APP.lo.C()),$APP.Xh,null,null,null)};
t3=function(a,b){if(null!=a&&null!=a.Qf)a=a.Qf(a,b);else{var c=t3[$APP.fa(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=t3._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw $APP.Db("IBinding.in-\x3erel",a);}return a};
mNa=function(a,b){var c=$APP.B.j(b,0,null);b=$APP.B.j(b,1,null);c instanceof p2&&u3.h(c)instanceof $1?a=$APP.Tn.P(a,v3,$APP.yj,$APP.Ap.g(c,new $APP.J(null,2,5,$APP.K,[u3,$APP.wn],null)),b):c instanceof p2&&u3.h(c)instanceof b2?(c=$APP.yj.j,b="string"===typeof b?$APP.Qn.h(b):b,aNa(b),b=$APP.Ek($APP.se,b),a=c.call($APP.yj,a,$APP.tF,b)):a=$APP.Tn.G(a,w3,$APP.vg,t3(c,b));return a};
pNa=function(a,b,c){var d=$APP.me(b),e=$APP.me(c);if(d<e)throw $APP.Sm.g(["Extra inputs passed, expected: ",$APP.yk.l($APP.C([$APP.vq.g(function(f){return $APP.Gm.h($APP.De(f))},b)])),", got: ",$APP.yk.l($APP.C([e]))].join(""),new $APP.k(null,3,[$APP.zJ,nNa,$APP.gH,b,oNa,c],null));if(d>e)throw $APP.Sm.g(["Too few inputs passed, expected: ",$APP.yk.l($APP.C([$APP.vq.g(function(f){return $APP.Gm.h($APP.De(f))},b)])),", got: ",$APP.yk.l($APP.C([e]))].join(""),new $APP.k(null,3,[$APP.zJ,nNa,$APP.gH,b,
oNa,c],null));return $APP.nf.j(mNa,a,$APP.Ij(b,c))};z3=function(a,b){var c=a.h?a.h(b):a.call(null,b);return $APP.cf(x3,b)?function(d){d=d[c];return"number"===typeof d?d:$APP.Ke(d)?k0(y3,d):PY(d)?k0(y3,d):d}:function(d){return d[c]}};A3=function(a){if(1===$APP.me(a))return $APP.v(a);var b=$APP.of(a);return function(c){return $APP.tt.h(b.map(function(d){return d.h?d.h(c):d.call(null,c)}))}};
qNa=function(a,b){for(var c=$APP.Yc($APP.ah);;){var d=$APP.v(b);if(null==d)return $APP.$c(c);var e=a.h?a.h(d):a.call(null,d);b=$APP.y(b);c=$APP.Li.j(c,e,$APP.vg.g($APP.D.j(c,e,$APP.Qd),d))}};
C3=function(a,b){var c=B3.h(a),d=B3.h(b),e=f1.h(a),f=f1.h(b);a=$APP.pf(m3(f1.h(a),f1.h(b)));var g=$APP.ek.g(function(z){return z3(e,z)},a),m=$APP.ek.g(function(z){return z3(f,z)},a);a=$APP.uj(e);b=$APP.pf($APP.iv.g($APP.Fj($APP.uj(f)),$APP.Fj($APP.uj(e))));var r=$APP.of($APP.ek.g(e,a)),n=$APP.of($APP.ek.g(f,b));g=A3(g);var w=qNa(g,c),x=A3(m);c=$APP.$c($APP.nf.j(function(z,F){var M=x.h?x.h(F):x.call(null,F);M=$APP.D.g(w,M);return null==M?z:$APP.nf.j(function(T,X){return $APP.Wh.g(T,lNa(X,r,F,n))},
z,M)},$APP.Yc($APP.Xh),d));return new l3($APP.Ij($APP.P.g(a,b),$APP.lo.C()),c,null,null,null)};rNa=function(a,b){var c=$APP.bh(a),d=$APP.D.g(c,f1);c=$APP.D.g(c,B3);b=$APP.bh(b);var e=$APP.D.g(b,f1);b=$APP.D.g(b,B3);var f=m3(d,e),g=$APP.ek.g(function(n){return z3(e,n)},f);g=A3(g);var m=qNa(g,b);b=$APP.ek.g(function(n){return z3(d,n)},f);var r=A3(b);return $APP.yj.j(a,B3,$APP.Yh(function(n){n=r.h?r.h(n):r.call(null,n);return null==(m.h?m.h(n):m.call(null,n))},c))};
sNa=function(a,b){var c=$APP.vq.g(function(d){return $APP.A.g(d,$APP.HH)||o3(d)?null:d},b);a=$Z(a,c);b=$APP.Ji.g($APP.ah,$APP.Vh.g(function(d){var e=$APP.B.j(d,0,null);$APP.B.j(d,1,null);return o3(e)},$APP.ek.j($APP.iw,b,new $APP.J(null,4,5,$APP.K,["e","a","v","tx"],null))));return new l3(b,a,null,null,null)};
tNa=function(a,b){a=$APP.Vh.g(function(d){a:for(var e=b;;){var f=d;if($APP.l($APP.l(f)?e:f)){f=$APP.v(d);var g=$APP.v(e);if($APP.A.g(g,$APP.HH)||o3(g)||$APP.A.g(f,g))d=$APP.y(d),e=$APP.y(e);else{d=!1;break a}}else{d=!0;break a}}return d},a);var c=$APP.Ji.g($APP.ah,$APP.Vh.g(function(d){var e=$APP.B.j(d,0,null);$APP.B.j(d,1,null);return o3(e)},$APP.ek.j($APP.iw,b,$APP.lo.C())));return new l3(c,$APP.vq.g($APP.of,a),null,null,null)};
uNa=function(a,b){return(null!=a?$APP.Cd===a.Ai||(a.Cd?0:$APP.Bb(tLa,a)):$APP.Bb(tLa,a))?sNa(a,b):tNa(a,b)};D3=function(a,b){for(var c=$APP.Xh;;){var d=$APP.v(a);if(null==d)return $APP.vg.g(c,b);$APP.l($APP.ch(m3(f1.h(b),f1.h(d))))?(a=$APP.y(a),b=C3(d,b)):(a=$APP.y(a),c=$APP.vg.g(c,d))}};E3=function(a,b){return $APP.wh(function(c){return $APP.cf(f1.h(c),b)?c:null},w3.h(a))};
F3=function(a,b){var c=E3(a,b);if(null==c)return null;a=$APP.v(B3.h(c));null==a?b=null:(c=f1.h(c),b=c.h?c.h(b):c.call(null,b),b=a[b]);return b};vNa=function(a,b){return $APP.wh(function(c){return $APP.cf(f1.h(a),c)},b)};wNa=function(a,b){var c=$APP.Vh.g(function(e){return vNa(e,b)},w3.h(a)),d=$APP.nf.g(G3,c);return new $APP.J(null,2,5,$APP.K,[$APP.Tn.j(a,w3,function(e){return $APP.ps.g($APP.Fj(c),e)}),d],null)};
xNa=function(a,b,c,d){a=v3.h(a);b=f1.h(b);for(var e=$APP.me(d),f=Array(e),g=Array(e),m=0;;)if(m<e){var r=$APP.B.g(d,m);if(r instanceof $APP.t){var n=$APP.D.g(a,r);null==n?g[m]=$APP.D.g(b,r):f[m]=n}else f[m]=r;m+=1}else break;return c===$APP.iw?function(w){for(var x=f.slice(0),z=0;;)if(z<e){var F=g[z];null!=F&&(x[z]=w[F]);z+=1}else break;return $APP.zh.g(c,x)}:function(w){for(var x=0;;)if(x<e){var z=g[x];null!=z&&(f[x]=w[z]);x+=1}else break;return $APP.zh.g(c,f)}};
yNa=function(a,b){var c=$APP.B.j(b,0,null);c=$APP.u(c);var d=$APP.v(c),e=$APP.y(c),f=function(){var r=$APP.D.g(p1,d);if($APP.l(r))return r;r=F3(a,d);if($APP.l(r))return r;if($APP.l(null))return null;if(null==E3(a,d))throw $APP.Sm.g(["Unknown predicate '",$APP.yk.l($APP.C([d]))," in ",$APP.yk.l($APP.C([b]))].join(""),new $APP.k(null,3,[$APP.zJ,H3,$APP.ez,b,$APP.fp,d],null));return null}();c=wNa(a,$APP.Vh.g($APP.Fd,e));var g=$APP.B.j(c,0,null),m=$APP.B.j(c,1,null);c=$APP.l(f)?function(){var r=xNa(g,
m,f,e);return $APP.Tn.j(m,B3,function(n){return $APP.Vh.g(r,n)})}():$APP.yj.j(m,B3,$APP.Xh);return $APP.Tn.G(g,w3,$APP.vg,c)};
zNa=function(a,b){var c=$APP.B.j(b,0,null);c=$APP.u(c);var d=$APP.v(c),e=$APP.y(c);c=$APP.B.j(b,1,null);var f=s2(c),g=function(){var n=$APP.D.g(p1,d);if($APP.l(n))return n;n=F3(a,d);if($APP.l(n))return n;if($APP.l(null))return null;if(null==E3(a,d))throw $APP.Sm.g(["Unknown function '",$APP.yk.l($APP.C([d]))," in ",$APP.yk.l($APP.C([b]))].join(""),new $APP.k(null,3,[$APP.zJ,H3,$APP.ez,b,$APP.fp,d],null));return null}();c=wNa(a,$APP.Vh.g($APP.Fd,e));var m=$APP.B.j(c,0,null),r=$APP.B.j(c,1,null);c=
$APP.l(g)?function(){var n=xNa(m,r,g,e),w=function(){return function F(z){return new $APP.Hg(null,function(){for(var M=z;;)if(M=$APP.u(M)){if($APP.Pe(M)){var T=$APP.hd(M),X=$APP.me(T),aa=$APP.Kg(X);a:for(var ba=0;;)if(ba<X){var ca=$APP.ze(T,ba),ja=n(ca);null!=ja&&$APP.Og(aa,G3.g(new l3(f1.h(r),new $APP.J(null,1,5,$APP.K,[ca],null),null,null,null),t3(f,ja)));ba+=1}else{T=!0;break a}return T?$APP.Ng($APP.Pg(aa),F($APP.id(M))):$APP.Ng($APP.Pg(aa),null)}aa=$APP.v(M);T=n(aa);if(null!=T)return $APP.Bg(G3.g(new l3(f1.h(r),
new $APP.J(null,1,5,$APP.K,[aa],null),null,null,null),t3(f,T)),F($APP.Rd(M)));M=$APP.Rd(M)}else return null},null,null)}(B3.h(r))}();return $APP.Ge(w)?G3.g(r,s3(f)):$APP.nf.g(I3,w)}():G3.g($APP.yj.j(r,B3,$APP.Xh),s3(f));return $APP.Tn.G(m,w3,D3,c)};
ANa=function(a,b){if($APP.Ke(b)){var c=n3($APP.v(b))?$APP.re(b):$APP.v(b);if(c instanceof $APP.t){if(o3(c)||$APP.cf(new $APP.Bj(null,new $APP.k(null,6,[$APP.qt,null,$APP.lA,null,W2,null,Y2,null,$APP.wt,null,$APP.HH,null],null),null),c))return!1;if($APP.cf($APP.tF.h(a),c))return!0;throw $APP.Sm.g(["Unknown rule '",$APP.yk.l($APP.C([c]))," in ",$APP.yk.l($APP.C([b]))].join(""),new $APP.k(null,2,[$APP.zJ,H3,$APP.ez,b],null));}}return!1};
CNa=function(a,b){var c=$APP.u(a),d=$APP.v(c),e=$APP.y(c),f=$APP.Bk.g(BNa,$APP.Zd),g=$APP.D.g($APP.tF.h(b),d);return function n(r){return new $APP.Hg(null,function(){for(;;){var w=$APP.u(r);if(w){var x=w;if($APP.Pe(x)){var z=$APP.hd(x),F=$APP.me(z),M=$APP.Kg(F);return function(){for(var ia=0;;)if(ia<F){var na=$APP.ze(z,ia),pa=na,wa=$APP.u(pa),za=$APP.v(wa),Ea=$APP.y(wa),La=za,Za=$APP.u(La),cb=$APP.v(Za),$a=$APP.y(Za),Xa=cb,lb=$a,tb=Ea,sb=$APP.Ij(lb,e);$APP.Og(M,$APP.Kt(function(Vb,$b,nc,Fc,Gd,sc,
fg,yg,ih,Th,Ch,ki,gg,Pi,gk,td,Dh,ac,Jc,Hd,Id,ve,Yg,Le,zg,$f){return function(Jd){if(o3(Jd)){var Yk=gg.h?gg.h(Jd):gg.call(null,Jd);return null==Yk?$APP.ok.h([$APP.Hj(Jd),"__auto__",$APP.p.h($f)].join("")):Yk}return Jd}}(ia,pa,wa,za,Ea,La,Za,cb,$a,Xa,lb,tb,sb,na,z,F,M,x,w,a,c,d,e,d,e,f,g),tb));ia+=1}else return!0}()?$APP.Ng($APP.Pg(M),n($APP.id(x))):$APP.Ng($APP.Pg(M),null)}var T=$APP.v(x),X=T,aa=$APP.u(X),ba=$APP.v(aa),ca=$APP.y(aa),ja=ba,oa=$APP.u(ja),ma=$APP.v(oa),O=$APP.y(oa),I=ma,la=O,S=ca,W=$APP.Ij(la,
e);return $APP.Bg($APP.Kt(function(ia,na,pa,wa,za,Ea,La,Za,cb,$a,Xa,lb,tb,sb,Vb,$b,nc,Fc,Gd,sc,fg,yg){return function(ih){if(o3(ih)){var Th=lb.h?lb.h(ih):lb.call(null,ih);return null==Th?$APP.ok.h([$APP.Hj(ih),"__auto__",$APP.p.h(yg)].join("")):Th}return ih}}(X,aa,ba,ca,ja,oa,ma,O,I,la,S,W,T,x,w,a,c,d,e,d,e,f,g),S),n($APP.Rd(x)))}return null}},null,null)}(g)};
DNa=function(a,b){a=$APP.ps.g(function(c){var d=$APP.B.j(c,0,null);c=$APP.B.j(c,1,null);return $APP.A.g(d,c)},$APP.ek.j($APP.iw,a,b));return new $APP.J(null,2,5,$APP.K,[$APP.ek.g($APP.v,a),$APP.ek.g($APP.re,a)],null)};
ENa=function(a,b){a=$APP.u(a);var c=$APP.v(a),d=$APP.y(a);return function g(f){return new $APP.Hg(null,function(){for(;;){var m=$APP.u(f);if(m){if($APP.Pe(m)){var r=$APP.hd(m),n=$APP.me(r),w=$APP.Kg(n);a:for(var x=0;;)if(x<n){var z=$APP.ze(r,x),F=DNa(d,z);z=$APP.B.j(F,0,null);F=$APP.B.j(F,1,null);$APP.Og(w,new $APP.J(null,1,5,$APP.K,[$APP.P.l(new $APP.J(null,1,5,$APP.K,[J3],null),z,$APP.C([F]))],null));x+=1}else{r=!0;break a}return r?$APP.Ng($APP.Pg(w),g($APP.id(m))):$APP.Ng($APP.Pg(w),null)}w=$APP.v(m);
r=DNa(d,w);w=$APP.B.j(r,0,null);r=$APP.B.j(r,1,null);return $APP.Bg(new $APP.J(null,1,5,$APP.K,[$APP.P.l(new $APP.J(null,1,5,$APP.K,[J3],null),w,$APP.C([r]))],null),g($APP.Rd(m)))}return null}},null,null)}($APP.D.g(b,c))};K3=function(a){var b=$APP.Ak.h($APP.Xh);$APP.Kt(function(c){$APP.l(o3.h?o3.h(c):o3.call(null,c))&&$APP.Bk.j(b,$APP.vg,c);return c},a);return $APP.q(b)};
FNa=function(a,b){function c(e){e=$APP.B.j(e,0,null);e=$APP.u(e);$APP.v(e);e=$APP.y(e);return $APP.vh(d,e)}var d=$APP.Fj(K3(a));return new $APP.J(null,2,5,$APP.K,[$APP.Vh.g(c,b),$APP.ps.g(c,b)],null)};
HNa=function(a,b){function c(Ea){return $APP.wh(function(La){return $APP.Ge(B3.h(La))},w3.h(Ea))}function d(Ea,La){return $APP.nf.j(L3,Ea,La)}for(var e=$APP.Vh.g(o3,b),f=$APP.Ij(e,$APP.lo.C()),g=new $APP.E(null,new $APP.k(null,5,[M3,$APP.Xh,N3,a,$APP.cM,new $APP.J(null,1,5,$APP.K,[b],null),O3,$APP.ah,P3,$APP.ah],null),null,1,null),m=new l3(f,$APP.Xh,null,null,null);;){var r=$APP.v(g);if(null==r)return m;var n=r,w=$APP.Rj(function(){return function(Ea){return!ANa(a,Ea)}}(g,m,n,r,e,f,d,c),$APP.cM.h(n)),
x=$APP.B.j(w,0,null),z=$APP.B.j(w,1,null),F=$APP.u(z),M=$APP.v(F),T=$APP.y(F),X=M,aa=T;if(null==X){b=d(N3.h(n),x);b=Q3?Q3(b,e):GNa.call(null,b,e);var ba=new l3(f,b,null,null,null);b=$APP.y(g);ba=I3(m,ba);g=b;m=ba}else{var ca=X,ja=$APP.u(ca),oa=$APP.v(ja),ma=$APP.y(ja),O=oa,I=ma,la=ENa(X,O3.h(n)),S=FNa($APP.P.g(M3.h(n),x),$APP.P.g(la,P3.h(n))),W=$APP.B.j(S,0,null),ia=$APP.B.j(S,1,null);if($APP.l($APP.wh(function(){return function(Ea){return $APP.A.g(Ea,new $APP.J(null,1,5,$APP.K,[$APP.N(J3)],null))}}(g,
m,ca,ja,oa,ma,O,I,la,S,W,ia,w,x,z,F,M,T,X,aa,n,r,e,f,d,c),W)))b=$APP.y(g),ba=m,g=b,m=ba;else{var na=$APP.P.g(x,W),pa=d(N3.h(n),na);if($APP.l(c(pa)))b=$APP.y(g),ba=m,g=b,m=ba;else{var wa=$APP.yj.j(O3.h(n),O,$APP.vg.g($APP.D.j(O3.h(n),O,$APP.Xh),I)),za=CNa(X,a);b=$APP.P.g(function(){return function(Ea,La,Za,cb,$a,Xa,lb,tb,sb,Vb,$b,nc,Fc,Gd,sc,fg,yg,ih,Th,Ch,ki,gg,Pi,gk,td,Dh,ac,Jc,Hd,Id){return function Le(Yg){return new $APP.Hg(null,function(zg,$f,Jd,Yk,jh,hk,hn,Zk,Us,mq,$k,hg,Fy,Gy,hf,Vs,Hy,Iy,ik,
Ag,Uh,jd,Re,Kc){return function(){for(;;){var ag=$APP.u(Yg);if(ag){if($APP.Pe(ag)){var Jy=$APP.hd(ag),dH=$APP.me(Jy),Cf=$APP.Kg(dH);a:for(var UB=0;;)if(UB<dH){var nM=$APP.ze(Jy,UB);$APP.Og(Cf,new $APP.k(null,5,[M3,jh,N3,hk,$APP.cM,$APP.Ji.j($APP.Xh,$APP.tk,$APP.C([nM,Kc])),O3,Jd,P3,Vs],null));UB+=1}else{Jy=!0;break a}return Jy?$APP.Ng($APP.Pg(Cf),Le($APP.id(ag))):$APP.Ng($APP.Pg(Cf),null)}Cf=$APP.v(ag);return $APP.Bg(new $APP.k(null,5,[M3,jh,N3,hk,$APP.cM,$APP.Ji.j($APP.Xh,$APP.tk,$APP.C([Cf,Kc])),
O3,Jd,P3,Vs],null),Le($APP.Rd(ag)))}return null}}}(Ea,La,Za,cb,$a,Xa,lb,tb,sb,Vb,$b,nc,Fc,Gd,sc,fg,yg,ih,Th,Ch,ki,gg,Pi,gk,td,Dh,ac,Jc,Hd,Id),null,null)}}(g,m,wa,za,na,pa,ca,ja,oa,ma,O,I,la,S,W,ia,w,x,z,F,M,T,X,aa,n,r,e,f,d,c)(za)}(),$APP.y(g));ba=m;g=b;m=ba}}}}};
INa=function(a,b){if(null!=a?$APP.Cd===a.Bh||(a.Cd?0:$APP.Bb(h_,a)):$APP.Bb(h_,a)){var c=$APP.B.j(b,0,null),d=$APP.B.j(b,1,null),e=$APP.B.j(b,2,null),f=$APP.B.j(b,3,null);return $APP.bm.j(new $APP.J(null,4,5,$APP.K,[$APP.l(function(){var g=r3(c);return $APP.l(g)?g:p3(c)}())?Y_(a,c):c,d,$APP.l(function(){if($APP.l(e)){var g=p3(d);return g?(g=X_(a,d))?(g=r3(e),$APP.l(g)?g:p3(e)):g:g}return e}())?Y_(a,e):e,$APP.l(r3(f))?Y_(a,f):f],null),0,$APP.me(b))}return b};
JNa=function(a,b){var c=$APP.B.j(b,0,null),d=$APP.B.j(b,1,null),e=$APP.B.j(b,2,null);b=$APP.B.j(b,3,null);c=o3(c)?$APP.vg.g($APP.Cj,c):$APP.Cj;c=o3(b)?$APP.vg.g(c,b):c;return o3(e)&&!o3(d)&&X_(a,d)?$APP.vg.g(c,e):c};R3=function(a,b){return $APP.yj.j(a,w3,$APP.wq.g(function(c){var d=$APP.ch($APP.zj(f1.h(c),b));return null==d?null:$APP.yj.j(c,f1,d)},w3.h(a)))};S3=function(a){return $APP.Ji.g($APP.Cj,$APP.Sh.l(function(b){return $APP.uj(f1.h(b))},$APP.C([w3.h(a)])))};
T3=function(a,b,c){if($APP.Xha(b,a))return null;a=$APP.iv.g($APP.Fj(b),a);throw $APP.Sm.g(["Insufficient bindings: ",$APP.yk.l($APP.C([a]))," not bound in ",$APP.yk.l($APP.C([c]))].join(""),new $APP.k(null,3,[$APP.zJ,H3,$APP.ez,c,$APP.BI,a],null));};
KNa=function(a,b,c){b=$APP.vq.g(function(d){return $APP.iv.g($APP.Fj(K3(d)),a)},b);if($APP.l($APP.zh.g($APP.A,b)))return null;throw $APP.Sm.g(["All clauses in 'or' must use same set of free vars, had ",$APP.yk.l($APP.C([b]))," in ",$APP.yk.l($APP.C([c]))].join(""),new $APP.k(null,3,[$APP.zJ,H3,$APP.ez,c,$APP.BI,b],null));};
LNa=function(a,b,c){for(var d=$APP.Fj($APP.ps.g(a,b)),e=$APP.u(c),f=null,g=0,m=0;;)if(m<g){c=f.ea(null,m);var r=$APP.ch($APP.iv.g(d,$APP.Fj(K3(c))));if(null!=r)throw e=r,$APP.gt.l($APP.C([c,a,b,d])),$APP.Sm.g(["All clauses in 'or' must use same set of free vars, had ",$APP.yk.l($APP.C([e]))," not bound in ",$APP.yk.l($APP.C([c]))].join(""),new $APP.k(null,3,[$APP.zJ,H3,$APP.ez,c,$APP.BI,e],null));m+=1}else if(c=$APP.u(e)){e=c;if($APP.Pe(e))f=$APP.hd(e),e=$APP.id(e),c=f,g=$APP.me(f),f=c;else{c=$APP.v(e);
f=$APP.ch($APP.iv.g(d,$APP.Fj(K3(c))));if(null!=f)throw e=f,$APP.gt.l($APP.C([c,a,b,d])),$APP.Sm.g(["All clauses in 'or' must use same set of free vars, had ",$APP.yk.l($APP.C([e]))," not bound in ",$APP.yk.l($APP.C([c]))].join(""),new $APP.k(null,3,[$APP.zJ,H3,$APP.ez,c,$APP.BI,e],null));e=$APP.y(e);f=null;g=0}m=0}else return null};MNa=function(a,b){var c=y3;y3=$APP.D.g(v3.h(a),F2);try{return $APP.nf.j(U3,a,b)}finally{y3=c}};
GNa=function(a){switch(arguments.length){case 2:return Q3(arguments[0],arguments[1]);case 3:return NNa(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.p.h(arguments.length)].join(""));}};Q3=function(a,b){a=w3.h(a);return NNa(new $APP.J(null,1,5,$APP.K,[Array($APP.me(b))],null),a,b)};
NNa=function(a,b,c){for(;;){var d=$APP.v(b);if(null==d)return a;if($APP.Ge(B3.h(d)))return $APP.Xh;var e=$APP.zj(f1.h(d),c);if($APP.Ge(e)){var f=a,g=$APP.y(b),m=c;a=f;b=g;c=m}else{var r=$APP.of($APP.ek.g(function(w,x,z,F){return function(M){return $APP.D.g(F,M)}}(a,b,c,e,d),c)),n=$APP.me(c);f=function(){return function(w,x,z,F,M,T,X){return function ca(ba){return new $APP.Hg(null,function(ja,oa,ma,O,I,la,S){return function(){for(var W=ba;;){var ia=$APP.u(W);if(ia){var na=ia,pa=$APP.v(na);if(ia=$APP.u(function(wa,
za,Ea,La,Za,cb,$a,Xa,lb,tb,sb){return function nc($b){return new $APP.Hg(null,function(Fc,Gd,sc,fg,yg,ih,Th,Ch,ki){return function(){for(;;){var gg=$APP.u($b);if(gg){if($APP.Pe(gg)){var Pi=$APP.hd(gg),gk=$APP.me(Pi),td=$APP.Kg(gk);return function(){for(var ac=0;;)if(ac<gk){for(var Jc=$APP.ze(Pi,ac),Hd=td,Id=$APP.Gb(yg),ve=0;;)if(ve<ki){var Yg=Ch[ve];null!=Yg&&(Id[ve]=Jc[Yg]);ve+=1}else break;Hd.add(Id);ac+=1}else return!0}()?$APP.Ng($APP.Pg(td),nc($APP.id(gg))):$APP.Ng($APP.Pg(td),null)}var Dh=$APP.v(gg);
return $APP.Bg(function(){for(var ac=$APP.Gb(yg),Jc=0;;)if(Jc<ki){var Hd=Ch[Jc];null!=Hd&&(ac[Jc]=Dh[Hd]);Jc+=1}else break;return ac}(),nc($APP.Rd(gg)))}return null}}}(wa,za,Ea,La,Za,cb,$a,Xa,lb,tb,sb),null,null)}}(W,ja,oa,ma,pa,na,ia,O,I,la,S)(B3.h(S))))return $APP.P.g(ia,ca($APP.Rd(W)));W=$APP.Rd(W)}else return null}}}(w,x,z,F,M,T,X),null,null)}}(a,b,c,r,n,e,d)(a)}();g=$APP.y(b);m=c;a=f;b=g;c=m}}};ONa=function(a,b){return $APP.Fj($APP.ek.g($APP.pf,Q3(a,b)))};
V3=function(a,b){if(null!=a&&null!=a.Rf)a=a.Rf(a,b);else{var c=V3[$APP.fa(null==a?null:a)];if(null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else if(c=V3._,null!=c)a=c.g?c.g(a,b):c.call(null,a,b);else throw $APP.Db("IContextResolve.-context-resolve",a);}return a};
PNa=function(a,b,c){return $APP.vq.G(function(d,e,f){if(C2(d)){e=V3($APP.gp.h(d),b);d=$APP.ek.g(function(m){return V3(m,b)},$APP.Gj($APP.Zn.h(d)));var g=$APP.ek.g(function(m){return $APP.B.g(m,f)},c);return $APP.zh.g(e,$APP.P.g(d,new $APP.J(null,1,5,$APP.K,[g],null)))}return e},a,$APP.v(c),$APP.lo.C())};QNa=function(a){var b=$APP.Ah(C2);return $APP.ps.g($APP.qb,$APP.ek.j(function(c,d){return $APP.l(b.h?b.h(c):b.call(null,c))?d:null},a,$APP.lo.C()))};
RNa=function(a,b,c){var d=QNa(a);return function g(f){return new $APP.Hg(null,function(){for(;;){var m=$APP.u(f);if(m){if($APP.Pe(m)){var r=$APP.hd(m),n=$APP.me(r),w=$APP.Kg(n);a:for(var x=0;;)if(x<n){var z=$APP.ze(r,x);$APP.B.j(z,0,null);z=$APP.B.j(z,1,null);$APP.Og(w,PNa(a,b,z));x+=1}else{r=!0;break a}return r?$APP.Ng($APP.Pg(w),g($APP.id(m))):$APP.Ng($APP.Pg(w),null)}w=$APP.v(m);$APP.B.j(w,0,null);w=$APP.B.j(w,1,null);return $APP.Bg(PNa(a,b,w),g($APP.Rd(m)))}return null}},null,null)}($APP.Ek(function(f){return $APP.ek.g(function(g){return $APP.B.g(f,
g)},d)},c))};SNa=function(a,b){return $APP.nf.j(function(c,d){return $APP.vg.g(c,a.h?a.h(d):a.call(null,d))},$APP.ye(b),b)};TNa=function(a,b){var c=i3.h(a),d=$APP.lo.g(0,$APP.me(c));return SNa(function(e){return $APP.nf.j(function(f,g){return $APP.yj.j(f,$APP.B.g(c,g),$APP.B.g(e,g))},$APP.ah,d)},b)};
W3=function(a,b,c){if(null!=a&&null!=a.Sf)a=a.Sf(a,b,c);else{var d=W3[$APP.fa(null==a?null:a)];if(null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else if(d=W3._,null!=d)a=d.j?d.j(a,b,c):d.call(null,a,b,c);else throw $APP.Db("IPostProcess.-post-process",a);}return a};
UNa=function(a,b,c){var d=function(){return function g(f){return new $APP.Hg(null,function(){for(;;){var m=$APP.u(f);if(m){if($APP.Pe(m)){var r=$APP.hd(m),n=$APP.me(r),w=$APP.Kg(n);return function(){for(var z=0;;)if(z<n){var F=$APP.ze(r,z),M=w;if(D2(F)){var T=V3($APP.Gm.h(F),b);F=V3(X0.h(F),b);T=J1(T,F,null)}else T=null;M.add(T);z+=1}else return!0}()?$APP.Ng($APP.Pg(w),g($APP.id(m))):$APP.Ng($APP.Pg(w),null)}var x=$APP.v(m);return $APP.Bg(D2(x)?function(){var z=V3($APP.Gm.h(x),b),F=V3(X0.h(x),b);
return J1(z,F,null)}():null,g($APP.Rd(m)))}return null}},null,null)}(a)}();return function g(f){return new $APP.Hg(null,function(){for(;;){var m=$APP.u(f);if(m){var r=m;if($APP.Pe(r)){var n=$APP.hd(r),w=$APP.me(n),x=$APP.Kg(w);return function(){for(var F=0;;)if(F<w){var M=$APP.ze(n,F);$APP.Og(x,$APP.vq.j(function(){return function(T,X){return $APP.l(T)?H1(T,X):X}}(F,M,n,w,x,r,m,d),d,M));F+=1}else return!0}()?$APP.Ng($APP.Pg(x),g($APP.id(r))):$APP.Ng($APP.Pg(x),null)}var z=$APP.v(r);return $APP.Bg($APP.vq.j(function(){return function(F,
M){return $APP.l(F)?H1(F,M):M}}(z,r,m,d),d,z),g($APP.Rd(r)))}return null}},null,null)}(c)};X3=function(a,b){if(a instanceof v_){var c=a.ec,d=a.xc;return new v_(d,function(e){var f=c.h?c.h(e):c.call(null,e);return $APP.l(f)?b.g?b.g(d,e):b.call(null,d,e):f},$APP.Ak.h(0),null,null,null)}return new v_(a,function(e){return b.g?b.g(a,e):b.call(null,a,e)},$APP.Ak.h(0),null,null,null)};
Y3=function(a){switch(arguments.length){case 2:return Y3.g(arguments[0],arguments[1]);case 3:return Y3.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.p.h(arguments.length)].join(""));}};Z3=function(a,b){return c0.h(Y3.g(a,b))};$3=function(a,b,c,d){return d_(a,b,c,d)};b4=function(a){return $APP.Ak.l(a,$APP.C([$APP.eb,new $APP.k(null,1,[a4,$APP.Ak.h($APP.ah)],null)]))};
VNa=function(a,b,c){var d=$APP.Ak.h(null);$APP.Bk.g(a,function(e){e=Y3.j(e,b,c);$APP.Fh(d,e);return c0.h(e)});return $APP.q(d)};c4=function(a){return $APP.q(a)};d4=function(a,b){a=a.toString(16);var c=$APP.me(a);return c>b?$APP.Xj.j(a,0,b):c<b?[$APP.p.h($APP.zh.g($APP.p,$APP.yq.g(b-c,"0"))),$APP.p.h(a)].join(""):a};e4=function e4(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return e4.l(0<c.length?new $APP.Nd(c.slice(0),0,null):null)};
e4.l=function(a){return $APP.Paa(a,$APP.yj.j($APP.jb(),$APP.bb,!1))};e4.B=0;e4.F=function(a){return this.l($APP.u(a))};WNa=new $APP.t("datascript.core","squuid","datascript.core/squuid",-408746813,null);x_=new $APP.G("db.unique","identity","db.unique/identity",1675950722);E0=new $APP.G("db","retract","db/retract",-1549825231);XNa=new $APP.t("datascript.db","IDatom","datascript.db/IDatom",293960966,null);YNa=new $APP.G(null,"incomparable","incomparable",1634329662);
ZNa=new $APP.t(null,"datom-tx","datom-tx",1349109608,null);j3=new $APP.G(null,"strs","strs",1175537277);BLa=new $APP.G("db.cardinality","one","db.cardinality/one",1428352190);w0=new $APP.G("transact","upsert","transact/upsert",412688078);e3=new $APP.G(null,"qreturn-map","qreturn-map",1841215994);$Na=new $APP.t(null,"datom-added","datom-added",-363961980,null);aOa=new $APP.t("datascript.core","filter","datascript.core/filter",-1276765471,null);f4=new $APP.G(null,"acc","acc",838566312);
GLa=new $APP.G("lookup-ref","unique","lookup-ref/unique",-960647710);a3=new $APP.G("parser","rule","parser/rule",-464044566);bOa=new $APP.t("datascript.core","q","datascript.core/q",2106686416,null);g4=new $APP.t(null,"added","added",-596784081,null);G2=new $APP.G("parser","find","parser/find",-801023103);cOa=new $APP.t(null,"entity","entity",1189561251,null);j1=new $APP.G(null,"wildcard?","wildcard?",-686044101);z0=new $APP.G("datascript.db","tx-redundant","datascript.db/tx-redundant",-1117921977);
h3=new $APP.G("parser","query","parser/query",1877320671);h1=new $APP.G(null,"last-attr","last-attr",-526000708);QLa=new $APP.G(null,"conflict","conflict",1978796605);aMa=new $APP.G("db","fn","db/fn",-1175261470);dOa=new $APP.t("datascript.core","touch","datascript.core/touch",632058772,null);Y0=new $APP.G(null,"recursion-limit","recursion-limit",52345639);B_=new $APP.G("db.type","ref","db.type/ref",-1728373079);eOa=new $APP.t(null,"variance","variance",-1522424942,null);
fOa=new $APP.t("datascript.core","reset-conn!","datascript.core/reset-conn!",-458464444,null);gOa=new $APP.t("datascript.core","with","datascript.core/with",-1124098173,null);x0=new $APP.G("db","id","db/id",-1388397098);gMa=new $APP.G("db.fn","retractAttribute","db.fn/retractAttribute",937402164);hOa=new $APP.t("datascript.db","datom-added","datascript.db/datom-added",-560586371,null);FLa=new $APP.G("lookup-ref","syntax","lookup-ref/syntax",-317304012);
iOa=new $APP.t("datascript.core","db","datascript.core/db",667170070,null);jOa=new $APP.t(null,"-index-range","-index-range",898114142,null);d0=new $APP.G(null,"tx-data","tx-data",934159761);O3=new $APP.G(null,"used-args","used-args",23596256);g3=new $APP.G(null,"qwhere","qwhere",-1645067378);j0=new $APP.G("db","ident","db/ident",-737096);e0=new $APP.G(null,"tempids","tempids",1767509089);c3=new $APP.G(null,"qfind","qfind",1529332972);
kOa=new $APP.t("datascript.core","serializable","datascript.core/serializable",-630048076,null);N3=new $APP.G(null,"prefix-context","prefix-context",-1269613591);A_=new $APP.G("db.cardinality","many","db.cardinality/many",772806234);s0=new $APP.G("datascript.db","queued-tuples","datascript.db/queued-tuples",-762852029);lOa=new $APP.t("datascript.core","pull","datascript.core/pull",-1213970902,null);c0=new $APP.G(null,"db-after","db-after",-571884666);
S2=new $APP.G("parser","where","parser/where",-966053850);h4=new $APP.G(null,"seen","seen",-518999789);mOa=new $APP.t("clojure.string","starts-with?","clojure.string/starts-with?",656256322,null);z_=new $APP.G("db.unique","value","db.unique/value",276903088);C0=new $APP.G("db.fn","retractEntity","db.fn/retractEntity",-1423535441);nOa=new $APP.t(null,"attr","attr",1036399174,null);ILa=new $APP.G("entity-id","missing","entity-id/missing",1234588374);
Y2=new $APP.t(null,"or-join","or-join",591375469,null);oOa=new $APP.G("db.pull","reverse","db.pull/reverse",1999788297);pOa=new $APP.t(null,"db-from-reader","db-from-reader",1527469533,null);qOa=new $APP.t(null,"println-str","println-str",-2049216703,null);iNa=new $APP.G("parser","with","parser/with",-386255821);rOa=new $APP.t(null,"missing?","missing?",-1710383910,null);sOa=new $APP.t("clojure.string","ends-with?","clojure.string/ends-with?",-745964149,null);
tOa=new $APP.t("datascript.core","transact!","datascript.core/transact!",1506351773,null);e_=new $APP.G(null,"avet","avet",1383857032);i4=new $APP.t(null,"schema","schema",58529736,null);$La=new $APP.G(null,"entity","entity",-450970276);uOa=new $APP.t("datascript.db","datom-tx","datascript.db/datom-tx",2084964209,null);PMa=new $APP.G("parser","in","parser/in",1617442048);vOa=new $APP.G(null,"init-db","init-db",1595181278);t_=new $APP.G(null,"hash","hash",-13781596);
wOa=new $APP.t(null,"with","with",104234651,null);b1=new $APP.G(null,"multival?","multival?",1072388383);pMa=new $APP.G("parser","pull","parser/pull",-2147427204);j4=new $APP.t(null,"tx","tx",2107161945,null);k4=new $APP.t(null,"tx-data","tx-data",-1720276008,null);xOa=new $APP.t(null,"reset-conn!","reset-conn!",1315177148,null);T2=new $APP.G(null,"rule-vars","rule-vars",1665972520);K_=new $APP.G("db","valueType","db/valueType",1827971944);n_=new $APP.G(null,"aevt","aevt",-585148059);
yOa=new $APP.G("datascript","db","datascript/db",-1190971692);zOa=new $APP.G(null,"thaw-fn","thaw-fn",-240544261);l4=new $APP.G(null,"binding","binding",539932593);PLa=new $APP.G(null,"assertion","assertion",-1645134882);$APP.R_=new $APP.G(null,"datoms","datoms",-290874434);E2=new $APP.t(null,"pull","pull",779986722,null);AOa=new $APP.t("datascript.core","conn-from-datoms","datascript.core/conn-from-datoms",253878827,null);BOa=new $APP.t(null,"untuple","untuple",-606149900,null);
m4=new $APP.t(null,"c4","c4",-1626390159,null);COa=new $APP.t(null,"index-range","index-range",1044940937,null);J3=new $APP.t(null,"-differ?","-differ?",1465687357,null);C_=new $APP.G("db","isComponent","db/isComponent",423352398);U_=new $APP.t(null,"db","db",-1661185010,null);DOa=new $APP.t(null,"sample","sample",1719555128,null);n4=new $APP.t(null,"datom","datom",1268975437,null);EOa=new $APP.G(null,"serialize","serialize",-69216574);D_=new $APP.G("db","tupleAttrs","db/tupleAttrs",250080092);
Z0=new $APP.G(null,"recursive?","recursive?",1340075244);o4=new $APP.t(null,"conn","conn",1918841190,null);FOa=new $APP.G(null,"thaw-kw","thaw-kw",1076733097);P3=new $APP.G(null,"pending-guards","pending-guards",-1255527308);p4=new $APP.G("query","binding","query/binding",698240489);eNa=new $APP.G(null,"return-map","return-map",1620104901);B3=new $APP.G(null,"tuples","tuples",-676032639);q4=new $APP.G(null,"branches","branches",-1240337268);r4=new $APP.t(null,"datoms","datoms",1349657093,null);
dMa=new $APP.G("transact","cas","transact/cas",816687170);GOa=new $APP.t("clojure.string","blank?","clojure.string/blank?",1772874244,null);HOa=new $APP.t(null,"validate-schema","validate-schema",758884380,null);a4=new $APP.G(null,"listeners","listeners",394544445);$APP.m_=new $APP.G(null,"eavt","eavt",-666437073);o_=new $APP.G(null,"max-eid","max-eid",2134868075);IOa=new $APP.t("datascript.core","index-range","datascript.core/index-range",-1484576383,null);
JOa=new $APP.t(null,"tuple","tuple",1167864243,null);hMa=new $APP.G("db","retractEntity","db/retractEntity",-1452737935);KOa=new $APP.t("datascript.core","listen!","datascript.core/listen!",1659161258,null);I_=new $APP.G(null,"attribute","attribute",-2074029119);$APP.l_=new $APP.G(null,"schema","schema",-1582001791);LOa=new $APP.t("datascript.db","DB","datascript.db/DB",348347258,null);MOa=new $APP.t("datascript.db","Datom","datascript.db/Datom",1951800754,null);
s4=new $APP.G(null,"recursion-limits","recursion-limits",1762857814);q1=new $APP.t(null,"...","...",-1926939749,null);DMa=new $APP.G(null,"freeze-kw","freeze-kw",391758233);E_=new $APP.G("db.type","tuple","db.type/tuple",938234914);y_=new $APP.G("db","index","db/index",-1531680669);CMa=new $APP.G(null,"freeze-fn","freeze-fn",-575885995);NOa=new $APP.t("datascript.core","db-with","datascript.core/db-with",-1263574350,null);w_=new $APP.G("db","unique","db/unique",329396388);
HLa=new $APP.G("entity-id","syntax","entity-id/syntax",1921317045);v3=new $APP.G(null,"sources","sources",-321166424);ZLa=new $APP.G("datascript.db","flush-tuples","datascript.db/flush-tuples",-797350002);t4=new $APP.t(null,"tx-meta","tx-meta",-1495152575,null);f0=new $APP.G(null,"tx-meta","tx-meta",1159283194);OOa=new $APP.t(null,"pull-many","pull-many",1857679657,null);POa=new $APP.t(null,"conn-from-db","conn-from-db",-184109372,null);QOa=new $APP.t(null,"ground","ground",-1460862835,null);
ROa=new $APP.t("datascript","Datom","datascript/Datom",-901340080,null);X0=new $APP.G(null,"pattern","pattern",242135423);FMa=new $APP.G("parser","rule-var","parser/rule-var",-1584354459);SOa=new $APP.t("datascript.core","create-conn","datascript.core/create-conn",-768042587,null);fMa=new $APP.G(null,"new","new",-2085437848);vLa=new $APP.G(null,"index","index",-1531685915);TOa=new $APP.t("datascript.core","empty-db","datascript.core/empty-db",-807971396,null);
UOa=new $APP.t(null,"stddev","stddev",775056588,null);u4=new $APP.t(null,"msec","msec",-1372914914,null);i0=new $APP.G(null,"entity-id","entity-id",1485898093);cMa=new $APP.G("db","cas","db/cas",-451542322);VOa=new $APP.t("datascript.core","from-serializable","datascript.core/from-serializable",-1560031101,null);p_=new $APP.G(null,"max-tx","max-tx",1119558339);g1=new $APP.G(null,"first-attr","first-attr",-1993039831);c1=new $APP.G(null,"ref?","ref?",1932693720);
WOa=new $APP.t(null,"sum","sum",1777518341,null);v4=new $APP.G(null,"attr","attr",-604132353);I1=new $APP.G(null,"visitor","visitor",-1026865865);w4=new $APP.G(null,"elements","elements",657646735);x4=new $APP.G("datascript.impl.entity","nf","datascript.impl.entity/nf",-953741353);H3=new $APP.G("query","where","query/where",-1935159429);m0=new $APP.G(null,"context","context",-830191113);XOa=new $APP.t("datascript.db","validate-schema","datascript.db/validate-schema",-783030261,null);
YOa=new $APP.t(null,"!\x3d","!\x3d",-201205829,null);w3=new $APP.G(null,"rels","rels",1770187185);ZOa=new $APP.t("datascript.core","init-db","datascript.core/init-db",1493526573,null);b0=new $APP.G(null,"db-before","db-before",-553691536);G0=new $APP.G("datascript.db","value-tempids","datascript.db/value-tempids",244806162);NLa=new $APP.G(null,"datom","datom",-371556090);MLa=new $APP.G("transact","unique","transact/unique",-940992320);
$Oa=new $APP.t("datascript.db","datom","datascript.db/datom",399198004,null);eMa=new $APP.G(null,"old","old",-1825222690);aPa=new $APP.G("db.pull","attr","db.pull/attr",-533298746);y4=new $APP.G(null,"db","db",993250759);bPa=new $APP.t("datascript.core","conn-from-db","datascript.core/conn-from-db",1590561228,null);yMa=new $APP.G("db.pull","wildcard","db.pull/wildcard",116316031);r_=new $APP.G(null,"pull-patterns","pull-patterns",-343695048);cPa=new $APP.t(null,"init-db","init-db",-1059254491,null);
dPa=new $APP.t(null,"datom-from-reader","datom-from-reader",1334075127,null);u3=new $APP.G(null,"variable","variable",-281346492);ePa=new $APP.t(null,"transact!","transact!",817805717,null);F_=new $APP.G("db","attrTuples","db/attrTuples",860541631);d1=new $APP.G(null,"component?","component?",407783990);F2=new $APP.t(null,"$","$",-1580747756,null);MMa=new $APP.t(null,"aggregate","aggregate",-1142967327,null);y0=new $APP.G("db","add","db/add",235286841);
s_=new $APP.G(null,"pull-attrs","pull-attrs",-974863177);pLa=new $APP.G(null,"tx","tx",466630418);t2=new $APP.G("parser","binding","parser/binding",-346395752);fPa=new $APP.t("datascript.db","datom-from-reader","datascript.db/datom-from-reader",2070683374,null);z4=new $APP.G(null,"element","element",1974019749);gPa=new $APP.t(null,"DB","DB",1622874957,null);hPa=new $APP.t(null,"get-some","get-some",409442058,null);iPa=new $APP.t(null,"avg","avg",1837937727,null);
A4=new $APP.G(null,"unfiltered-db","unfiltered-db",-1363720391);f1=new $APP.G(null,"attrs","attrs",-2090668713);wLa=new $APP.G(null,"components","components",-1073188942);jPa=new $APP.t(null,"create-conn","create-conn",2071410861,null);a1=new $APP.G(null,"xform","xform",-1725711008);kPa=new $APP.t(null,"rschema","rschema",444397473,null);W2=new $APP.t(null,"not-join","not-join",-645515756,null);d3=new $APP.G(null,"qwith","qwith",-45809392);hNa=new $APP.G(null,"with","with",-1536296876);
lPa=new $APP.t("datascript.core","datoms","datascript.core/datoms",961250077,null);k2=new $APP.G("parser","rule-vars","parser/rule-vars",-1493174969);mPa=new $APP.t("datascript.core","tx0","datascript.core/tx0",1432817831,null);nPa=new $APP.t("datascript.core","entity","datascript.core/entity",-1406213973,null);i1=new $APP.G(null,"reverse-attrs","reverse-attrs",630097702);H_=new $APP.G("schema","validation","schema/validation",1178447161);oNa=new $APP.G(null,"got","got",-1674745710);
B4=new $APP.t(null,"Datom","Datom",1208901035,null);$0=new $APP.G(null,"reverse?","reverse?",-1672868474);nNa=new $APP.G("query","inputs","query/inputs",1042810394);L_=new $APP.G("db","cardinality","db/cardinality",-104975659);oPa=new $APP.t(null,"serializable","serializable",1941609404,null);pPa=new $APP.t("datascript.db","db-from-reader","datascript.db/db-from-reader",266573302,null);qPa=new $APP.t(null,"count-distinct","count-distinct",-1566572514,null);
rPa=new $APP.t(null,"listen!","listen!",-115577950,null);sPa=new $APP.t(null,"db-with","db-with",233242042,null);H0=new $APP.G("db.fn","call","db.fn/call",-151594418);M3=new $APP.G(null,"prefix-clauses","prefix-clauses",1294180028);tPa=new $APP.t(null,"touch","touch",-1158163300,null);uPa=new $APP.t("datascript.core","datom","datascript.core/datom",-1596234155,null);JLa=new $APP.G("db","current-tx","db/current-tx",1600722132);J0=new $APP.G(null,"operation","operation",-1267664310);
uLa=new $APP.G(null,"index-access","index-access",-1548960265);f3=new $APP.G(null,"qin","qin",1372651151);i3=new $APP.G(null,"symbols","symbols",1211743);vPa=new $APP.t(null,"squuid","squuid",-1898207797,null);l1=new $APP.G(null,"fragment","fragment",826775688);wPa=new $APP.G("transaction","filtered","transaction/filtered",1699706605);F0=new $APP.G("datascript.db","internal","datascript.db/internal",-249301114);q_=new $APP.G(null,"rschema","rschema",-1196134054);
xPa=new $APP.t(null,"conn-from-datoms","conn-from-datoms",-1502002909,null);yPa=new $APP.t(null,"median","median",-2084869638,null);zPa=new $APP.t("clojure.string","includes?","clojure.string/includes?",-1842146260,null);APa=new $APP.t(null,"empty-db","empty-db",1486862004,null);HZ=new $APP.G(null,"v","v",21465059);l0=new $APP.G("transact","syntax","transact/syntax",-299207078);fNa=new $APP.G(null,"find","find",496279456);IZ=new $APP.G(null,"a","a",-2123407586);
BPa=new $APP.t("datascript","DB","datascript/DB",-487332776,null);xMa=new $APP.G(null,"*","*",-1294732318);l2=new $APP.G(null,"free","free",801364328);bMa=new $APP.G("db.fn","cas","db.fn/cas",-379352172);CPa=new $APP.t(null,"tx0","tx0",-4656209,null);ZMa=new $APP.G(null,"rule","rule",729973257);DPa=new $APP.t(null,"from-serializable","from-serializable",945516427,null);DLa=new $APP.t(null,"resolve-datom","resolve-datom",-294110827,null);
EPa=new $APP.t("datascript.db","rschema","datascript.db/rschema",1982085018,null);FPa=new $APP.t(null,"get-else","get-else",1312024065,null);W0=new $APP.G(null,"limit","limit",-1355822363);GPa=new $APP.t("datascript.core","pull-many","datascript.core/pull-many",394351057,null);var dLa,NY;datascript={};dLa={};$APP.h=JY.prototype;$APP.h.U=function(a,b,c){return LY.j?LY.j(this,b,c):LY.call(null,this,b,c)};$APP.h.ja=function(a,b){return $APP.bc(this.cf,b)};$APP.h.fa=function(a,b){return $APP.sv(this.cf,b,null)};$APP.h.N=function(a,b,c){return $APP.sv(this.cf,b,c)};$APP.h.V=function(a,b,c){return $APP.Sc(this.cf,b,c)};var gZ=$APP.v($APP.Vh.g(function(a){return 0!=(32&1<<a)},$APP.lo.j(31,-1,-1)))+1,fZ=(1<<gZ)-1;$APP.h=cZ.prototype;$APP.h.Oh=function(){var a=this.keys;return a[a.length-1]};$APP.h.Hi=function(){return this.keys.length};$APP.h.Qh=function(a,b){return new cZ(this.keys.concat(b.keys),this.Zb.concat(b.Zb))};$APP.h.Rh=function(a,b){a=TY(this.keys,b.keys);b=TY(this.Zb,b.Zb);return UY(new cZ(a[0],b[0]),new cZ(a[1],b[1]))};$APP.h.Ph=function(a,b,c){a=hLa(b,this.keys,c);return-1===a?null:$Y(this.Zb[a],b,c)};
$APP.h.Mh=function(a,b,c){a=QY(b,this.keys,this.keys.length-2,c);c=aZ(this.Zb[a],b,c);if($APP.l(c)){var d=this.keys,e=a+1,f=c.map(WY);b=iLa(b,d,a,e,f,f.length)?d:SY(d,a,e,f);a=SY(this.Zb,a,a+1,c);if(32>=a.length)return[new cZ(b,a)];c=a.length>>>1;return[new cZ(b.slice(0,c),a.slice(0,c)),new cZ(b.slice(c),a.slice(c))]}return null};
$APP.h.Nh=function(a,b,c,d,e,f){var g=hLa(b,this.keys,c);if(-1===g)return null;a=0<=g-1?this.Zb[g-1]:null;var m=g+1<this.Zb.length?this.Zb[g+1]:null;c=bZ(this.Zb[g],b,c,!1,a,m);if($APP.l(c)){a=$APP.l(a)?g-1:g;g=$APP.l(m)?2+g:1+g;m=this.keys;var r=c.map(WY);b=iLa(b,m,a,g,r,r.length)?m:SY(m,a,g,r);c=SY(this.Zb,a,g,c);return jLa(new cZ(b,c),d,e,f)}return null};$APP.h=dZ.prototype;$APP.h.Oh=function(){var a=this.keys;return a[a.length-1]};$APP.h.Hi=function(){return this.keys.length};
$APP.h.Qh=function(a,b){return new dZ(this.keys.concat(b.keys))};$APP.h.Rh=function(a,b){a=TY(this.keys,b.keys);return UY(new dZ(a[0]),new dZ(a[1]))};$APP.h.Ph=function(a,b,c){a=gLa(b,this.keys,c);return-1===a?null:this.keys[a]};
$APP.h.Mh=function(a,b,c){a=QY(b,this.keys,this.keys.length-1,c);var d=this.keys.length,e;if(e=a<d)e=this.keys[a],e=0===(b.g?b.g(c,e):b.call(null,c,e));return e?null:32===d?(b=d+1>>>1,a>b?[new dZ(this.keys.slice(0,b)),new dZ(RY(this.keys,b,d,a,a,[c]))]:[new dZ(RY(this.keys,0,b,a,a,[c])),new dZ(this.keys.slice(b,d))]):[new dZ(SY(this.keys,a,a,[c]))]};$APP.h.Nh=function(a,b,c,d,e,f){a=gLa(b,this.keys,c);if(-1===a)return null;a=SY(this.keys,a,a+1,[]);return jLa(new dZ(a),d,e,f)};$APP.h=$APP.eZ.prototype;
$APP.h.toString=function(){return $APP.ud(this)};$APP.h.fa=function(a,b){return $Y(this.root,this.Rc,b)};$APP.h.N=function(a,b,c){a=$Y(this.root,this.Rc,b);return $APP.l(a)?a:c};$APP.h.V=function(a,b,c){return $APP.ak(b,$APP.dk,"#{"," ","}",c,$APP.u(this))};$APP.h.W=function(){return this.K};$APP.h.ba=function(){return new $APP.eZ(this.root,this.shift,this.O,this.Rc,this.K,this.Vc)};$APP.h.aa=function(){return this.O};$APP.h.ed=function(){return $APP.Ic(pZ.h?pZ.h(this):pZ.call(null,this))};
$APP.h.Y=function(){var a=this.Vc;return null!=a?a:this.Vc=a=$APP.Wd(this)};$APP.h.R=function(a,b){var c=this;return $APP.Ie(b)&&this.O===$APP.me(b)&&$APP.vh(function(d){return $APP.cf(c,d)},b)};$APP.h.ke=function(){return this};$APP.h.Ha=function(){return new $APP.eZ(new dZ([]),0,0,this.Rc,this.K,null)};$APP.h.sg=function(a,b){return vZ.j?vZ.j(this,b,this.Rc):vZ.call(null,this,b,this.Rc)};$APP.h.Sa=function(a,b){a=pZ.h?pZ.h(this):pZ.call(null,this);return $APP.l(a)?$APP.tv(a,b):b.C?b.C():b.call(null)};
$APP.h.Oa=function(a,b,c){a=pZ.h?pZ.h(this):pZ.call(null,this);return $APP.l(a)?$APP.tv(a,b,c):c};$APP.h.Td=function(a,b){return uZ.j?uZ.j(this,b,this.Rc):uZ.call(null,this,b,this.Rc)};$APP.h.Ae=function(){return this};$APP.h.Z=function(){return pZ.h?pZ.h(this):pZ.call(null,this)};$APP.h.th=function(a,b){return vZ.j?vZ.j(this,b,this.Rc):vZ.call(null,this,b,this.Rc)};$APP.h.X=function(a,b){return new $APP.eZ(this.root,this.shift,this.O,this.Rc,b,this.Vc)};
$APP.h.da=function(a,b){return uZ.j?uZ.j(this,b,this.Rc):uZ.call(null,this,b,this.Rc)};$APP.h.call=function(a){switch(arguments.length-1){case 1:return this.h(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.p.h(arguments.length-1)].join(""));}};$APP.h.apply=function(a,b){return this.call.apply(this,[this].concat($APP.Gb(b)))};$APP.h.h=function(a){return this.fa(null,a)};$APP.h.g=function(a,b){return this.N(null,a,b)};
var jZ=function jZ(a,b,c){var e=fZ&b>>>c;if(0<c){var f=a.Zb[e],g=c-gZ;b=jZ.j?jZ.j(f,b,g):jZ.call(null,f,b,g);return-1===b?e+1<a.Zb.length?0|e+1<<c:-1:b|e<<c}return e+1<a.keys.length?0|e+1<<0:-1},mZ=function mZ(a,b,c){var e=fZ&b>>>c;if(0<c){var f=c-gZ,g=a.Zb[e];b=mZ.j?mZ.j(g,b,f):mZ.call(null,g,b,f);return-1===b?0<=e-1?(--e,lZ(a.Zb[e],f)|e<<c):-1:b|e<<c}return 0<=e-1?0|e-1<<0:-1};$APP.h=kLa.prototype;$APP.h.aa=function(){return this.end-this.vb};$APP.h.ea=function(a,b){return this.H[this.vb+b]};
$APP.h.Ua=function(a,b,c){return 0<=b&&b<this.end-this.vb?this.H[this.vb+b]:c};$APP.h.Ff=function(){if(this.vb===this.end)throw Error("-drop-first of empty chunk");return new $APP.Lg(this.H,this.vb+1,this.end)};$APP.h.Sa=function(a,b){return this.vb===this.end?b.C?b.C():b.call(null):$APP.tv(this.Ff(null),b,this.H[this.vb])};$APP.h.Oa=function(a,b,c){for(a=this.vb;;)if(a<this.end){var d=this.H[a];c=b.g?b.g(c,d):b.call(null,c,d);if($APP.be(c))return $APP.q(c);a+=1}else return c};$APP.h=qZ.prototype;
$APP.h.toString=function(){return $APP.ud(this)};$APP.h.V=function(a,b,c){return $APP.ak(b,$APP.dk,"("," ",")",c,$APP.u(this))};$APP.h.Na=function(){if($APP.l(this.keys)){if(this.idx+1<this.keys.length)return this.left+1<this.right?new qZ(this.set,this.left+1,this.right,this.keys,this.idx+1):null;var a=kZ(this.set,this.left);return $APP.xj.g(-1,a)&&a<this.right?this.Og(a,this.right):null}return null};
$APP.h.ed=function(){if($APP.l(this.keys)){var a=this.set,b=nZ(this.set,this.left),c=nZ(this.set,this.right);return sZ.j?sZ.j(a,b,c):sZ.call(null,a,b,c)}return null};$APP.h.R=function(a,b){return $APP.rg(this,b)};$APP.h.Sa=function(a,b){if(null==this.keys)return b.C?b.C():b.call(null);a=this.Ta(null);var c=this.Na(null);return null==c?a:$APP.tv(c,b,a)};
$APP.h.Oa=function(a,b,c){a=this.left;for(var d=this.keys,e=this.idx;;){if(null==d)return c;var f=d[e];c=b.g?b.g(c,f):b.call(null,c,f);if($APP.be(c))return $APP.q(c);if(e+1<d.length)if(a+1<this.right)e+=1,a+=1;else return c;else if(a=kZ(this.set,a),-1!==a&&a<this.right)d=hZ(this.set,a),e=fZ&a>>>0;else return c}};$APP.h.Ta=function(){return $APP.l(this.keys)?this.keys[this.idx]:null};$APP.h.nb=function(){var a=this.Na(null);return $APP.l(a)?a:$APP.Qd};
$APP.h.Z=function(){return $APP.l(this.keys)?this:null};$APP.h.nf=function(){var a=$APP.A.g(this.left|fZ,this.right|fZ)?this.right&fZ:this.keys.length;return new kLa(this.keys,this.idx,a)};$APP.h.ye=function(){var a=this.Ve();return $APP.l(a)?a:$APP.Qd};$APP.h.Og=function(a,b){return new qZ(this.set,a,b,hZ(this.set,a),fZ&a>>>0)};$APP.h.Ve=function(){var a=kZ(this.set,this.left+(this.keys.length-this.idx-1));return $APP.xj.g(-1,a)&&a<this.right?this.Og(a,this.right):null};$APP.h=rZ.prototype;
$APP.h.toString=function(){return $APP.ud(this)};$APP.h.V=function(a,b,c){return $APP.ak(b,$APP.dk,"("," ",")",c,$APP.u(this))};$APP.h.Na=function(){if($APP.l(this.keys)){if(0<=this.idx-1)return this.right-1>this.left?new rZ(this.set,this.left,this.right-1,this.keys,this.idx-1):null;var a=nZ(this.set,this.right);return $APP.xj.g(-1,a)&&a>this.left?this.Og(this.left,a):null}return null};
$APP.h.ed=function(){if($APP.l(this.keys)){var a=-1===this.left?0:kZ(this.set,this.left),b=kZ(this.set,this.right);return oZ(this.set,a,-1===b?this.right+1:b)}return null};$APP.h.R=function(a,b){return $APP.rg(this,b)};$APP.h.Ta=function(){return $APP.l(this.keys)?this.keys[this.idx]:null};$APP.h.nb=function(){var a=this.Na(null);return $APP.l(a)?a:$APP.Qd};$APP.h.Z=function(){return $APP.l(this.keys)?this:null};$APP.h.Og=function(a,b){return new rZ(this.set,a,b,hZ(this.set,b),fZ&b>>>0)};var rLa=Error,ULa=$APP.Rn.g($APP.vg,$APP.Xh),ALa=$APP.Rn.g($APP.vg,$APP.Cj);$APP.h=$APP.DZ.prototype;$APP.h.gb=function(){return 0<this.tx?this.tx:-this.tx};$APP.h.fd=function(){return 0<this.tx};$APP.h.Y=function(){return 0===this.Vc?this.Vc=EZ.h?EZ.h(this):EZ.call(null,this):this.Vc};$APP.h.R=function(a,b){return(a=b instanceof $APP.DZ)?FZ.g?FZ.g(this,b):FZ.call(null,this,b):a};$APP.h.Z=function(){return GZ.h?GZ.h(this):GZ.call(null,this)};
$APP.h.fa=function(a,b){return JZ.j?JZ.j(this,b,null):JZ.call(null,this,b,null)};$APP.h.N=function(a,b,c){return JZ.j?JZ.j(this,b,c):JZ.call(null,this,b,c)};$APP.h.ea=function(a,b){return KZ?KZ(this,b):qLa.call(null,this,b)};$APP.h.Ua=function(a,b,c){return LZ?LZ(this,b,c):qLa.call(null,this,b,c)};$APP.h.U=function(a,b,c){return NZ.j?NZ.j(this,b,c):NZ.call(null,this,b,c)};
$APP.h.V=function(a,b,c){return $APP.ak(b,$APP.dk,"#datascript/Datom ["," ","]",c,new $APP.J(null,5,5,$APP.K,[this.e,this.a,this.v,this.gb(null),this.fd(null)],null))};cLa("datascript.db.Datom",$APP.DZ);
var MZ=function MZ(a){switch(arguments.length){case 3:return MZ.j(arguments[0],arguments[1],arguments[2]);case 4:return MZ.G(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return MZ.P(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",$APP.p.h(arguments.length)].join(""));}};MZ.j=function(a,b,c){return new $APP.DZ(a,b,c,536870912,0,0)};MZ.G=function(a,b,c,d){return new $APP.DZ(a,b,c,d,0,0)};
MZ.P=function(a,b,c,d,e){return new $APP.DZ(a,b,c,$APP.l(e)?d:-d,0,0)};MZ.B=5;$APP.h=$APP.k_.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};
$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "schema":return this.mc;case "eavt":return this.Sb;case "aevt":return this.pc;case "avet":return this.ic;case "max-eid":return this.Ec;case "max-tx":return this.Fc;case "rschema":return this.vc;case "pull-patterns":return this.uc;case "pull-attrs":return this.tc;case "hash":return this.hash;default:return $APP.D.j(this.o,b,c)}};
$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.db.DB{",", ","}",c,$APP.P.g(new $APP.J(null,10,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[$APP.l_,this.mc],null),new $APP.J(null,2,5,$APP.K,[$APP.m_,this.Sb],null),new $APP.J(null,2,5,$APP.K,[n_,this.pc],null),new $APP.J(null,2,5,$APP.K,[e_,this.ic],null),new $APP.J(null,2,5,$APP.K,[o_,this.Ec],null),new $APP.J(null,2,5,$APP.K,[p_,this.Fc],null),new $APP.J(null,2,5,$APP.K,[q_,this.vc],null),new $APP.J(null,
2,5,$APP.K,[r_,this.uc],null),new $APP.J(null,2,5,$APP.K,[s_,this.tc],null),new $APP.J(null,2,5,$APP.K,[t_,this.hash],null)],null),this.o))};$APP.h.ha=function(){return new $APP.Bi(this,10,new $APP.J(null,10,5,$APP.K,[$APP.l_,$APP.m_,n_,e_,o_,p_,q_,r_,s_,t_],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new $APP.k_(this.mc,this.Sb,this.pc,this.ic,this.Ec,this.Fc,this.vc,this.uc,this.tc,this.hash,this.A,this.o,this.D)};
$APP.h.aa=function(){return 10+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1515640948^$APP.Wd(this)};$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.mc,b.mc)&&$APP.A.g(this.Sb,b.Sb)&&$APP.A.g(this.pc,b.pc)&&$APP.A.g(this.ic,b.ic)&&$APP.A.g(this.Ec,b.Ec)&&$APP.A.g(this.Fc,b.Fc)&&$APP.A.g(this.vc,b.vc)&&$APP.A.g(this.uc,b.uc)&&$APP.A.g(this.tc,b.tc)&&$APP.A.g(this.hash,b.hash)&&$APP.A.g(this.o,b.o)};
$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,10,[$APP.l_,null,p_,null,t_,null,n_,null,e_,null,o_,null,$APP.m_,null,s_,null,r_,null,q_,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new $APP.k_(this.mc,this.Sb,this.pc,this.ic,this.Ec,this.Fc,this.vc,this.uc,this.tc,this.hash,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};
$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "schema":case "eavt":case "aevt":case "avet":case "max-eid":case "max-tx":case "rschema":case "pull-patterns":case "pull-attrs":case "hash":return!0;default:return $APP.cf(this.o,b)}};
$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g($APP.l_,b):$APP.H.call(null,$APP.l_,b))?new $APP.k_(c,this.Sb,this.pc,this.ic,this.Ec,this.Fc,this.vc,this.uc,this.tc,this.hash,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g($APP.m_,b):$APP.H.call(null,$APP.m_,b))?new $APP.k_(this.mc,c,this.pc,this.ic,this.Ec,this.Fc,this.vc,this.uc,this.tc,this.hash,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(n_,b):$APP.H.call(null,n_,b))?new $APP.k_(this.mc,this.Sb,c,this.ic,this.Ec,this.Fc,this.vc,this.uc,
this.tc,this.hash,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(e_,b):$APP.H.call(null,e_,b))?new $APP.k_(this.mc,this.Sb,this.pc,c,this.Ec,this.Fc,this.vc,this.uc,this.tc,this.hash,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(o_,b):$APP.H.call(null,o_,b))?new $APP.k_(this.mc,this.Sb,this.pc,this.ic,c,this.Fc,this.vc,this.uc,this.tc,this.hash,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(p_,b):$APP.H.call(null,p_,b))?new $APP.k_(this.mc,this.Sb,this.pc,this.ic,this.Ec,c,this.vc,this.uc,this.tc,this.hash,
this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(q_,b):$APP.H.call(null,q_,b))?new $APP.k_(this.mc,this.Sb,this.pc,this.ic,this.Ec,this.Fc,c,this.uc,this.tc,this.hash,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(r_,b):$APP.H.call(null,r_,b))?new $APP.k_(this.mc,this.Sb,this.pc,this.ic,this.Ec,this.Fc,this.vc,c,this.tc,this.hash,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(s_,b):$APP.H.call(null,s_,b))?new $APP.k_(this.mc,this.Sb,this.pc,this.ic,this.Ec,this.Fc,this.vc,this.uc,c,this.hash,this.A,this.o,
null):$APP.l($APP.H.g?$APP.H.g(t_,b):$APP.H.call(null,t_,b))?new $APP.k_(this.mc,this.Sb,this.pc,this.ic,this.Ec,this.Fc,this.vc,this.uc,this.tc,c,this.A,this.o,null):new $APP.k_(this.mc,this.Sb,this.pc,this.ic,this.Ec,this.Fc,this.vc,this.uc,this.tc,this.hash,this.A,$APP.yj.j(this.o,b,c),null)};
$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,10,5,$APP.K,[new $APP.df($APP.l_,this.mc,null),new $APP.df($APP.m_,this.Sb,null),new $APP.df(n_,this.pc,null),new $APP.df(e_,this.ic,null),new $APP.df(o_,this.Ec,null),new $APP.df(p_,this.Fc,null),new $APP.df(q_,this.vc,null),new $APP.df(r_,this.uc,null),new $APP.df(s_,this.tc,null),new $APP.df(t_,this.hash,null)],null),this.o))};
$APP.h.X=function(a,b){return new $APP.k_(this.mc,this.Sb,this.pc,this.ic,this.Ec,this.Fc,this.vc,this.uc,this.tc,this.hash,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};
$APP.h.yi=function(a,b){a:for(var c=$APP.m_.h(b),d=b=a=$APP.Xh,e=this.Sb;;){if($APP.Ge(e)){var f=new $APP.J(null,3,5,$APP.K,[$APP.ch(a),$APP.ch($APP.Ji.g(b,c)),$APP.ch(d)],null);break a}if($APP.Ge(c)){f=new $APP.J(null,3,5,$APP.K,[$APP.ch($APP.Ji.g(a,e)),$APP.ch(b),$APP.ch(d)],null);break a}var g=$APP.v(e),m=$APP.v(c);try{f=WZ.g?WZ.g(g,m):WZ.call(null,g,m)}catch(r){if(r instanceof Error)f=YNa;else throw r;}if($APP.A.g(f,YNa))a=$APP.vg.g(a,g),b=$APP.vg.g(b,m),e=$APP.y(e),c=$APP.y(c);else if(0===f)d=
$APP.vg.g(d,g),e=$APP.y(e),c=$APP.y(c);else if(0>f)a=$APP.vg.g(a,g),e=$APP.y(e);else if(0<f)b=$APP.vg.g(b,m),c=$APP.y(c);else{f=null;break a}}return f};$APP.h.Ia=$APP.Cd;$APP.h.V=function(a,b,c){return Q_.j?Q_.j(this,b,c):Q_.call(null,this,b,c)};$APP.h.ih=$APP.Cd;$APP.h.aa=function(){return $APP.me(this.Sb)};$APP.h.Cj=$APP.Cd;$APP.h.ed=function(){return $APP.Ic(this.Sb)};$APP.h.Hf=$APP.Cd;$APP.h.Y=function(){return N_.h?N_.h(this):N_.call(null,this)};
$APP.h.R=function(a,b){return P_.g?P_.g(this,b):P_.call(null,this,b)};$APP.h.jh=$APP.Cd;$APP.h.ke=function(){return $APP.Tn.j($APP.Tn.j($APP.Tn.j(this,$APP.m_,$APP.Rg),n_,$APP.Rg),e_,$APP.Rg)};$APP.h.kh=$APP.Cd;$APP.h.Ha=function(){var a=this.mc;a=C4.h?C4.h(a):C4.call(null,a);return $APP.Ce(a,$APP.De(this))};$APP.h.Td=function(){throw $APP.Sm.g("datascript.DB/conj! is not supported",$APP.ah);};$APP.h.Ae=function(){return $APP.Tn.j($APP.Tn.j($APP.Tn.j(this,$APP.m_,$APP.Sg),n_,$APP.Sg),e_,$APP.Sg)};
$APP.h.zi=function(){return yOa};$APP.h.Eh=function(a,b,c){g_(this,b,c);return wZ($APP.D.g(this,b),$_.P?$_.P(this,b,c,0,536870912):$_.call(null,this,b,c,0,536870912),$_.P?$_.P(this,b,c,2147483647,2147483647):$_.call(null,this,b,c,2147483647,2147483647))};$APP.h.Gh=function(a,b,c){g_(this,b,c);return wZ($APP.D.g(this,b),$_.P?$_.P(this,b,c,0,536870912):$_.call(null,this,b,c,0,536870912),MZ.G(2147483647,null,null,2147483647))};
$APP.h.Fh=function(a,b,c,d){g_(this,e_,new $APP.J(null,1,5,$APP.K,[b],null));a=new $APP.E(null,jOa,new $APP.E(null,U_,new $APP.E(null,b,new $APP.E(null,c,new $APP.E(null,d,null,1,null),2,null),3,null),4,null),5,null);V_.g?V_.g(b,a):V_.call(null,b,a);return wZ(this.ic,Z_.Fa?Z_.Fa(this,null,b,c,null,0,536870912):Z_.call(null,this,null,b,c,null,0,536870912),Z_.Fa?Z_.Fa(this,null,b,d,null,2147483647,2147483647):Z_.call(null,this,null,b,d,null,2147483647,2147483647))};$APP.h.Bh=$APP.Cd;$APP.h.Dh=function(){return this.mc};
$APP.h.Ch=function(a,b){a=this.vc;return a.h?a.h(b):a.call(null,b)};$APP.h.Ai=$APP.Cd;
$APP.h.Hh=function(a,b){a=$APP.B.j(b,0,null);var c=$APP.B.j(b,1,null),d=$APP.B.j(b,2,null),e=$APP.B.j(b,3,null);b=this.Sb;var f=this.pc,g=this.ic;$APP.cf(j_(this,A_),c);return $APP.l(a)?$APP.l(c)?null!=d?$APP.l(e)?wZ(b,MZ.G(a,c,d,e),MZ.G(a,c,d,e)):wZ(b,MZ.G(a,c,d,536870912),MZ.G(a,c,d,2147483647)):$APP.l(e)?$APP.Vh.g(function(m){return $APP.A.g(e,m.gb(null))},wZ(b,MZ.G(a,c,null,536870912),MZ.G(a,c,null,2147483647))):wZ(b,MZ.G(a,c,null,536870912),MZ.G(a,c,null,2147483647)):null!=d?$APP.l(e)?$APP.Vh.g(function(m){return $APP.A.g(d,
m.v)&&$APP.A.g(e,m.gb(null))},wZ(b,MZ.G(a,null,null,536870912),MZ.G(a,null,null,2147483647))):$APP.Vh.g(function(m){return $APP.A.g(d,m.v)},wZ(b,MZ.G(a,null,null,536870912),MZ.G(a,null,null,2147483647))):$APP.l(e)?$APP.Vh.g(function(m){return $APP.A.g(e,m.gb(null))},wZ(b,MZ.G(a,null,null,536870912),MZ.G(a,null,null,2147483647))):wZ(b,MZ.G(a,null,null,536870912),MZ.G(a,null,null,2147483647)):$APP.l(c)?null!=d?$APP.l(e)?$APP.l(f_.g?f_.g(this,c):f_.call(null,this,c))?$APP.Vh.g(function(m){return $APP.A.g(e,
m.gb(null))},wZ(g,MZ.G(0,c,d,536870912),MZ.G(2147483647,c,d,2147483647))):$APP.Vh.g(function(m){return $APP.A.g(d,m.v)&&$APP.A.g(e,m.gb(null))},wZ(f,MZ.G(0,c,null,536870912),MZ.G(2147483647,c,null,2147483647))):$APP.l(f_.g?f_.g(this,c):f_.call(null,this,c))?wZ(g,MZ.G(0,c,d,536870912),MZ.G(2147483647,c,d,2147483647)):$APP.Vh.g(function(m){return $APP.A.g(d,m.v)},wZ(f,MZ.G(0,c,null,536870912),MZ.G(2147483647,c,null,2147483647))):$APP.l(e)?$APP.Vh.g(function(m){return $APP.A.g(e,m.gb(null))},wZ(f,MZ.G(0,
c,null,536870912),MZ.G(2147483647,c,null,2147483647))):wZ(f,MZ.G(0,c,null,536870912),MZ.G(2147483647,c,null,2147483647)):null!=d?$APP.l(e)?$APP.Vh.g(function(m){return $APP.A.g(d,m.v)&&$APP.A.g(e,m.gb(null))},b):$APP.Vh.g(function(m){return $APP.A.g(d,m.v)},b):$APP.l(e)?$APP.Vh.g(function(m){return $APP.A.g(e,m.gb(null))},b):b};$APP.h=v_.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};
$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "unfiltered-db":return this.xc;case "pred":return this.ec;case "hash":return this.hash;default:return $APP.D.j(this.o,b,c)}};$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.db.FilteredDB{",", ","}",c,$APP.P.g(new $APP.J(null,3,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[A4,this.xc],null),new $APP.J(null,2,5,$APP.K,[$APP.dC,this.ec],null),new $APP.J(null,2,5,$APP.K,[t_,this.hash],null)],null),this.o))};$APP.h.ha=function(){return new $APP.Bi(this,3,new $APP.J(null,3,5,$APP.K,[A4,$APP.dC,t_],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};
$APP.h.ba=function(){return new v_(this.xc,this.ec,this.hash,this.A,this.o,this.D)};$APP.h.aa=function(){return 3+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=-351969977^$APP.Wd(this)};$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.xc,b.xc)&&$APP.A.g(this.ec,b.ec)&&$APP.A.g(this.hash,b.hash)&&$APP.A.g(this.o,b.o)};
$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,3,[t_,null,$APP.dC,null,A4,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new v_(this.xc,this.ec,this.hash,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "unfiltered-db":case "pred":case "hash":return!0;default:return $APP.cf(this.o,b)}};
$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g(A4,b):$APP.H.call(null,A4,b))?new v_(c,this.ec,this.hash,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g($APP.dC,b):$APP.H.call(null,$APP.dC,b))?new v_(this.xc,c,this.hash,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(t_,b):$APP.H.call(null,t_,b))?new v_(this.xc,this.ec,c,this.A,this.o,null):new v_(this.xc,this.ec,this.hash,this.A,$APP.yj.j(this.o,b,c),null)};
$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,3,5,$APP.K,[new $APP.df(A4,this.xc,null),new $APP.df($APP.dC,this.ec,null),new $APP.df(t_,this.hash,null)],null),this.o))};$APP.h.X=function(a,b){return new v_(this.xc,this.ec,this.hash,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.mi=$APP.Cd;$APP.h.fa=function(){throw Error("-lookup is not supported on FilteredDB");};
$APP.h.N=function(){throw Error("-lookup is not supported on FilteredDB");};$APP.h.Ia=$APP.Cd;$APP.h.V=function(a,b,c){return Q_.j?Q_.j(this,b,c):Q_.call(null,this,b,c)};$APP.h.ih=$APP.Cd;$APP.h.aa=function(){return $APP.me(b_(this,$APP.m_,$APP.Xh))};$APP.h.Hf=$APP.Cd;$APP.h.Y=function(){return O_.h?O_.h(this):O_.call(null,this)};$APP.h.R=function(a,b){return P_.g?P_.g(this,b):P_.call(null,this,b)};$APP.h.kh=$APP.Cd;$APP.h.Ha=function(){throw Error("-empty is not supported on FilteredDB");};
$APP.h.hh=$APP.Cd;$APP.h.ja=function(){throw Error("-contains-key? is not supported on FilteredDB");};$APP.h.U=function(){throw Error("-assoc is not supported on FilteredDB");};$APP.h.Eh=function(a,b,c){return $APP.Vh.g(this.ec,b_(this.xc,b,c))};$APP.h.Gh=function(a,b,c){return $APP.Vh.g(this.ec,c_(this.xc,b,c))};$APP.h.Fh=function(a,b,c,d){return $APP.Vh.g(this.ec,d_(this.xc,b,c,d))};$APP.h.Bh=$APP.Cd;$APP.h.Dh=function(){return i_(this.xc)};$APP.h.Ch=function(a,b){return j_(this.xc,b)};
$APP.h.Ai=$APP.Cd;$APP.h.Hh=function(a,b){return $APP.Vh.g(this.ec,$Z(this.xc,b))};var C4=function C4(a){switch(arguments.length){case 0:return C4.C();case 1:return C4.h(arguments[0]);default:throw Error(["Invalid arity: ",$APP.p.h(arguments.length)].join(""));}};C4.C=function(){return C4.h(null)};
C4.h=function(a){M_(a);return u_($APP.kj([$APP.l_,p_,t_,n_,e_,o_,$APP.m_,s_,r_,q_],[a,536870912,$APP.Ak.h(0),yZ(TZ),yZ(UZ),0,yZ(SZ),OY(),OY(),G_($APP.Hm.l($APP.C([new $APP.k(null,1,[j0,new $APP.k(null,1,[w_,x_],null)],null),a])))]))};C4.B=1;var S_=function S_(a){switch(arguments.length){case 1:return S_.h(arguments[0]);case 2:return S_.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.p.h(arguments.length)].join(""));}};S_.h=function(a){return S_.g(a,null)};
S_.g=function(a,b){var c=$APP.v($APP.Qj.g(oLa,a));if(null!=c)throw $APP.Sm.g(["init-db expects list of Datoms, got ",$APP.yk.l($APP.C([$APP.Cb(c)]))].join(""),new $APP.k(null,1,[$APP.zJ,vOa],null));M_(b);c=G_($APP.Hm.l($APP.C([new $APP.k(null,1,[j0,new $APP.k(null,1,[w_,x_],null)],null),b])));var d=y_.h(c),e=PY(a)?a:eLa(a);e.sort(XZ);var f=xZ(SZ,e);e.sort(YZ);e=xZ(TZ,e);a=$APP.Vh.g(function(r){return $APP.cf(d,r.a)},a);a=$APP.of(a);a.sort(ZZ);a=xZ(UZ,a);var g=CLa(f),m=$APP.Av.G($APP.ek.h(function(r){return r.gb(null)}),
$APP.ko,536870912,f);return u_($APP.kj([$APP.l_,p_,t_,n_,e_,o_,$APP.m_,s_,r_,q_],[b,m,$APP.Ak.h(0),e,a,g,f,OY(),OY(),c]))};S_.B=2;$APP.h=a0.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "db-before":return this.ud;case "db-after":return this.td;case "tx-data":return this.xd;case "tempids":return this.vd;case "tx-meta":return this.yd;default:return $APP.D.j(this.o,b,c)}};
$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.db.TxReport{",", ","}",c,$APP.P.g(new $APP.J(null,5,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[b0,this.ud],null),new $APP.J(null,2,5,$APP.K,[c0,this.td],null),new $APP.J(null,2,5,$APP.K,[d0,this.xd],null),new $APP.J(null,2,5,$APP.K,[e0,this.vd],null),new $APP.J(null,2,5,$APP.K,[f0,this.yd],null)],null),this.o))};
$APP.h.ha=function(){return new $APP.Bi(this,5,new $APP.J(null,5,5,$APP.K,[b0,c0,d0,e0,f0],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new a0(this.ud,this.td,this.xd,this.vd,this.yd,this.A,this.o,this.D)};$APP.h.aa=function(){return 5+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=-2022644885^$APP.Wd(this)};
$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.ud,b.ud)&&$APP.A.g(this.td,b.td)&&$APP.A.g(this.xd,b.xd)&&$APP.A.g(this.vd,b.vd)&&$APP.A.g(this.yd,b.yd)&&$APP.A.g(this.o,b.o)};$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,5,[e0,null,c0,null,b0,null,d0,null,f0,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new a0(this.ud,this.td,this.xd,this.vd,this.yd,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};
$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "db-before":case "db-after":case "tx-data":case "tempids":case "tx-meta":return!0;default:return $APP.cf(this.o,b)}};
$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g(b0,b):$APP.H.call(null,b0,b))?new a0(c,this.td,this.xd,this.vd,this.yd,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(c0,b):$APP.H.call(null,c0,b))?new a0(this.ud,c,this.xd,this.vd,this.yd,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(d0,b):$APP.H.call(null,d0,b))?new a0(this.ud,this.td,c,this.vd,this.yd,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(e0,b):$APP.H.call(null,e0,b))?new a0(this.ud,this.td,this.xd,c,this.yd,this.A,this.o,null):$APP.l($APP.H.g?
$APP.H.g(f0,b):$APP.H.call(null,f0,b))?new a0(this.ud,this.td,this.xd,this.vd,c,this.A,this.o,null):new a0(this.ud,this.td,this.xd,this.vd,this.yd,this.A,$APP.yj.j(this.o,b,c),null)};$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,5,5,$APP.K,[new $APP.df(b0,this.ud,null),new $APP.df(c0,this.td,null),new $APP.df(d0,this.xd,null),new $APP.df(e0,this.vd,null),new $APP.df(f0,this.yd,null)],null),this.o))};
$APP.h.X=function(a,b){return new a0(this.ud,this.td,this.xd,this.vd,this.yd,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};var I0=new $APP.Bj(null,new $APP.k(null,8,[H0,null,cMa,null,C0,null,hMa,null,E0,null,gMa,null,bMa,null,y0,null],null),null);$APP.h=P0.prototype;$APP.h.entry_set=function(){return $APP.of($APP.ek.g($APP.of,O0(this)))};
$APP.h.forEach=function(){function a(d,e){for(var f=$APP.u(O0(this)),g=null,m=0,r=0;;)if(r<m){var n=g.ea(null,r),w=$APP.B.j(n,0,null);n=$APP.B.j(n,1,null);d.call(e,n,w,this);r+=1}else if(f=$APP.u(f))$APP.Pe(f)?(g=$APP.hd(f),f=$APP.id(f),w=g,m=$APP.me(g),g=w):(g=$APP.v(f),w=$APP.B.j(g,0,null),n=$APP.B.j(g,1,null),d.call(e,n,w,this),f=$APP.y(f),g=null,m=0),r=0;else return null}function b(d){for(var e=$APP.u(O0(this)),f=null,g=0,m=0;;)if(m<g){var r=f.ea(null,m),n=$APP.B.j(r,0,null);r=$APP.B.j(r,1,null);
d.j?d.j(r,n,this):d.call(null,r,n,this);m+=1}else if(e=$APP.u(e))$APP.Pe(e)?(f=$APP.hd(e),e=$APP.id(e),n=f,g=$APP.me(f),f=n):(f=$APP.v(e),n=$APP.B.j(f,0,null),r=$APP.B.j(f,1,null),d.j?d.j(r,n,this):d.call(null,r,n,this),e=$APP.y(e),f=null,g=0),m=0;else return null}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+arguments.length);};c.h=b;c.g=a;return c}();
$APP.h.get=function(a){if($APP.A.g(a,":db/id"))return this.eid;if(u0(a))return M0(jMa(this.db,this.eid,v0(a),null));var b=R0?R0(this,a):T0.call(null,this,a);return h0(this.db,a)?M0(b):b};$APP.h.key_set=function(){return $APP.of($APP.uj(this))};$APP.h.entries=function(){return $APP.Ci(O0(this))};$APP.h.value_set=function(){return $APP.of($APP.ek.g($APP.re,O0(this)))};$APP.h.toString=function(){return $APP.ud(this)};$APP.h.keys=function(){return $APP.Td($APP.uj(this))};
$APP.h.values=function(){return $APP.Td($APP.ek.g($APP.re,O0(this)))};$APP.h.equiv=function(a){return Q0.g?Q0.g(this,a):Q0.call(null,this,a)};$APP.h.has=function(a){return null!=this.get(a)};$APP.h.fa=function(a,b){return S0?S0(this,b,null):T0.call(null,this,b,null)};$APP.h.N=function(a,b,c){return S0?S0(this,b,c):T0.call(null,this,b,c)};$APP.h.V=function(a,b,c){return $APP.Sc($APP.yj.j($APP.q(this.cache),x0,this.eid),b,c)};$APP.h.aa=function(){N0.h?N0.h(this):N0.call(null,this);return $APP.me($APP.q(this.cache))};
$APP.h.Y=function(){return $APP.Dd(this.eid)};$APP.h.R=function(a,b){return Q0.g?Q0.g(this,b):Q0.call(null,this,b)};$APP.h.ja=function(a,b){return $APP.xj.g(x4,S0?S0(this,b,x4):T0.call(null,this,b,x4))};$APP.h.Z=function(){N0.h?N0.h(this):N0.call(null,this);return $APP.u($APP.q(this.cache))};
$APP.h.call=function(a){switch(arguments.length-1){case 1:return this.h(arguments[1]);case 2:return this.g(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.p.h(arguments.length-1)].join(""));}};$APP.h.apply=function(a,b){return this.call.apply(this,[this].concat($APP.Gb(b)))};$APP.h.h=function(a){return R0?R0(this,a):T0.call(null,this,a)};$APP.h.g=function(a,b){return S0?S0(this,a,b):T0.call(null,this,a,b)};cLa("datascript.impl.entity.Entity",P0);var D4=function D4(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return D4.l(0<c.length?new $APP.Nd(c.slice(0),0,null):null)};D4.l=function(a){var b=$APP.me(a);return $APP.xj.g($APP.Mh.g(b/2,a),$APP.Nh.g(b/2,a))};D4.B=0;D4.F=function(a){return this.l($APP.u(a))};var E4=function E4(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return E4.l(arguments[0],arguments[1],2<c.length?new $APP.Nd(c.slice(2),0,null):null)};
E4.l=function(a,b,c){return $APP.nf.j(function(d,e){d=$APP.v($Z(a,new $APP.J(null,2,5,$APP.K,[b,e],null)));return null==d?null:$APP.ae(new $APP.J(null,2,5,$APP.K,[IZ.h(d),HZ.h(d)],null))},null,c)};E4.B=2;E4.F=function(a){var b=$APP.v(a),c=$APP.y(a);a=$APP.v(c);c=$APP.y(c);return this.l(b,a,c)};var F4=function F4(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return F4.l(0<c.length?new $APP.Nd(c.slice(0),0,null):null)};
F4.l=function(a){return $APP.nf.j(function(b,c){return $APP.l(c)?c:$APP.ae(c)},!0,a)};F4.B=0;F4.F=function(a){return this.l($APP.u(a))};var G4=function G4(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return G4.l(0<c.length?new $APP.Nd(c.slice(0),0,null):null)};G4.l=function(a){return $APP.nf.j(function(b,c){return $APP.l(c)?$APP.ae(c):c},null,a)};G4.B=0;G4.F=function(a){return this.l($APP.u(a))};
var H4=function H4(a){switch(arguments.length){case 1:return H4.h(arguments[0]);case 2:return H4.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return H4.l(arguments[0],arguments[1],new $APP.Nd(c.slice(2),0,null))}};H4.h=function(){return!0};H4.g=function(a,b){return 0>QZ(a,b)};H4.l=function(a,b,c){for(;;)if(H4.g(a,b))if($APP.y(c))a=b,b=$APP.v(c),c=$APP.y(c);else return H4.g(b,$APP.v(c));else return!1};
H4.F=function(a){var b=$APP.v(a),c=$APP.y(a);a=$APP.v(c);c=$APP.y(c);return this.l(b,a,c)};H4.B=2;var I4=function I4(a){switch(arguments.length){case 1:return I4.h(arguments[0]);case 2:return I4.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return I4.l(arguments[0],arguments[1],new $APP.Nd(c.slice(2),0,null))}};I4.h=function(){return!0};I4.g=function(a,b){return 0<QZ(a,b)};
I4.l=function(a,b,c){for(;;)if(I4.g(a,b))if($APP.y(c))a=b,b=$APP.v(c),c=$APP.y(c);else return I4.g(b,$APP.v(c));else return!1};I4.F=function(a){var b=$APP.v(a),c=$APP.y(a);a=$APP.v(c);c=$APP.y(c);return this.l(b,a,c)};I4.B=2;
var J4=function J4(a){switch(arguments.length){case 1:return J4.h(arguments[0]);case 2:return J4.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return J4.l(arguments[0],arguments[1],new $APP.Nd(c.slice(2),0,null))}};J4.h=function(){return!0};J4.g=function(a,b){return!(0<QZ(a,b))};J4.l=function(a,b,c){for(;;)if(J4.g(a,b))if($APP.y(c))a=b,b=$APP.v(c),c=$APP.y(c);else return J4.g(b,$APP.v(c));else return!1};
J4.F=function(a){var b=$APP.v(a),c=$APP.y(a);a=$APP.v(c);c=$APP.y(c);return this.l(b,a,c)};J4.B=2;var K4=function K4(a){switch(arguments.length){case 1:return K4.h(arguments[0]);case 2:return K4.g(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return K4.l(arguments[0],arguments[1],new $APP.Nd(c.slice(2),0,null))}};K4.h=function(){return!0};K4.g=function(a,b){return!(0>QZ(a,b))};
K4.l=function(a,b,c){for(;;)if(K4.g(a,b))if($APP.y(c))a=b,b=$APP.v(c),c=$APP.y(c);else return K4.g(b,$APP.v(c));else return!1};K4.F=function(a){var b=$APP.v(a),c=$APP.y(a);a=$APP.v(c);c=$APP.y(c);return this.l(b,a,c)};K4.B=2;
var p1=$APP.kj([$APP.dJ,$APP.qt,$APP.Kx,FPa,$APP.tI,$APP.dG,$APP.kI,$APP.HF,hPa,$APP.hx,BOa,$APP.TA,$APP.xn,$APP.lM,$APP.jD,$APP.lA,$APP.qE,J3,JOa,$APP.sH,$APP.gI,mOa,$APP.lI,$APP.WJ,$APP.CH,$APP.fA,rOa,QOa,$APP.Ey,$APP.OJ,$APP.qI,$APP.JE,$APP.rL,$APP.uL,$APP.qL,$APP.$x,$APP.BH,$APP.mB,qOa,$APP.dy,$APP.AG,YOa,$APP.VG,$APP.hL,$APP.Fz,$APP.py,$APP.yA,$APP.hy,$APP.cG,$APP.jI,$APP.fE,$APP.QJ,$APP.DH,$APP.eE,$APP.vx,$APP.RG,$APP.nA,$APP.rB,$APP.Xx,sOa,$APP.zI,$APP.GK,zPa,$APP.JB,$APP.IA,$APP.lF,$APP.FC,
$APP.mF,GOa,$APP.RB,$APP.wt,$APP.TJ,$APP.BG,$APP.Ty],[$APP.Te,F4,$APP.yh,function(a,b,c,d){if(null==d)throw $APP.Sm.g("get-else: nil default value is not supported",new $APP.k(null,1,[$APP.zJ,H3],null));a=$APP.v($Z(a,new $APP.J(null,2,5,$APP.K,[b,c],null)));return null==a?d:HZ.h(a)},K4,$APP.Fw,I4,$APP.me,E4,$APP.qb,$APP.uf,$APP.Zd,$APP.Dv,$APP.dg,$APP.Se,$APP.vb,$APP.uf,D4,$APP.iw,$APP.Wj,J4,$APP.fm,$APP.A,$APP.Iv,$APP.Bv,$APP.Hj,function(a,b,c){return null==$APP.D.g(L0(a,b),c)},$APP.uf,$APP.Ck,$APP.Ah,
$APP.am,$APP.kp,$APP.ff,$APP.lo,$APP.ko,$APP.Ge,$APP.Cv,$APP.yk,e4,$APP.De,$APP.og,$APP.xj,$APP.Dw,$APP.vf,$APP.Yj,$APP.iw,$APP.xj,$APP.D,$APP.p,H4,$APP.Dg,$APP.fk,$APP.ap,$APP.wb,$APP.ng,$APP.Lw,$APP.Tj,$APP.N,$APP.cf,$APP.qba,$APP.Xj,$APP.Nf,$APP.gm,$APP.jp,$APP.eg,$APP.xh,$APP.Cb,$APP.pg,$APP.em,$APP.ch,G4,$APP.pb,$APP.Fj,$APP.Uj]),L4=function L4(a){switch(arguments.length){case 1:return L4.h(arguments[0]);case 2:return L4.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.p.h(arguments.length)].join(""));
}};L4.h=function(a){return $APP.nf.j(function(b,c){return 0>$APP.ff(c,b)?c:b},$APP.v(a),$APP.y(a))};L4.g=function(a,b){return $APP.pf($APP.nf.j(function(c,d){return $APP.me(c)<a?$APP.Fl.g($APP.ff,$APP.vg.g(c,d)):0>$APP.ff(d,$APP.xe(c))?$APP.Fl.g($APP.ff,$APP.vg.g($APP.Gj(c),d)):c},$APP.Xh,b))};L4.B=2;
var M4=function M4(a){switch(arguments.length){case 1:return M4.h(arguments[0]);case 2:return M4.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.p.h(arguments.length)].join(""));}};M4.h=function(a){return $APP.nf.j(function(b,c){return 0<$APP.ff(c,b)?c:b},$APP.v(a),$APP.y(a))};M4.g=function(a,b){return $APP.pf($APP.nf.j(function(c,d){return $APP.me(c)<a?$APP.Fl.g($APP.ff,$APP.vg.g(c,d)):0<$APP.ff(d,$APP.v(c))?$APP.Fl.g($APP.ff,$APP.vg.g($APP.y(c),d)):c},$APP.Xh,b))};
M4.B=2;var N4=function N4(a){switch(arguments.length){case 1:return N4.h(arguments[0]);case 2:return N4.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.p.h(arguments.length)].join(""));}};N4.h=function(a){return $APP.Dk(a)};N4.g=function(a,b){return $APP.pf($APP.Os.g(a,function(){return $APP.Dk(b)}))};N4.B=2;
var HPa=$APP.kj([eOa,$APP.HF,yPa,WOa,$APP.WJ,$APP.qL,qPa,$APP.UI,iPa,UOa,$APP.RG,DOa],[nMa,$APP.me,function(a){var b=$APP.Fl.h(a);a=$APP.me(a);var c=a>>1,d=$APP.B.g(b,c);return $APP.xh(a)?(d+$APP.B.g(b,c-1))/2:d},U0,L4,M4,function(a){return $APP.me($APP.uw.h(a))},$APP.Fj,mMa,function(a){return Math.sqrt(nMa(a))},N4,function(a,b){return $APP.pf($APP.Mh.g(a,$APP.qf(b)))}]);$APP.h=V0.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};
$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "as":return this.as;case "default":return this.zc;case "limit":return this.ub;case "name":return this.name;case "pattern":return this.pattern;case "recursion-limit":return this.fc;case "recursive?":return this.ya;case "reverse?":return this.lc;case "xform":return this.wb;case "multival?":return this.dc;case "ref?":return this.hc;case "component?":return this.bc;default:return $APP.D.j(this.o,b,c)}};
$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.pull-parser.PullAttr{",", ","}",c,$APP.P.g(new $APP.J(null,12,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[$APP.Bq,this.as],null),new $APP.J(null,2,5,$APP.K,[$APP.Gn,this.zc],null),new $APP.J(null,2,5,$APP.K,[W0,this.ub],null),new $APP.J(null,2,5,$APP.K,[$APP.R,this.name],null),new $APP.J(null,2,5,$APP.K,[X0,this.pattern],null),new $APP.J(null,2,5,$APP.K,[Y0,this.fc],null),new $APP.J(null,2,5,$APP.K,
[Z0,this.ya],null),new $APP.J(null,2,5,$APP.K,[$0,this.lc],null),new $APP.J(null,2,5,$APP.K,[a1,this.wb],null),new $APP.J(null,2,5,$APP.K,[b1,this.dc],null),new $APP.J(null,2,5,$APP.K,[c1,this.hc],null),new $APP.J(null,2,5,$APP.K,[d1,this.bc],null)],null),this.o))};$APP.h.ha=function(){return new $APP.Bi(this,12,new $APP.J(null,12,5,$APP.K,[$APP.Bq,$APP.Gn,W0,$APP.R,X0,Y0,Z0,$0,a1,b1,c1,d1],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};
$APP.h.ba=function(){return new V0(this.as,this.zc,this.ub,this.name,this.pattern,this.fc,this.ya,this.lc,this.wb,this.dc,this.hc,this.bc,this.A,this.o,this.D)};$APP.h.aa=function(){return 12+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1743810262^$APP.Wd(this)};
$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.as,b.as)&&$APP.A.g(this.default,b.default)&&$APP.A.g(this.ub,b.ub)&&$APP.A.g(this.name,b.name)&&$APP.A.g(this.pattern,b.pattern)&&$APP.A.g(this.fc,b.fc)&&$APP.A.g(this.ya,b.ya)&&$APP.A.g(this.lc,b.lc)&&$APP.A.g(this.wb,b.wb)&&$APP.A.g(this.dc,b.dc)&&$APP.A.g(this.hc,b.hc)&&$APP.A.g(this.bc,b.bc)&&$APP.A.g(this.o,b.o)};
$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,12,[a1,null,W0,null,$0,null,Y0,null,$APP.Gn,null,$APP.R,null,$APP.Bq,null,Z0,null,d1,null,c1,null,b1,null,X0,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new V0(this.as,this.zc,this.ub,this.name,this.pattern,this.fc,this.ya,this.lc,this.wb,this.dc,this.hc,this.bc,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};
$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "as":case "default":case "limit":case "name":case "pattern":case "recursion-limit":case "recursive?":case "reverse?":case "xform":case "multival?":case "ref?":case "component?":return!0;default:return $APP.cf(this.o,b)}};
$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g($APP.Bq,b):$APP.H.call(null,$APP.Bq,b))?new V0(c,this.zc,this.ub,this.name,this.pattern,this.fc,this.ya,this.lc,this.wb,this.dc,this.hc,this.bc,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g($APP.Gn,b):$APP.H.call(null,$APP.Gn,b))?new V0(this.as,c,this.ub,this.name,this.pattern,this.fc,this.ya,this.lc,this.wb,this.dc,this.hc,this.bc,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(W0,b):$APP.H.call(null,W0,b))?new V0(this.as,this.zc,c,this.name,this.pattern,
this.fc,this.ya,this.lc,this.wb,this.dc,this.hc,this.bc,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g($APP.R,b):$APP.H.call(null,$APP.R,b))?new V0(this.as,this.zc,this.ub,c,this.pattern,this.fc,this.ya,this.lc,this.wb,this.dc,this.hc,this.bc,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(X0,b):$APP.H.call(null,X0,b))?new V0(this.as,this.zc,this.ub,this.name,c,this.fc,this.ya,this.lc,this.wb,this.dc,this.hc,this.bc,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(Y0,b):$APP.H.call(null,Y0,b))?new V0(this.as,
this.zc,this.ub,this.name,this.pattern,c,this.ya,this.lc,this.wb,this.dc,this.hc,this.bc,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(Z0,b):$APP.H.call(null,Z0,b))?new V0(this.as,this.zc,this.ub,this.name,this.pattern,this.fc,c,this.lc,this.wb,this.dc,this.hc,this.bc,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g($0,b):$APP.H.call(null,$0,b))?new V0(this.as,this.zc,this.ub,this.name,this.pattern,this.fc,this.ya,c,this.wb,this.dc,this.hc,this.bc,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(a1,b):$APP.H.call(null,
a1,b))?new V0(this.as,this.zc,this.ub,this.name,this.pattern,this.fc,this.ya,this.lc,c,this.dc,this.hc,this.bc,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(b1,b):$APP.H.call(null,b1,b))?new V0(this.as,this.zc,this.ub,this.name,this.pattern,this.fc,this.ya,this.lc,this.wb,c,this.hc,this.bc,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(c1,b):$APP.H.call(null,c1,b))?new V0(this.as,this.zc,this.ub,this.name,this.pattern,this.fc,this.ya,this.lc,this.wb,this.dc,c,this.bc,this.A,this.o,null):$APP.l($APP.H.g?
$APP.H.g(d1,b):$APP.H.call(null,d1,b))?new V0(this.as,this.zc,this.ub,this.name,this.pattern,this.fc,this.ya,this.lc,this.wb,this.dc,this.hc,c,this.A,this.o,null):new V0(this.as,this.zc,this.ub,this.name,this.pattern,this.fc,this.ya,this.lc,this.wb,this.dc,this.hc,this.bc,this.A,$APP.yj.j(this.o,b,c),null)};
$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,12,5,$APP.K,[new $APP.df($APP.Bq,this.as,null),new $APP.df($APP.Gn,this.zc,null),new $APP.df(W0,this.ub,null),new $APP.df($APP.R,this.name,null),new $APP.df(X0,this.pattern,null),new $APP.df(Y0,this.fc,null),new $APP.df(Z0,this.ya,null),new $APP.df($0,this.lc,null),new $APP.df(a1,this.wb,null),new $APP.df(b1,this.dc,null),new $APP.df(c1,this.hc,null),new $APP.df(d1,this.bc,null)],null),this.o))};
$APP.h.X=function(a,b){return new V0(this.as,this.zc,this.ub,this.name,this.pattern,this.fc,this.ya,this.lc,this.wb,this.dc,this.hc,this.bc,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h=e1.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};
$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "attrs":return this.oa;case "first-attr":return this.Yc;case "last-attr":return this.jd;case "reverse-attrs":return this.Tc;case "wildcard?":return this.oc;default:return $APP.D.j(this.o,b,c)}};$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.pull-parser.PullPattern{",", ","}",c,$APP.P.g(new $APP.J(null,5,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[f1,this.oa],null),new $APP.J(null,2,5,$APP.K,[g1,this.Yc],null),new $APP.J(null,2,5,$APP.K,[h1,this.jd],null),new $APP.J(null,2,5,$APP.K,[i1,this.Tc],null),new $APP.J(null,2,5,$APP.K,[j1,this.oc],null)],null),this.o))};
$APP.h.ha=function(){return new $APP.Bi(this,5,new $APP.J(null,5,5,$APP.K,[f1,g1,h1,i1,j1],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new e1(this.oa,this.Yc,this.jd,this.Tc,this.oc,this.A,this.o,this.D)};$APP.h.aa=function(){return 5+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=-795554044^$APP.Wd(this)};
$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.oa,b.oa)&&$APP.A.g(this.Yc,b.Yc)&&$APP.A.g(this.jd,b.jd)&&$APP.A.g(this.Tc,b.Tc)&&$APP.A.g(this.oc,b.oc)&&$APP.A.g(this.o,b.o)};$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,5,[i1,null,g1,null,f1,null,j1,null,h1,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new e1(this.oa,this.Yc,this.jd,this.Tc,this.oc,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};
$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "attrs":case "first-attr":case "last-attr":case "reverse-attrs":case "wildcard?":return!0;default:return $APP.cf(this.o,b)}};
$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g(f1,b):$APP.H.call(null,f1,b))?new e1(c,this.Yc,this.jd,this.Tc,this.oc,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(g1,b):$APP.H.call(null,g1,b))?new e1(this.oa,c,this.jd,this.Tc,this.oc,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(h1,b):$APP.H.call(null,h1,b))?new e1(this.oa,this.Yc,c,this.Tc,this.oc,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(i1,b):$APP.H.call(null,i1,b))?new e1(this.oa,this.Yc,this.jd,c,this.oc,this.A,this.o,null):$APP.l($APP.H.g?
$APP.H.g(j1,b):$APP.H.call(null,j1,b))?new e1(this.oa,this.Yc,this.jd,this.Tc,c,this.A,this.o,null):new e1(this.oa,this.Yc,this.jd,this.Tc,this.oc,this.A,$APP.yj.j(this.o,b,c),null)};$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,5,5,$APP.K,[new $APP.df(f1,this.oa,null),new $APP.df(g1,this.Yc,null),new $APP.df(h1,this.jd,null),new $APP.df(i1,this.Tc,null),new $APP.df(j1,this.oc,null)],null),this.o))};
$APP.h.X=function(a,b){return new e1(this.oa,this.Yc,this.jd,this.Tc,this.oc,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};var wMa=oMa(new $APP.k(null,3,[$APP.R,x0,$APP.Bq,x0,a1,$APP.uf],null)),n1=k1(new $APP.k(null,1,[f1,new $APP.E(null,wMa,null,1,null)],null)),qMa=$APP.yj.j(n1,j1,!0);$APP.h=v1.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "db":return this.db;case "visitor":return this.he;default:return $APP.D.j(this.o,b,c)}};$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.pull-api.Context{",", ","}",c,$APP.P.g(new $APP.J(null,2,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[y4,this.db],null),new $APP.J(null,2,5,$APP.K,[I1,this.he],null)],null),this.o))};$APP.h.ha=function(){return new $APP.Bi(this,2,new $APP.J(null,2,5,$APP.K,[y4,I1],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};
$APP.h.ba=function(){return new v1(this.db,this.he,this.A,this.o,this.D)};$APP.h.aa=function(){return 2+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=1727735959^$APP.Wd(this)};$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.db,b.db)&&$APP.A.g(this.he,b.he)&&$APP.A.g(this.o,b.o)};
$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,2,[y4,null,I1,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new v1(this.db,this.he,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "db":case "visitor":return!0;default:return $APP.cf(this.o,b)}};
$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g(y4,b):$APP.H.call(null,y4,b))?new v1(c,this.he,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(I1,b):$APP.H.call(null,I1,b))?new v1(this.db,c,this.A,this.o,null):new v1(this.db,this.he,this.A,$APP.yj.j(this.o,b,c),null)};$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,2,5,$APP.K,[new $APP.df(y4,this.db,null),new $APP.df(I1,this.he,null)],null),this.o))};$APP.h.X=function(a,b){return new v1(this.db,this.he,b,this.o,this.D)};
$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h=z1.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "value":return this.value;case "datoms":return this.va;default:return $APP.D.j(this.o,b,c)}};$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.pull-api.ResultFrame{",", ","}",c,$APP.P.g(new $APP.J(null,2,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[$APP.GJ,this.value],null),new $APP.J(null,2,5,$APP.K,[$APP.R_,this.va],null)],null),this.o))};$APP.h.ha=function(){return new $APP.Bi(this,2,new $APP.J(null,2,5,$APP.K,[$APP.GJ,$APP.R_],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};
$APP.h.ba=function(){return new z1(this.value,this.va,this.A,this.o,this.D)};$APP.h.aa=function(){return 2+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=836381841^$APP.Wd(this)};$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.value,b.value)&&$APP.A.g(this.va,b.va)&&$APP.A.g(this.o,b.o)};
$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,2,[$APP.GJ,null,$APP.R_,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new z1(this.value,this.va,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "value":case "datoms":return!0;default:return $APP.cf(this.o,b)}};
$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g($APP.GJ,b):$APP.H.call(null,$APP.GJ,b))?new z1(c,this.va,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g($APP.R_,b):$APP.H.call(null,$APP.R_,b))?new z1(this.value,c,this.A,this.o,null):new z1(this.value,this.va,this.A,$APP.yj.j(this.o,b,c),null)};$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,2,5,$APP.K,[new $APP.df($APP.GJ,this.value,null),new $APP.df($APP.R_,this.va,null)],null),this.o))};
$APP.h.X=function(a,b){return new z1(this.value,this.va,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h=A1.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "acc":return this.ka;case "attr":return this.ga;case "datoms":return this.va;default:return $APP.D.j(this.o,b,c)}};
$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.pull-api.MultivalAttrFrame{",", ","}",c,$APP.P.g(new $APP.J(null,3,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[f4,this.ka],null),new $APP.J(null,2,5,$APP.K,[v4,this.ga],null),new $APP.J(null,2,5,$APP.K,[$APP.R_,this.va],null)],null),this.o))};
$APP.h.ha=function(){return new $APP.Bi(this,3,new $APP.J(null,3,5,$APP.K,[f4,v4,$APP.R_],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new A1(this.ka,this.ga,this.va,this.A,this.o,this.D)};$APP.h.aa=function(){return 3+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=1829867699^$APP.Wd(this)};
$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.ka,b.ka)&&$APP.A.g(this.ga,b.ga)&&$APP.A.g(this.va,b.va)&&$APP.A.g(this.o,b.o)};$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,3,[f4,null,$APP.R_,null,v4,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new A1(this.ka,this.ga,this.va,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};
$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "acc":case "attr":case "datoms":return!0;default:return $APP.cf(this.o,b)}};
$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g(f4,b):$APP.H.call(null,f4,b))?new A1(c,this.ga,this.va,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(v4,b):$APP.H.call(null,v4,b))?new A1(this.ka,c,this.va,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g($APP.R_,b):$APP.H.call(null,$APP.R_,b))?new A1(this.ka,this.ga,c,this.A,this.o,null):new A1(this.ka,this.ga,this.va,this.A,$APP.yj.j(this.o,b,c),null)};
$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,3,5,$APP.K,[new $APP.df(f4,this.ka,null),new $APP.df(v4,this.ga,null),new $APP.df($APP.R_,this.va,null)],null),this.o))};$APP.h.X=function(a,b){return new A1(this.ka,this.ga,this.va,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};
$APP.h.Pf=function(){for(var a=this,b=a.ka,c=a.va;;){var d=s1(c);if(null==d||$APP.xj.g(d.a,a.ga.name))return new $APP.J(null,1,5,$APP.K,[new z1(function(){var g=$APP.ch($APP.$c(b)),m=a.ga.wb;return m.h?m.h(g):m.call(null,g)}(),function(){var g=c;return $APP.l(g)?g:$APP.Qd}(),null,null,null)],null);if($APP.l(function(){var g=a.ga.ub;return $APP.l(g)?$APP.me(b)>=a.ga.ub:g}()))for(var e=c;;){d=s1(e);if(null==d||$APP.xj.g(d.a,a.ga.name))return new $APP.J(null,1,5,$APP.K,[new z1($APP.$c(b),function(){var g=
e;return $APP.l(g)?g:$APP.Qd}(),null,null,null)],null);e=t1(e)}else{d=$APP.Wh.g(b,d.v);var f=t1(c);b=d;c=f}}};$APP.h=B1.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "seen":return this.qa;case "recursion-limits":return this.wa;case "acc":return this.ka;case "pattern":return this.pattern;case "attr":return this.ga;case "datoms":return this.va;default:return $APP.D.j(this.o,b,c)}};
$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.pull-api.MultivalRefAttrFrame{",", ","}",c,$APP.P.g(new $APP.J(null,6,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[h4,this.qa],null),new $APP.J(null,2,5,$APP.K,[s4,this.wa],null),new $APP.J(null,2,5,$APP.K,[f4,this.ka],null),new $APP.J(null,2,5,$APP.K,[X0,this.pattern],null),new $APP.J(null,2,5,$APP.K,[v4,this.ga],null),new $APP.J(null,2,5,$APP.K,[$APP.R_,this.va],null)],null),this.o))};
$APP.h.ha=function(){return new $APP.Bi(this,6,new $APP.J(null,6,5,$APP.K,[h4,s4,f4,X0,v4,$APP.R_],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new B1(this.qa,this.wa,this.ka,this.pattern,this.ga,this.va,this.A,this.o,this.D)};$APP.h.aa=function(){return 6+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=1769511936^$APP.Wd(this)};
$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.qa,b.qa)&&$APP.A.g(this.wa,b.wa)&&$APP.A.g(this.ka,b.ka)&&$APP.A.g(this.pattern,b.pattern)&&$APP.A.g(this.ga,b.ga)&&$APP.A.g(this.va,b.va)&&$APP.A.g(this.o,b.o)};
$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,6,[f4,null,h4,null,s4,null,$APP.R_,null,X0,null,v4,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new B1(this.qa,this.wa,this.ka,this.pattern,this.ga,this.va,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "datoms":return!0;default:return $APP.cf(this.o,b)}};
$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g(h4,b):$APP.H.call(null,h4,b))?new B1(c,this.wa,this.ka,this.pattern,this.ga,this.va,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(s4,b):$APP.H.call(null,s4,b))?new B1(this.qa,c,this.ka,this.pattern,this.ga,this.va,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(f4,b):$APP.H.call(null,f4,b))?new B1(this.qa,this.wa,c,this.pattern,this.ga,this.va,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(X0,b):$APP.H.call(null,X0,b))?new B1(this.qa,this.wa,this.ka,
c,this.ga,this.va,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(v4,b):$APP.H.call(null,v4,b))?new B1(this.qa,this.wa,this.ka,this.pattern,c,this.va,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g($APP.R_,b):$APP.H.call(null,$APP.R_,b))?new B1(this.qa,this.wa,this.ka,this.pattern,this.ga,c,this.A,this.o,null):new B1(this.qa,this.wa,this.ka,this.pattern,this.ga,this.va,this.A,$APP.yj.j(this.o,b,c),null)};
$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,6,5,$APP.K,[new $APP.df(h4,this.qa,null),new $APP.df(s4,this.wa,null),new $APP.df(f4,this.ka,null),new $APP.df(X0,this.pattern,null),new $APP.df(v4,this.ga,null),new $APP.df($APP.R_,this.va,null)],null),this.o))};$APP.h.X=function(a,b){return new B1(this.qa,this.wa,this.ka,this.pattern,this.ga,this.va,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};
$APP.h.Mg=function(a,b){a=this.qa;var c=this.wa,d=this.ka;b=b.value;b=null==b?d:$APP.Wh.g(d,b);return new B1(a,c,b,this.pattern,this.ga,t1(this.va),null,null,null)};
$APP.h.Pf=function(a,b){var c=this;a=s1(c.va);if(null==a||$APP.xj.g(a.a,c.ga.name))return new $APP.J(null,1,5,$APP.K,[new z1(function(){var e=$APP.ch($APP.$c(c.ka)),f=c.ga.wb;return f.h?f.h(e):f.call(null,e)}(),function(){var e=c.va;return $APP.l(e)?e:$APP.Qd}(),null,null,null)],null);if($APP.l(function(){var e=c.ga.ub;return $APP.l(e)?$APP.me(c.ka)>=c.ga.ub:e}()))for(var d=c.va;;){b=s1(d);if(null==b||$APP.xj.g(b.a,c.ga.name))return new $APP.J(null,1,5,$APP.K,[new z1($APP.$c(c.ka),function(){var e=
d;return $APP.l(e)?e:$APP.Qd}(),null,null,null)],null);d=t1(d)}else return a=$APP.l(c.ga.lc)?a.e:a.v,new $APP.J(null,2,5,$APP.K,[this,G1.ua?G1.ua(b,c.qa,c.wa,c.pattern,c.ga,a):G1.call(null,b,c.qa,c.wa,c.pattern,c.ga,a)],null)};$APP.h=C1.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};
$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "seen":return this.qa;case "recursion-limits":return this.wa;case "acc":return this.ka;case "pattern":return this.pattern;case "attr":return this.ga;case "attrs":return this.oa;case "datoms":return this.va;case "id":return this.id;default:return $APP.D.j(this.o,b,c)}};$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.pull-api.AttrsFrame{",", ","}",c,$APP.P.g(new $APP.J(null,8,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[h4,this.qa],null),new $APP.J(null,2,5,$APP.K,[s4,this.wa],null),new $APP.J(null,2,5,$APP.K,[f4,this.ka],null),new $APP.J(null,2,5,$APP.K,[X0,this.pattern],null),new $APP.J(null,2,5,$APP.K,[v4,this.ga],null),new $APP.J(null,2,5,$APP.K,[f1,this.oa],null),new $APP.J(null,2,5,$APP.K,[$APP.R_,this.va],
null),new $APP.J(null,2,5,$APP.K,[$APP.Nq,this.id],null)],null),this.o))};$APP.h.ha=function(){return new $APP.Bi(this,8,new $APP.J(null,8,5,$APP.K,[h4,s4,f4,X0,v4,f1,$APP.R_,$APP.Nq],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new C1(this.qa,this.wa,this.ka,this.pattern,this.ga,this.oa,this.va,this.id,this.A,this.o,this.D)};$APP.h.aa=function(){return 8+$APP.me(this.o)};
$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=1127179791^$APP.Wd(this)};$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.qa,b.qa)&&$APP.A.g(this.wa,b.wa)&&$APP.A.g(this.ka,b.ka)&&$APP.A.g(this.pattern,b.pattern)&&$APP.A.g(this.ga,b.ga)&&$APP.A.g(this.oa,b.oa)&&$APP.A.g(this.va,b.va)&&$APP.A.g(this.id,b.id)&&$APP.A.g(this.o,b.o)};
$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,8,[f4,null,h4,null,$APP.Nq,null,s4,null,f1,null,$APP.R_,null,X0,null,v4,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new C1(this.qa,this.wa,this.ka,this.pattern,this.ga,this.oa,this.va,this.id,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};
$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "datoms":case "id":return!0;default:return $APP.cf(this.o,b)}};
$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g(h4,b):$APP.H.call(null,h4,b))?new C1(c,this.wa,this.ka,this.pattern,this.ga,this.oa,this.va,this.id,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(s4,b):$APP.H.call(null,s4,b))?new C1(this.qa,c,this.ka,this.pattern,this.ga,this.oa,this.va,this.id,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(f4,b):$APP.H.call(null,f4,b))?new C1(this.qa,this.wa,c,this.pattern,this.ga,this.oa,this.va,this.id,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(X0,b):$APP.H.call(null,
X0,b))?new C1(this.qa,this.wa,this.ka,c,this.ga,this.oa,this.va,this.id,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(v4,b):$APP.H.call(null,v4,b))?new C1(this.qa,this.wa,this.ka,this.pattern,c,this.oa,this.va,this.id,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(f1,b):$APP.H.call(null,f1,b))?new C1(this.qa,this.wa,this.ka,this.pattern,this.ga,c,this.va,this.id,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g($APP.R_,b):$APP.H.call(null,$APP.R_,b))?new C1(this.qa,this.wa,this.ka,this.pattern,this.ga,this.oa,
c,this.id,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g($APP.Nq,b):$APP.H.call(null,$APP.Nq,b))?new C1(this.qa,this.wa,this.ka,this.pattern,this.ga,this.oa,this.va,c,this.A,this.o,null):new C1(this.qa,this.wa,this.ka,this.pattern,this.ga,this.oa,this.va,this.id,this.A,$APP.yj.j(this.o,b,c),null)};
$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,8,5,$APP.K,[new $APP.df(h4,this.qa,null),new $APP.df(s4,this.wa,null),new $APP.df(f4,this.ka,null),new $APP.df(X0,this.pattern,null),new $APP.df(v4,this.ga,null),new $APP.df(f1,this.oa,null),new $APP.df($APP.R_,this.va,null),new $APP.df($APP.Nq,this.id,null)],null),this.o))};$APP.h.X=function(a,b){return new C1(this.qa,this.wa,this.ka,this.pattern,this.ga,this.oa,this.va,this.id,b,this.o,this.D)};
$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.Mg=function(a,b){a=this.qa;var c=this.wa;var d=this.ka;var e=b.value;d=null==e?d:$APP.Li.j(d,this.ga.as,e);e=this.pattern;var f=s1(this.oa),g=t1(this.oa);b=b.va;b=$APP.l(b)?b:t1(this.va);return new C1(a,c,d,e,f,g,$APP.ch(b),this.id,null,null,null)};
$APP.h.Pf=function(a,b){var c=this,d=c.ka,e=c.ga;a=c.oa;for(var f=c.va;;){if(null==f&&null==e)return new $APP.J(null,1,5,$APP.K,[function(){var z=c.qa,F=c.wa,M=d,T=c.pattern,X=s1(c.pattern.Tc),aa=t1(c.pattern.Tc),ba=c.id;return E1.Fa?E1.Fa(z,F,M,T,X,aa,ba):E1.call(null,z,F,M,T,X,aa,ba)}()],null);if(null!=e&&$APP.A.g(x0,e.name)){var g=$APP.Li.j(d,e.as,function(){var z=e.wb;return z.h?z.h(c.id):z.call(null,c.id)}()),m=s1(a);a=t1(a);d=g;e=m}else{var r=s1(f),n=$APP.l(function(){var z=r;return $APP.l(z)?
e:z}())?$APP.ff(e.name,r.a):null,w=function(){var z=null==e;if(z)return z;z=n;return $APP.l(z)?0<n:z}(),x=function(){var z=null==r;if(z)return z;z=n;return $APP.l(z)?0>n:z}();if($APP.l(function(){var z=c.pattern.oc;return $APP.l(z)?(z=null!=r)?w:z:z}()))m=MY(xLa(b.db).tc,r.a,function(z,F,M,T,X){return function(){return rMa(b.db,X.a)}}(d,e,a,f,r,n,w,x,this)),g=d,a=$APP.l(e)?u1(a,e):null,d=g,e=m;else if($APP.l(w))g=d,m=e,f=t1(f),d=g,e=m;else if(w1(b,aPa,c.id,e.name,null),$APP.l(function(){var z=x;return $APP.l(z)?
null==e:z}()))g=d,m=s1(a),a=t1(a),d=g,e=m;else if($APP.l(function(){var z=x;return $APP.l(z)?null!=$APP.Gn.h(e):z}()))g=$APP.Li.j(d,e.as,$APP.Gn.h(e)),m=s1(a),a=t1(a),d=g,e=m;else if($APP.l(x))g=function(){var z=e.wb;return z.h?z.h(null):z.call(null,null)}(),null==g?(g=d,m=s1(a),a=t1(a),d=g,e=m):(g=$APP.Li.j(d,e.as,g),m=s1(a),a=t1(a),d=g,e=m);else{if($APP.l(function(){var z=e.dc;return $APP.l(z)?e.hc:z}()))return new $APP.J(null,2,5,$APP.K,[new C1(c.qa,c.wa,d,c.pattern,e,a,f,c.id,null,null,null),
new B1(c.qa,c.wa,$APP.Yc($APP.Xh),c.pattern,e,f,null,null,null)],null);if($APP.l(e.dc))return new $APP.J(null,2,5,$APP.K,[new C1(c.qa,c.wa,d,c.pattern,e,a,f,c.id,null,null,null),new A1($APP.Yc($APP.Xh),e,f,null,null,null)],null);if($APP.l(e.hc))return new $APP.J(null,2,5,$APP.K,[new C1(c.qa,c.wa,d,c.pattern,e,a,f,c.id,null,null,null),function(){var z=c.qa,F=c.wa,M=c.pattern,T=e,X=r.v;return G1.ua?G1.ua(b,z,F,M,T,X):G1.call(null,b,z,F,M,T,X)}()],null);g=$APP.Li.j(d,e.as,function(){var z=r.v,F=e.wb;
return F.h?F.h(z):F.call(null,z)}());m=s1(a);a=t1(a);f=t1(f);d=g;e=m}}}};$APP.h=D1.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "seen":return this.qa;case "recursion-limits":return this.wa;case "acc":return this.ka;case "pattern":return this.pattern;case "attr":return this.ga;case "attrs":return this.oa;case "id":return this.id;default:return $APP.D.j(this.o,b,c)}};
$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.pull-api.ReverseAttrsFrame{",", ","}",c,$APP.P.g(new $APP.J(null,7,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[h4,this.qa],null),new $APP.J(null,2,5,$APP.K,[s4,this.wa],null),new $APP.J(null,2,5,$APP.K,[f4,this.ka],null),new $APP.J(null,2,5,$APP.K,[X0,this.pattern],null),new $APP.J(null,2,5,$APP.K,[v4,this.ga],null),new $APP.J(null,2,5,$APP.K,[f1,this.oa],null),new $APP.J(null,2,5,$APP.K,[$APP.Nq,
this.id],null)],null),this.o))};$APP.h.ha=function(){return new $APP.Bi(this,7,new $APP.J(null,7,5,$APP.K,[h4,s4,f4,X0,v4,f1,$APP.Nq],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new D1(this.qa,this.wa,this.ka,this.pattern,this.ga,this.oa,this.id,this.A,this.o,this.D)};$APP.h.aa=function(){return 7+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=470210558^$APP.Wd(this)};
$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.qa,b.qa)&&$APP.A.g(this.wa,b.wa)&&$APP.A.g(this.ka,b.ka)&&$APP.A.g(this.pattern,b.pattern)&&$APP.A.g(this.ga,b.ga)&&$APP.A.g(this.oa,b.oa)&&$APP.A.g(this.id,b.id)&&$APP.A.g(this.o,b.o)};
$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,7,[f4,null,h4,null,$APP.Nq,null,s4,null,f1,null,X0,null,v4,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new D1(this.qa,this.wa,this.ka,this.pattern,this.ga,this.oa,this.id,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};
$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "id":return!0;default:return $APP.cf(this.o,b)}};
$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g(h4,b):$APP.H.call(null,h4,b))?new D1(c,this.wa,this.ka,this.pattern,this.ga,this.oa,this.id,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(s4,b):$APP.H.call(null,s4,b))?new D1(this.qa,c,this.ka,this.pattern,this.ga,this.oa,this.id,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(f4,b):$APP.H.call(null,f4,b))?new D1(this.qa,this.wa,c,this.pattern,this.ga,this.oa,this.id,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(X0,b):$APP.H.call(null,X0,b))?new D1(this.qa,
this.wa,this.ka,c,this.ga,this.oa,this.id,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(v4,b):$APP.H.call(null,v4,b))?new D1(this.qa,this.wa,this.ka,this.pattern,c,this.oa,this.id,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(f1,b):$APP.H.call(null,f1,b))?new D1(this.qa,this.wa,this.ka,this.pattern,this.ga,c,this.id,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g($APP.Nq,b):$APP.H.call(null,$APP.Nq,b))?new D1(this.qa,this.wa,this.ka,this.pattern,this.ga,this.oa,c,this.A,this.o,null):new D1(this.qa,this.wa,
this.ka,this.pattern,this.ga,this.oa,this.id,this.A,$APP.yj.j(this.o,b,c),null)};$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,7,5,$APP.K,[new $APP.df(h4,this.qa,null),new $APP.df(s4,this.wa,null),new $APP.df(f4,this.ka,null),new $APP.df(X0,this.pattern,null),new $APP.df(v4,this.ga,null),new $APP.df(f1,this.oa,null),new $APP.df($APP.Nq,this.id,null)],null),this.o))};$APP.h.X=function(a,b){return new D1(this.qa,this.wa,this.ka,this.pattern,this.ga,this.oa,this.id,b,this.o,this.D)};
$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.Mg=function(a,b){a=this.qa;var c=this.wa,d=this.ka;b=b.value;b=null==b?d:$APP.Li.j(d,this.ga.as,b);return new D1(a,c,b,this.pattern,s1(this.oa),t1(this.oa),this.id,null,null,null)};
$APP.h.Pf=function(a,b){var c=this.ka;a=this.ga;for(var d=this.oa;;){if(null==a)return new $APP.J(null,1,5,$APP.K,[new z1($APP.ch($APP.$c(c)),null,null,null,null)],null);var e=a.name,f=b.db;f=f instanceof $APP.k_?wZ(f.ic,MZ.G(0,e,this.id,536870912),MZ.G(2147483647,e,this.id,2147483647)):$Z(f,new $APP.J(null,3,5,$APP.K,[null,e,this.id],null));w1(b,oOa,null,e,this.id);if($APP.Ge(f)&&null!=$APP.Gn.h(a))c=$APP.Li.j(c,a.as,$APP.Gn.h(a)),a=s1(d),d=e=t1(d);else if($APP.Ge(f))a=s1(d),d=e=t1(d);else{if($APP.l(a.bc)){e=
$APP.K;c=new D1(this.qa,this.wa,c,this.pattern,a,d,this.id,null,null,null);d=this.qa;var g=this.wa,m=this.pattern;f=s1(f).e;b=G1.ua?G1.ua(b,d,g,m,a,f):G1.call(null,b,d,g,m,a,f);b=new $APP.J(null,2,5,e,[c,b],null)}else b=new $APP.J(null,2,5,$APP.K,[new D1(this.qa,this.wa,c,this.pattern,a,d,this.id,null,null,null),new B1(this.qa,this.wa,$APP.Yc($APP.Xh),this.pattern,a,f,null,null,null)],null);return b}}};
var O4=function O4(a){switch(arguments.length){case 3:return O4.j(arguments[0],arguments[1],arguments[2]);case 4:return O4.G(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.p.h(arguments.length)].join(""));}};O4.j=function(a,b,c){return O4.G(a,b,c,$APP.ah)};O4.G=function(a,b,c,d){a=J1(a,b,d);return H1(a,c)};O4.B=4;
var P4=function P4(a){switch(arguments.length){case 3:return P4.j(arguments[0],arguments[1],arguments[2]);case 4:return P4.G(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",$APP.p.h(arguments.length)].join(""));}};P4.j=function(a,b,c){return P4.G(a,b,c,$APP.ah)};P4.G=function(a,b,c,d){var e=J1(a,b,d);return $APP.vq.g(function(f){return H1(e,f)},c)};P4.B=4;var Q4=function Q4(a){switch(arguments.length){case 1:return Q4.h(arguments[0]);case 2:return Q4.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.p.h(arguments.length)].join(""));}};Q4.h=function(a){return EMa(a,$APP.ah)};Q4.g=function(a,b){return EMa(a,b)};Q4.B=2;var R4=function R4(a){switch(arguments.length){case 1:return R4.h(arguments[0]);case 2:return R4.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.p.h(arguments.length)].join(""));}};
R4.h=function(a){return R4.g(a,$APP.ah)};
R4.g=function(a,b){b=$APP.bh(b);var c=$APP.D.j(b,zOa,$APP.EM);b=$APP.D.j(b,FOa,BMa);var d=L1(a,"tx0"),e=function(){var n=L1(a,"schema");return c.h?c.h(n):c.call(null,n)}();(function(){var n=new $APP.Ld(function(){return M_},XOa,$APP.kj([$APP.Wt,$APP.U,$APP.R,$APP.Pm,$APP.Jx,$APP.In,$APP.Qm,$APP.qM,$APP.Y,$APP.Z,$APP.AD],[!0,$APP.QL,HOa,"datascript/db.cljc",23,1,726,726,$APP.N(new $APP.J(null,1,5,$APP.K,[i4],null)),null,$APP.l(M_)?M_.J:null]));return n.h?n.h(e):n.call(null,e)})();var f=$APP.vq.g(b,
L1(a,"attrs")),g=$APP.vq.g(b,L1(a,"keywords")),m=M1(function(n){var w=K1(n,0),x=$APP.B.g(f,K1(n,1)),z=K1(n,2);if("number"===typeof z)var F=z;else if("string"===typeof z)F=z;else if($APP.Ue(z))F=z;else if($APP.rb(z)||$APP.Oe(z))F=function(){var M=K1(z,0);if($APP.l($APP.am.g?$APP.am.g(0,M):$APP.am.call(null,0,M)))return $APP.B.g(g,K1(z,1));if($APP.l($APP.am.g?$APP.am.g(1,M):$APP.am.call(null,1,M)))return M=K1(z,1),c.h?c.h(M):c.call(null,M);if($APP.l($APP.am.g?$APP.am.g(2,M):$APP.am.call(null,2,M)))return Infinity;
if($APP.l($APP.am.g?$APP.am.g(3,M):$APP.am.call(null,3,M)))return-Infinity;if($APP.l($APP.am.g?$APP.am.g(4,M):$APP.am.call(null,4,M)))return NaN;throw $APP.Sm.g(["Unexpected value marker ",$APP.yk.l($APP.C([M]))," in ",$APP.yk.l($APP.C([$APP.yk.l($APP.C([z]))]))].join(""),new $APP.k(null,2,[$APP.zJ,EOa,$APP.GJ,z],null));}();else throw $APP.Sm.g(["Unexpected value type ",$APP.yk.l($APP.C([$APP.Cb(z)]))," (",$APP.yk.l($APP.C([$APP.yk.l($APP.C([z]))])),")"].join(""),new $APP.k(null,2,[$APP.zJ,EOa,$APP.GJ,
z],null));n=d+K1(n,3);return MZ.G(w,x,F,n)},L1(a,"eavt"));b=function(){var n=L1(a,"aevt");return null==n?null:M1(function(w){return m[w]},n)}();var r=function(){var n=L1(a,"avet");return null==n?null:M1(function(w){return m[w]},n)}();return u_($APP.kj([$APP.l_,p_,t_,n_,e_,o_,$APP.m_,s_,r_,q_],[e,L1(a,"max-tx"),$APP.Ak.h(0),xZ(TZ,b),xZ(UZ,r),L1(a,"max-eid"),xZ(SZ,m),OY(),OY(),function(){var n=$APP.Hm.l($APP.C([new $APP.k(null,1,[j0,new $APP.k(null,1,[w_,x_],null)],null),e])),w=new $APP.Ld(function(){return G_},
EPa,$APP.kj([$APP.Wt,$APP.U,$APP.R,$APP.Pm,$APP.Jx,$APP.In,$APP.Qm,$APP.qM,$APP.Y,$APP.Z,$APP.AD],[!0,$APP.QL,kPa,"datascript/db.cljc",15,1,694,694,$APP.N(new $APP.J(null,1,5,$APP.K,[i4],null)),":db/unique           \x3d\x3e #{attr ...}\n   :db.unique/identity  \x3d\x3e #{attr ...}\n   :db.unique/value     \x3d\x3e #{attr ...}\n   :db/index            \x3d\x3e #{attr ...}\n   :db.cardinality/many \x3d\x3e #{attr ...}\n   :db.type/ref         \x3d\x3e #{attr ...}\n   :db/isComponent      \x3d\x3e #{attr ...}\n   :db.type/tuple       \x3d\x3e #{attr ...}\n   :db/attrTuples       \x3d\x3e {attr \x3d\x3e {tuple-attr \x3d\x3e idx}}",
$APP.l(G_)?G_.J:null]));return w.h?w.h(n):w.call(null,n)}()]))};R4.B=2;$APP.h=Y1.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};$APP.h.N=function(a,b,c){return $APP.D.j(this.o,b,c)};$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.parser.Placeholder{",", ","}",c,$APP.P.g($APP.Xh,this.o))};
$APP.h.ha=function(){return new $APP.Bi(this,0,$APP.Xh,$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new Y1(this.A,this.o,this.D)};$APP.h.aa=function(){return 0+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=-528488587^$APP.Wd(this)};$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.o,b.o)};
$APP.h.ta=function(a,b){return $APP.cf($APP.Cj,b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new Y1(this.A,$APP.ch($APP.Im.g(this.o,b)),null)};$APP.h.ja=function(a,b){return $APP.cf(this.o,b)};$APP.h.U=function(a,b,c){return new Y1(this.A,$APP.yj.j(this.o,b,c),null)};$APP.h.Z=function(){return $APP.u($APP.P.g($APP.Xh,this.o))};$APP.h.X=function(a,b){return new Y1(b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};
$APP.h.rb=$APP.Cd;$APP.h.sb=function(a,b,c){return c};$APP.h.tb=function(a,b){return b};$APP.h=Z1.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "symbol":return this.Ja;default:return $APP.D.j(this.o,b,c)}};$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.parser.Variable{",", ","}",c,$APP.P.g(new $APP.J(null,1,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[$APP.wn,this.Ja],null)],null),this.o))};$APP.h.ha=function(){return new $APP.Bi(this,1,new $APP.J(null,1,5,$APP.K,[$APP.wn],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new Z1(this.Ja,this.A,this.o,this.D)};
$APP.h.aa=function(){return 1+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=736891289^$APP.Wd(this)};$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.Ja,b.Ja)&&$APP.A.g(this.o,b.o)};$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,1,[$APP.wn,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new Z1(this.Ja,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};
$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "symbol":return!0;default:return $APP.cf(this.o,b)}};$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g($APP.wn,b):$APP.H.call(null,$APP.wn,b))?new Z1(c,this.A,this.o,null):new Z1(this.Ja,this.A,$APP.yj.j(this.o,b,c),null)};$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,1,5,$APP.K,[new $APP.df($APP.wn,this.Ja,null)],null),this.o))};$APP.h.X=function(a,b){return new Z1(this.Ja,b,this.o,this.D)};
$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.rb=$APP.Cd;$APP.h.sb=function(a,b,c){return T1(b,this.Ja,c)};$APP.h.tb=function(a,b){return V2.g?V2.g(b,this.Ja):V2.call(null,b,this.Ja)};$APP.h=$1.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "symbol":return this.Ja;default:return $APP.D.j(this.o,b,c)}};
$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.parser.SrcVar{",", ","}",c,$APP.P.g(new $APP.J(null,1,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[$APP.wn,this.Ja],null)],null),this.o))};
$APP.h.ha=function(){return new $APP.Bi(this,1,new $APP.J(null,1,5,$APP.K,[$APP.wn],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new $1(this.Ja,this.A,this.o,this.D)};$APP.h.aa=function(){return 1+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1648766309^$APP.Wd(this)};$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.Ja,b.Ja)&&$APP.A.g(this.o,b.o)};
$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,1,[$APP.wn,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new $1(this.Ja,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "symbol":return!0;default:return $APP.cf(this.o,b)}};
$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g($APP.wn,b):$APP.H.call(null,$APP.wn,b))?new $1(c,this.A,this.o,null):new $1(this.Ja,this.A,$APP.yj.j(this.o,b,c),null)};$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,1,5,$APP.K,[new $APP.df($APP.wn,this.Ja,null)],null),this.o))};$APP.h.X=function(a,b){return new $1(this.Ja,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.rb=$APP.Cd;
$APP.h.sb=function(a,b,c){return T1(b,this.Ja,c)};$APP.h.tb=function(a,b){return V2.g?V2.g(b,this.Ja):V2.call(null,b,this.Ja)};$APP.h=a2.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};$APP.h.N=function(a,b,c){return $APP.D.j(this.o,b,c)};$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.parser.DefaultSrc{",", ","}",c,$APP.P.g($APP.Xh,this.o))};$APP.h.ha=function(){return new $APP.Bi(this,0,$APP.Xh,$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new a2(this.A,this.o,this.D)};$APP.h.aa=function(){return 0+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=-350962559^$APP.Wd(this)};
$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.o,b.o)};$APP.h.ta=function(a,b){return $APP.cf($APP.Cj,b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new a2(this.A,$APP.ch($APP.Im.g(this.o,b)),null)};$APP.h.ja=function(a,b){return $APP.cf(this.o,b)};$APP.h.U=function(a,b,c){return new a2(this.A,$APP.yj.j(this.o,b,c),null)};$APP.h.Z=function(){return $APP.u($APP.P.g($APP.Xh,this.o))};$APP.h.X=function(a,b){return new a2(b,this.o,this.D)};
$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.rb=$APP.Cd;$APP.h.sb=function(a,b,c){return c};$APP.h.tb=function(a,b){return b};$APP.h=b2.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};$APP.h.N=function(a,b,c){return $APP.D.j(this.o,b,c)};$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.parser.RulesVar{",", ","}",c,$APP.P.g($APP.Xh,this.o))};$APP.h.ha=function(){return new $APP.Bi(this,0,$APP.Xh,$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new b2(this.A,this.o,this.D)};$APP.h.aa=function(){return 0+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1504050517^$APP.Wd(this)};
$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.o,b.o)};$APP.h.ta=function(a,b){return $APP.cf($APP.Cj,b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new b2(this.A,$APP.ch($APP.Im.g(this.o,b)),null)};$APP.h.ja=function(a,b){return $APP.cf(this.o,b)};$APP.h.U=function(a,b,c){return new b2(this.A,$APP.yj.j(this.o,b,c),null)};$APP.h.Z=function(){return $APP.u($APP.P.g($APP.Xh,this.o))};$APP.h.X=function(a,b){return new b2(b,this.o,this.D)};
$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.rb=$APP.Cd;$APP.h.sb=function(a,b,c){return c};$APP.h.tb=function(a,b){return b};$APP.h=c2.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "value":return this.value;default:return $APP.D.j(this.o,b,c)}};
$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.parser.Constant{",", ","}",c,$APP.P.g(new $APP.J(null,1,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[$APP.GJ,this.value],null)],null),this.o))};
$APP.h.ha=function(){return new $APP.Bi(this,1,new $APP.J(null,1,5,$APP.K,[$APP.GJ],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new c2(this.value,this.A,this.o,this.D)};$APP.h.aa=function(){return 1+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=-812884714^$APP.Wd(this)};$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.value,b.value)&&$APP.A.g(this.o,b.o)};
$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,1,[$APP.GJ,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new c2(this.value,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "value":return!0;default:return $APP.cf(this.o,b)}};
$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g($APP.GJ,b):$APP.H.call(null,$APP.GJ,b))?new c2(c,this.A,this.o,null):new c2(this.value,this.A,$APP.yj.j(this.o,b,c),null)};$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,1,5,$APP.K,[new $APP.df($APP.GJ,this.value,null)],null),this.o))};$APP.h.X=function(a,b){return new c2(this.value,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.rb=$APP.Cd;
$APP.h.sb=function(a,b,c){return T1(b,this.value,c)};$APP.h.tb=function(a,b){return V2.g?V2.g(b,this.value):V2.call(null,b,this.value)};$APP.h=d2.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "symbol":return this.Ja;default:return $APP.D.j(this.o,b,c)}};$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.parser.PlainSymbol{",", ","}",c,$APP.P.g(new $APP.J(null,1,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[$APP.wn,this.Ja],null)],null),this.o))};$APP.h.ha=function(){return new $APP.Bi(this,1,new $APP.J(null,1,5,$APP.K,[$APP.wn],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new d2(this.Ja,this.A,this.o,this.D)};
$APP.h.aa=function(){return 1+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=1509921913^$APP.Wd(this)};$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.Ja,b.Ja)&&$APP.A.g(this.o,b.o)};$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,1,[$APP.wn,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new d2(this.Ja,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};
$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "symbol":return!0;default:return $APP.cf(this.o,b)}};$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g($APP.wn,b):$APP.H.call(null,$APP.wn,b))?new d2(c,this.A,this.o,null):new d2(this.Ja,this.A,$APP.yj.j(this.o,b,c),null)};$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,1,5,$APP.K,[new $APP.df($APP.wn,this.Ja,null)],null),this.o))};$APP.h.X=function(a,b){return new d2(this.Ja,b,this.o,this.D)};
$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.rb=$APP.Cd;$APP.h.sb=function(a,b,c){return T1(b,this.Ja,c)};$APP.h.tb=function(a,b){return V2.g?V2.g(b,this.Ja):V2.call(null,b,this.Ja)};$APP.h=j2.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "required":return this.required;case "free":return this.Hd;default:return $APP.D.j(this.o,b,c)}};
$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.parser.RuleVars{",", ","}",c,$APP.P.g(new $APP.J(null,2,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[$APP.JG,this.required],null),new $APP.J(null,2,5,$APP.K,[l2,this.Hd],null)],null),this.o))};
$APP.h.ha=function(){return new $APP.Bi(this,2,new $APP.J(null,2,5,$APP.K,[$APP.JG,l2],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new j2(this.required,this.Hd,this.A,this.o,this.D)};$APP.h.aa=function(){return 2+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=892963297^$APP.Wd(this)};
$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.required,b.required)&&$APP.A.g(this.Hd,b.Hd)&&$APP.A.g(this.o,b.o)};$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,2,[l2,null,$APP.JG,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new j2(this.required,this.Hd,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};
$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "required":case "free":return!0;default:return $APP.cf(this.o,b)}};$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g($APP.JG,b):$APP.H.call(null,$APP.JG,b))?new j2(c,this.Hd,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(l2,b):$APP.H.call(null,l2,b))?new j2(this.required,c,this.A,this.o,null):new j2(this.required,this.Hd,this.A,$APP.yj.j(this.o,b,c),null)};
$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,2,5,$APP.K,[new $APP.df($APP.JG,this.required,null),new $APP.df(l2,this.Hd,null)],null),this.o))};$APP.h.X=function(a,b){return new j2(this.required,this.Hd,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.rb=$APP.Cd;$APP.h.sb=function(a,b,c){return T1(b,this.Hd,T1(b,this.required,c))};
$APP.h.tb=function(a,b){a=V2.g?V2.g(b,this.required):V2.call(null,b,this.required);b=this.Hd;return V2.g?V2.g(a,b):V2.call(null,a,b)};$APP.h=o2.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};$APP.h.N=function(a,b,c){return $APP.D.j(this.o,b,c)};$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.parser.BindIgnore{",", ","}",c,$APP.P.g($APP.Xh,this.o))};$APP.h.ha=function(){return new $APP.Bi(this,0,$APP.Xh,$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new o2(this.A,this.o,this.D)};$APP.h.aa=function(){return 0+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=-890522983^$APP.Wd(this)};
$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.o,b.o)};$APP.h.ta=function(a,b){return $APP.cf($APP.Cj,b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new o2(this.A,$APP.ch($APP.Im.g(this.o,b)),null)};$APP.h.ja=function(a,b){return $APP.cf(this.o,b)};$APP.h.U=function(a,b,c){return new o2(this.A,$APP.yj.j(this.o,b,c),null)};$APP.h.Z=function(){return $APP.u($APP.P.g($APP.Xh,this.o))};$APP.h.X=function(a,b){return new o2(b,this.o,this.D)};
$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.rb=$APP.Cd;$APP.h.sb=function(a,b,c){return c};$APP.h.tb=function(a,b){return b};$APP.h=p2.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "variable":return this.Ob;default:return $APP.D.j(this.o,b,c)}};
$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.parser.BindScalar{",", ","}",c,$APP.P.g(new $APP.J(null,1,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[u3,this.Ob],null)],null),this.o))};
$APP.h.ha=function(){return new $APP.Bi(this,1,new $APP.J(null,1,5,$APP.K,[u3],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new p2(this.Ob,this.A,this.o,this.D)};$APP.h.aa=function(){return 1+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1522792445^$APP.Wd(this)};$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.Ob,b.Ob)&&$APP.A.g(this.o,b.o)};
$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,1,[u3,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new p2(this.Ob,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "variable":return!0;default:return $APP.cf(this.o,b)}};$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g(u3,b):$APP.H.call(null,u3,b))?new p2(c,this.A,this.o,null):new p2(this.Ob,this.A,$APP.yj.j(this.o,b,c),null)};
$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,1,5,$APP.K,[new $APP.df(u3,this.Ob,null)],null),this.o))};$APP.h.X=function(a,b){return new p2(this.Ob,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.rb=$APP.Cd;$APP.h.sb=function(a,b,c){return T1(b,this.Ob,c)};$APP.h.tb=function(a,b){return V2.g?V2.g(b,this.Ob):V2.call(null,b,this.Ob)};$APP.h=q2.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};
$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "bindings":return this.qc;default:return $APP.D.j(this.o,b,c)}};$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.parser.BindTuple{",", ","}",c,$APP.P.g(new $APP.J(null,1,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[$APP.Kq,this.qc],null)],null),this.o))};$APP.h.ha=function(){return new $APP.Bi(this,1,new $APP.J(null,1,5,$APP.K,[$APP.Kq],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new q2(this.qc,this.A,this.o,this.D)};
$APP.h.aa=function(){return 1+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1637239347^$APP.Wd(this)};$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.qc,b.qc)&&$APP.A.g(this.o,b.o)};$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,1,[$APP.Kq,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new q2(this.qc,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};
$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "bindings":return!0;default:return $APP.cf(this.o,b)}};$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g($APP.Kq,b):$APP.H.call(null,$APP.Kq,b))?new q2(c,this.A,this.o,null):new q2(this.qc,this.A,$APP.yj.j(this.o,b,c),null)};$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,1,5,$APP.K,[new $APP.df($APP.Kq,this.qc,null)],null),this.o))};$APP.h.X=function(a,b){return new q2(this.qc,b,this.o,this.D)};
$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.rb=$APP.Cd;$APP.h.sb=function(a,b,c){return T1(b,this.qc,c)};$APP.h.tb=function(a,b){return V2.g?V2.g(b,this.qc):V2.call(null,b,this.qc)};$APP.h=r2.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "binding":return this.binding;default:return $APP.D.j(this.o,b,c)}};
$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.parser.BindColl{",", ","}",c,$APP.P.g(new $APP.J(null,1,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[l4,this.binding],null)],null),this.o))};
$APP.h.ha=function(){return new $APP.Bi(this,1,new $APP.J(null,1,5,$APP.K,[l4],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new r2(this.binding,this.A,this.o,this.D)};$APP.h.aa=function(){return 1+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1930368089^$APP.Wd(this)};$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.binding,b.binding)&&$APP.A.g(this.o,b.o)};
$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,1,[l4,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new r2(this.binding,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "binding":return!0;default:return $APP.cf(this.o,b)}};$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g(l4,b):$APP.H.call(null,l4,b))?new r2(c,this.A,this.o,null):new r2(this.binding,this.A,$APP.yj.j(this.o,b,c),null)};
$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,1,5,$APP.K,[new $APP.df(l4,this.binding,null)],null),this.o))};$APP.h.X=function(a,b){return new r2(this.binding,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.rb=$APP.Cd;$APP.h.sb=function(a,b,c){return T1(b,this.binding,c)};$APP.h.tb=function(a,b){return V2.g?V2.g(b,this.binding):V2.call(null,b,this.binding)};
Z1.prototype.Lg=function(){return new $APP.J(null,1,5,$APP.K,[this.Ja],null)};$APP.h=v2.prototype;$APP.h.Lg=function(){return u2($APP.xe(this.xa))};$APP.h.fa=function(a,b){return this.N(null,b,null)};$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "fn":return this.ia;case "args":return this.xa;default:return $APP.D.j(this.o,b,c)}};$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.parser.Aggregate{",", ","}",c,$APP.P.g(new $APP.J(null,2,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[$APP.gp,this.ia],null),new $APP.J(null,2,5,$APP.K,[$APP.Zn,this.xa],null)],null),this.o))};$APP.h.ha=function(){return new $APP.Bi(this,2,new $APP.J(null,2,5,$APP.K,[$APP.gp,$APP.Zn],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};
$APP.h.ba=function(){return new v2(this.ia,this.xa,this.A,this.o,this.D)};$APP.h.aa=function(){return 2+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=-91097383^$APP.Wd(this)};$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.ia,b.ia)&&$APP.A.g(this.xa,b.xa)&&$APP.A.g(this.o,b.o)};
$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,2,[$APP.Zn,null,$APP.gp,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new v2(this.ia,this.xa,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "fn":case "args":return!0;default:return $APP.cf(this.o,b)}};
$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g($APP.gp,b):$APP.H.call(null,$APP.gp,b))?new v2(c,this.xa,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g($APP.Zn,b):$APP.H.call(null,$APP.Zn,b))?new v2(this.ia,c,this.A,this.o,null):new v2(this.ia,this.xa,this.A,$APP.yj.j(this.o,b,c),null)};$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,2,5,$APP.K,[new $APP.df($APP.gp,this.ia,null),new $APP.df($APP.Zn,this.xa,null)],null),this.o))};
$APP.h.X=function(a,b){return new v2(this.ia,this.xa,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.rb=$APP.Cd;$APP.h.sb=function(a,b,c){return T1(b,this.xa,T1(b,this.ia,c))};$APP.h.tb=function(a,b){a=V2.g?V2.g(b,this.ia):V2.call(null,b,this.ia);b=this.xa;return V2.g?V2.g(a,b):V2.call(null,a,b)};$APP.h=w2.prototype;$APP.h.Lg=function(){return u2(this.Ob)};$APP.h.fa=function(a,b){return this.N(null,b,null)};
$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "source":return this.source;case "variable":return this.Ob;case "pattern":return this.pattern;default:return $APP.D.j(this.o,b,c)}};$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.parser.Pull{",", ","}",c,$APP.P.g(new $APP.J(null,3,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[$APP.Gm,this.source],null),new $APP.J(null,2,5,$APP.K,[u3,this.Ob],null),new $APP.J(null,2,5,$APP.K,[X0,this.pattern],null)],null),this.o))};$APP.h.ha=function(){return new $APP.Bi(this,3,new $APP.J(null,3,5,$APP.K,[$APP.Gm,u3,X0],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};
$APP.h.ba=function(){return new w2(this.source,this.Ob,this.pattern,this.A,this.o,this.D)};$APP.h.aa=function(){return 3+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=-2108867663^$APP.Wd(this)};$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.source,b.source)&&$APP.A.g(this.Ob,b.Ob)&&$APP.A.g(this.pattern,b.pattern)&&$APP.A.g(this.o,b.o)};
$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,3,[u3,null,$APP.Gm,null,X0,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new w2(this.source,this.Ob,this.pattern,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "source":case "variable":case "pattern":return!0;default:return $APP.cf(this.o,b)}};
$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g($APP.Gm,b):$APP.H.call(null,$APP.Gm,b))?new w2(c,this.Ob,this.pattern,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(u3,b):$APP.H.call(null,u3,b))?new w2(this.source,c,this.pattern,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(X0,b):$APP.H.call(null,X0,b))?new w2(this.source,this.Ob,c,this.A,this.o,null):new w2(this.source,this.Ob,this.pattern,this.A,$APP.yj.j(this.o,b,c),null)};
$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,3,5,$APP.K,[new $APP.df($APP.Gm,this.source,null),new $APP.df(u3,this.Ob,null),new $APP.df(X0,this.pattern,null)],null),this.o))};$APP.h.X=function(a,b){return new w2(this.source,this.Ob,this.pattern,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.rb=$APP.Cd;$APP.h.sb=function(a,b,c){return T1(b,this.pattern,T1(b,this.Ob,T1(b,this.source,c)))};
$APP.h.tb=function(a,b){a=V2.g?V2.g(b,this.source):V2.call(null,b,this.source);b=this.Ob;a=V2.g?V2.g(a,b):V2.call(null,a,b);b=this.pattern;return V2.g?V2.g(a,b):V2.call(null,a,b)};$APP.h=y2.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "elements":return this.elements;default:return $APP.D.j(this.o,b,c)}};
$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.parser.FindRel{",", ","}",c,$APP.P.g(new $APP.J(null,1,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[w4,this.elements],null)],null),this.o))};
$APP.h.ha=function(){return new $APP.Bi(this,1,new $APP.J(null,1,5,$APP.K,[w4],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new y2(this.elements,this.A,this.o,this.D)};$APP.h.aa=function(){return 1+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=744809563^$APP.Wd(this)};$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.elements,b.elements)&&$APP.A.g(this.o,b.o)};
$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,1,[w4,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new y2(this.elements,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};$APP.h.Of=function(){return this.elements};$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "elements":return!0;default:return $APP.cf(this.o,b)}};
$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g(w4,b):$APP.H.call(null,w4,b))?new y2(c,this.A,this.o,null):new y2(this.elements,this.A,$APP.yj.j(this.o,b,c),null)};$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,1,5,$APP.K,[new $APP.df(w4,this.elements,null)],null),this.o))};$APP.h.X=function(a,b){return new y2(this.elements,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.rb=$APP.Cd;
$APP.h.sb=function(a,b,c){return T1(b,this.elements,c)};$APP.h.tb=function(a,b){return V2.g?V2.g(b,this.elements):V2.call(null,b,this.elements)};$APP.h=z2.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "element":return this.element;default:return $APP.D.j(this.o,b,c)}};$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.parser.FindColl{",", ","}",c,$APP.P.g(new $APP.J(null,1,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[z4,this.element],null)],null),this.o))};$APP.h.ha=function(){return new $APP.Bi(this,1,new $APP.J(null,1,5,$APP.K,[z4],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new z2(this.element,this.A,this.o,this.D)};
$APP.h.aa=function(){return 1+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=124241361^$APP.Wd(this)};$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.element,b.element)&&$APP.A.g(this.o,b.o)};$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,1,[z4,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new z2(this.element,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};
$APP.h.Of=function(){return new $APP.J(null,1,5,$APP.K,[this.element],null)};$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "element":return!0;default:return $APP.cf(this.o,b)}};$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g(z4,b):$APP.H.call(null,z4,b))?new z2(c,this.A,this.o,null):new z2(this.element,this.A,$APP.yj.j(this.o,b,c),null)};$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,1,5,$APP.K,[new $APP.df(z4,this.element,null)],null),this.o))};
$APP.h.X=function(a,b){return new z2(this.element,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.rb=$APP.Cd;$APP.h.sb=function(a,b,c){return T1(b,this.element,c)};$APP.h.tb=function(a,b){return V2.g?V2.g(b,this.element):V2.call(null,b,this.element)};$APP.h=A2.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};
$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "element":return this.element;default:return $APP.D.j(this.o,b,c)}};$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.parser.FindScalar{",", ","}",c,$APP.P.g(new $APP.J(null,1,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[z4,this.element],null)],null),this.o))};$APP.h.ha=function(){return new $APP.Bi(this,1,new $APP.J(null,1,5,$APP.K,[z4],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new A2(this.element,this.A,this.o,this.D)};
$APP.h.aa=function(){return 1+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=-661542332^$APP.Wd(this)};$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.element,b.element)&&$APP.A.g(this.o,b.o)};$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,1,[z4,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new A2(this.element,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};
$APP.h.Of=function(){return new $APP.J(null,1,5,$APP.K,[this.element],null)};$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "element":return!0;default:return $APP.cf(this.o,b)}};$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g(z4,b):$APP.H.call(null,z4,b))?new A2(c,this.A,this.o,null):new A2(this.element,this.A,$APP.yj.j(this.o,b,c),null)};$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,1,5,$APP.K,[new $APP.df(z4,this.element,null)],null),this.o))};
$APP.h.X=function(a,b){return new A2(this.element,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.rb=$APP.Cd;$APP.h.sb=function(a,b,c){return T1(b,this.element,c)};$APP.h.tb=function(a,b){return V2.g?V2.g(b,this.element):V2.call(null,b,this.element)};$APP.h=B2.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};
$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "elements":return this.elements;default:return $APP.D.j(this.o,b,c)}};$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.parser.FindTuple{",", ","}",c,$APP.P.g(new $APP.J(null,1,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[w4,this.elements],null)],null),this.o))};$APP.h.ha=function(){return new $APP.Bi(this,1,new $APP.J(null,1,5,$APP.K,[w4],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new B2(this.elements,this.A,this.o,this.D)};
$APP.h.aa=function(){return 1+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=681530371^$APP.Wd(this)};$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.elements,b.elements)&&$APP.A.g(this.o,b.o)};$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,1,[w4,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new B2(this.elements,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};$APP.h.Of=function(){return this.elements};
$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "elements":return!0;default:return $APP.cf(this.o,b)}};$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g(w4,b):$APP.H.call(null,w4,b))?new B2(c,this.A,this.o,null):new B2(this.elements,this.A,$APP.yj.j(this.o,b,c),null)};$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,1,5,$APP.K,[new $APP.df(w4,this.elements,null)],null),this.o))};$APP.h.X=function(a,b){return new B2(this.elements,b,this.o,this.D)};
$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.rb=$APP.Cd;$APP.h.sb=function(a,b,c){return T1(b,this.elements,c)};$APP.h.tb=function(a,b){return V2.g?V2.g(b,this.elements):V2.call(null,b,this.elements)};$APP.h=I2.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "type":return this.type;case "symbols":return this.Md;default:return $APP.D.j(this.o,b,c)}};
$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.parser.ReturnMap{",", ","}",c,$APP.P.g(new $APP.J(null,2,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[$APP.Nm,this.type],null),new $APP.J(null,2,5,$APP.K,[i3,this.Md],null)],null),this.o))};
$APP.h.ha=function(){return new $APP.Bi(this,2,new $APP.J(null,2,5,$APP.K,[$APP.Nm,i3],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new I2(this.type,this.Md,this.A,this.o,this.D)};$APP.h.aa=function(){return 2+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=-2025547471^$APP.Wd(this)};
$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.type,b.type)&&$APP.A.g(this.Md,b.Md)&&$APP.A.g(this.o,b.o)};$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,2,[$APP.Nm,null,i3,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new I2(this.type,this.Md,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};
$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "type":case "symbols":return!0;default:return $APP.cf(this.o,b)}};$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g($APP.Nm,b):$APP.H.call(null,$APP.Nm,b))?new I2(c,this.Md,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(i3,b):$APP.H.call(null,i3,b))?new I2(this.type,c,this.A,this.o,null):new I2(this.type,this.Md,this.A,$APP.yj.j(this.o,b,c),null)};
$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,2,5,$APP.K,[new $APP.df($APP.Nm,this.type,null),new $APP.df(i3,this.Md,null)],null),this.o))};$APP.h.X=function(a,b){return new I2(this.type,this.Md,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.rb=$APP.Cd;$APP.h.sb=function(a,b,c){return T1(b,this.Md,T1(b,this.type,c))};
$APP.h.tb=function(a,b){a=V2.g?V2.g(b,this.type):V2.call(null,b,this.type);b=this.Md;return V2.g?V2.g(a,b):V2.call(null,a,b)};$APP.h=K2.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "source":return this.source;case "pattern":return this.pattern;default:return $APP.D.j(this.o,b,c)}};
$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.parser.Pattern{",", ","}",c,$APP.P.g(new $APP.J(null,2,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[$APP.Gm,this.source],null),new $APP.J(null,2,5,$APP.K,[X0,this.pattern],null)],null),this.o))};
$APP.h.ha=function(){return new $APP.Bi(this,2,new $APP.J(null,2,5,$APP.K,[$APP.Gm,X0],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new K2(this.source,this.pattern,this.A,this.o,this.D)};$APP.h.aa=function(){return 2+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=575220587^$APP.Wd(this)};
$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.source,b.source)&&$APP.A.g(this.pattern,b.pattern)&&$APP.A.g(this.o,b.o)};$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,2,[$APP.Gm,null,X0,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new K2(this.source,this.pattern,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};
$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "source":case "pattern":return!0;default:return $APP.cf(this.o,b)}};$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g($APP.Gm,b):$APP.H.call(null,$APP.Gm,b))?new K2(c,this.pattern,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(X0,b):$APP.H.call(null,X0,b))?new K2(this.source,c,this.A,this.o,null):new K2(this.source,this.pattern,this.A,$APP.yj.j(this.o,b,c),null)};
$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,2,5,$APP.K,[new $APP.df($APP.Gm,this.source,null),new $APP.df(X0,this.pattern,null)],null),this.o))};$APP.h.X=function(a,b){return new K2(this.source,this.pattern,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.rb=$APP.Cd;$APP.h.sb=function(a,b,c){return T1(b,this.pattern,T1(b,this.source,c))};
$APP.h.tb=function(a,b){a=V2.g?V2.g(b,this.source):V2.call(null,b,this.source);b=this.pattern;return V2.g?V2.g(a,b):V2.call(null,a,b)};$APP.h=L2.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "fn":return this.ia;case "args":return this.xa;default:return $APP.D.j(this.o,b,c)}};
$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.parser.Predicate{",", ","}",c,$APP.P.g(new $APP.J(null,2,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[$APP.gp,this.ia],null),new $APP.J(null,2,5,$APP.K,[$APP.Zn,this.xa],null)],null),this.o))};
$APP.h.ha=function(){return new $APP.Bi(this,2,new $APP.J(null,2,5,$APP.K,[$APP.gp,$APP.Zn],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new L2(this.ia,this.xa,this.A,this.o,this.D)};$APP.h.aa=function(){return 2+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=-1523376880^$APP.Wd(this)};
$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.ia,b.ia)&&$APP.A.g(this.xa,b.xa)&&$APP.A.g(this.o,b.o)};$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,2,[$APP.Zn,null,$APP.gp,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new L2(this.ia,this.xa,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};
$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "fn":case "args":return!0;default:return $APP.cf(this.o,b)}};$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g($APP.gp,b):$APP.H.call(null,$APP.gp,b))?new L2(c,this.xa,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g($APP.Zn,b):$APP.H.call(null,$APP.Zn,b))?new L2(this.ia,c,this.A,this.o,null):new L2(this.ia,this.xa,this.A,$APP.yj.j(this.o,b,c),null)};
$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,2,5,$APP.K,[new $APP.df($APP.gp,this.ia,null),new $APP.df($APP.Zn,this.xa,null)],null),this.o))};$APP.h.X=function(a,b){return new L2(this.ia,this.xa,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.rb=$APP.Cd;$APP.h.sb=function(a,b,c){return T1(b,this.xa,T1(b,this.ia,c))};
$APP.h.tb=function(a,b){a=V2.g?V2.g(b,this.ia):V2.call(null,b,this.ia);b=this.xa;return V2.g?V2.g(a,b):V2.call(null,a,b)};$APP.h=M2.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "fn":return this.ia;case "args":return this.xa;case "binding":return this.binding;default:return $APP.D.j(this.o,b,c)}};
$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.parser.Function{",", ","}",c,$APP.P.g(new $APP.J(null,3,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[$APP.gp,this.ia],null),new $APP.J(null,2,5,$APP.K,[$APP.Zn,this.xa],null),new $APP.J(null,2,5,$APP.K,[l4,this.binding],null)],null),this.o))};
$APP.h.ha=function(){return new $APP.Bi(this,3,new $APP.J(null,3,5,$APP.K,[$APP.gp,$APP.Zn,l4],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new M2(this.ia,this.xa,this.binding,this.A,this.o,this.D)};$APP.h.aa=function(){return 3+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=589494199^$APP.Wd(this)};
$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.ia,b.ia)&&$APP.A.g(this.xa,b.xa)&&$APP.A.g(this.binding,b.binding)&&$APP.A.g(this.o,b.o)};$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,3,[$APP.Zn,null,$APP.gp,null,l4,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new M2(this.ia,this.xa,this.binding,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};
$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "fn":case "args":case "binding":return!0;default:return $APP.cf(this.o,b)}};
$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g($APP.gp,b):$APP.H.call(null,$APP.gp,b))?new M2(c,this.xa,this.binding,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g($APP.Zn,b):$APP.H.call(null,$APP.Zn,b))?new M2(this.ia,c,this.binding,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(l4,b):$APP.H.call(null,l4,b))?new M2(this.ia,this.xa,c,this.A,this.o,null):new M2(this.ia,this.xa,this.binding,this.A,$APP.yj.j(this.o,b,c),null)};
$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,3,5,$APP.K,[new $APP.df($APP.gp,this.ia,null),new $APP.df($APP.Zn,this.xa,null),new $APP.df(l4,this.binding,null)],null),this.o))};$APP.h.X=function(a,b){return new M2(this.ia,this.xa,this.binding,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.rb=$APP.Cd;$APP.h.sb=function(a,b,c){return T1(b,this.binding,T1(b,this.xa,T1(b,this.ia,c)))};
$APP.h.tb=function(a,b){a=V2.g?V2.g(b,this.ia):V2.call(null,b,this.ia);b=this.xa;a=V2.g?V2.g(a,b):V2.call(null,a,b);b=this.binding;return V2.g?V2.g(a,b):V2.call(null,a,b)};$APP.h=N2.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "source":return this.source;case "name":return this.name;case "args":return this.xa;default:return $APP.D.j(this.o,b,c)}};
$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.parser.RuleExpr{",", ","}",c,$APP.P.g(new $APP.J(null,3,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[$APP.Gm,this.source],null),new $APP.J(null,2,5,$APP.K,[$APP.R,this.name],null),new $APP.J(null,2,5,$APP.K,[$APP.Zn,this.xa],null)],null),this.o))};
$APP.h.ha=function(){return new $APP.Bi(this,3,new $APP.J(null,3,5,$APP.K,[$APP.Gm,$APP.R,$APP.Zn],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new N2(this.source,this.name,this.xa,this.A,this.o,this.D)};$APP.h.aa=function(){return 3+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=-444662011^$APP.Wd(this)};
$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.source,b.source)&&$APP.A.g(this.name,b.name)&&$APP.A.g(this.xa,b.xa)&&$APP.A.g(this.o,b.o)};$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,3,[$APP.Zn,null,$APP.R,null,$APP.Gm,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new N2(this.source,this.name,this.xa,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};
$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "source":case "name":case "args":return!0;default:return $APP.cf(this.o,b)}};
$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g($APP.Gm,b):$APP.H.call(null,$APP.Gm,b))?new N2(c,this.name,this.xa,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g($APP.R,b):$APP.H.call(null,$APP.R,b))?new N2(this.source,c,this.xa,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g($APP.Zn,b):$APP.H.call(null,$APP.Zn,b))?new N2(this.source,this.name,c,this.A,this.o,null):new N2(this.source,this.name,this.xa,this.A,$APP.yj.j(this.o,b,c),null)};
$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,3,5,$APP.K,[new $APP.df($APP.Gm,this.source,null),new $APP.df($APP.R,this.name,null),new $APP.df($APP.Zn,this.xa,null)],null),this.o))};$APP.h.X=function(a,b){return new N2(this.source,this.name,this.xa,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.rb=$APP.Cd;$APP.h.sb=function(a,b,c){return T1(b,this.xa,T1(b,this.name,T1(b,this.source,c)))};
$APP.h.tb=function(a,b){a=V2.g?V2.g(b,this.source):V2.call(null,b,this.source);b=this.name;a=V2.g?V2.g(a,b):V2.call(null,a,b);b=this.xa;return V2.g?V2.g(a,b):V2.call(null,a,b)};$APP.h=O2.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "source":return this.source;case "vars":return this.Pb;case "clauses":return this.Ca;default:return $APP.D.j(this.o,b,c)}};
$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.parser.Not{",", ","}",c,$APP.P.g(new $APP.J(null,3,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[$APP.Gm,this.source],null),new $APP.J(null,2,5,$APP.K,[$APP.BI,this.Pb],null),new $APP.J(null,2,5,$APP.K,[$APP.cM,this.Ca],null)],null),this.o))};
$APP.h.ha=function(){return new $APP.Bi(this,3,new $APP.J(null,3,5,$APP.K,[$APP.Gm,$APP.BI,$APP.cM],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new O2(this.source,this.Pb,this.Ca,this.A,this.o,this.D)};$APP.h.aa=function(){return 3+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=1394671061^$APP.Wd(this)};
$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.source,b.source)&&$APP.A.g(this.Pb,b.Pb)&&$APP.A.g(this.Ca,b.Ca)&&$APP.A.g(this.o,b.o)};$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,3,[$APP.Gm,null,$APP.cM,null,$APP.BI,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new O2(this.source,this.Pb,this.Ca,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};
$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "source":case "vars":case "clauses":return!0;default:return $APP.cf(this.o,b)}};
$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g($APP.Gm,b):$APP.H.call(null,$APP.Gm,b))?new O2(c,this.Pb,this.Ca,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g($APP.BI,b):$APP.H.call(null,$APP.BI,b))?new O2(this.source,c,this.Ca,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g($APP.cM,b):$APP.H.call(null,$APP.cM,b))?new O2(this.source,this.Pb,c,this.A,this.o,null):new O2(this.source,this.Pb,this.Ca,this.A,$APP.yj.j(this.o,b,c),null)};
$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,3,5,$APP.K,[new $APP.df($APP.Gm,this.source,null),new $APP.df($APP.BI,this.Pb,null),new $APP.df($APP.cM,this.Ca,null)],null),this.o))};$APP.h.X=function(a,b){return new O2(this.source,this.Pb,this.Ca,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.rb=$APP.Cd;$APP.h.sb=function(a,b,c){return T1(b,this.Ca,T1(b,this.Pb,T1(b,this.source,c)))};
$APP.h.tb=function(a,b){a=V2.g?V2.g(b,this.source):V2.call(null,b,this.source);b=this.Pb;a=V2.g?V2.g(a,b):V2.call(null,a,b);b=this.Ca;return V2.g?V2.g(a,b):V2.call(null,a,b)};$APP.h=P2.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "source":return this.source;case "rule-vars":return this.ld;case "clauses":return this.Ca;default:return $APP.D.j(this.o,b,c)}};
$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.parser.Or{",", ","}",c,$APP.P.g(new $APP.J(null,3,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[$APP.Gm,this.source],null),new $APP.J(null,2,5,$APP.K,[T2,this.ld],null),new $APP.J(null,2,5,$APP.K,[$APP.cM,this.Ca],null)],null),this.o))};
$APP.h.ha=function(){return new $APP.Bi(this,3,new $APP.J(null,3,5,$APP.K,[$APP.Gm,T2,$APP.cM],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new P2(this.source,this.ld,this.Ca,this.A,this.o,this.D)};$APP.h.aa=function(){return 3+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=1461934571^$APP.Wd(this)};
$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.source,b.source)&&$APP.A.g(this.ld,b.ld)&&$APP.A.g(this.Ca,b.Ca)&&$APP.A.g(this.o,b.o)};$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,3,[T2,null,$APP.Gm,null,$APP.cM,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new P2(this.source,this.ld,this.Ca,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};
$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "source":case "rule-vars":case "clauses":return!0;default:return $APP.cf(this.o,b)}};
$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g($APP.Gm,b):$APP.H.call(null,$APP.Gm,b))?new P2(c,this.ld,this.Ca,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(T2,b):$APP.H.call(null,T2,b))?new P2(this.source,c,this.Ca,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g($APP.cM,b):$APP.H.call(null,$APP.cM,b))?new P2(this.source,this.ld,c,this.A,this.o,null):new P2(this.source,this.ld,this.Ca,this.A,$APP.yj.j(this.o,b,c),null)};
$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,3,5,$APP.K,[new $APP.df($APP.Gm,this.source,null),new $APP.df(T2,this.ld,null),new $APP.df($APP.cM,this.Ca,null)],null),this.o))};$APP.h.X=function(a,b){return new P2(this.source,this.ld,this.Ca,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.rb=$APP.Cd;$APP.h.sb=function(a,b,c){return T1(b,this.Ca,T1(b,this.ld,T1(b,this.source,c)))};
$APP.h.tb=function(a,b){a=V2.g?V2.g(b,this.source):V2.call(null,b,this.source);b=this.ld;a=V2.g?V2.g(a,b):V2.call(null,a,b);b=this.Ca;return V2.g?V2.g(a,b):V2.call(null,a,b)};$APP.h=Q2.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "clauses":return this.Ca;default:return $APP.D.j(this.o,b,c)}};
$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.parser.And{",", ","}",c,$APP.P.g(new $APP.J(null,1,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[$APP.cM,this.Ca],null)],null),this.o))};
$APP.h.ha=function(){return new $APP.Bi(this,1,new $APP.J(null,1,5,$APP.K,[$APP.cM],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new Q2(this.Ca,this.A,this.o,this.D)};$APP.h.aa=function(){return 1+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=-131856804^$APP.Wd(this)};$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.Ca,b.Ca)&&$APP.A.g(this.o,b.o)};
$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,1,[$APP.cM,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new Q2(this.Ca,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "clauses":return!0;default:return $APP.cf(this.o,b)}};
$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g($APP.cM,b):$APP.H.call(null,$APP.cM,b))?new Q2(c,this.A,this.o,null):new Q2(this.Ca,this.A,$APP.yj.j(this.o,b,c),null)};$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,1,5,$APP.K,[new $APP.df($APP.cM,this.Ca,null)],null),this.o))};$APP.h.X=function(a,b){return new Q2(this.Ca,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.rb=$APP.Cd;
$APP.h.sb=function(a,b,c){return T1(b,this.Ca,c)};$APP.h.tb=function(a,b){return V2.g?V2.g(b,this.Ca):V2.call(null,b,this.Ca)};var V2=function V2(a,b){return b instanceof Z1?$APP.vg.g(a,b):b instanceof O2?$APP.Ji.g(a,b.Pb):b instanceof P2?(b=b.ld,V2.g?V2.g(a,b):V2.call(null,a,b)):(null!=b?$APP.Cd===b.rb||(b.Cd?0:$APP.Bb(O1,b)):$APP.Bb(O1,b))?Q1(b,a):$APP.Ke(b)?$APP.nf.j(V2,a,b):a};$APP.h=Z2.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};
$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "vars":return this.Pb;case "clauses":return this.Ca;default:return $APP.D.j(this.o,b,c)}};$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.parser.RuleBranch{",", ","}",c,$APP.P.g(new $APP.J(null,2,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[$APP.BI,this.Pb],null),new $APP.J(null,2,5,$APP.K,[$APP.cM,this.Ca],null)],null),this.o))};$APP.h.ha=function(){return new $APP.Bi(this,2,new $APP.J(null,2,5,$APP.K,[$APP.BI,$APP.cM],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};
$APP.h.ba=function(){return new Z2(this.Pb,this.Ca,this.A,this.o,this.D)};$APP.h.aa=function(){return 2+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=1024755006^$APP.Wd(this)};$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.Pb,b.Pb)&&$APP.A.g(this.Ca,b.Ca)&&$APP.A.g(this.o,b.o)};
$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,2,[$APP.cM,null,$APP.BI,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new Z2(this.Pb,this.Ca,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "vars":case "clauses":return!0;default:return $APP.cf(this.o,b)}};
$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g($APP.BI,b):$APP.H.call(null,$APP.BI,b))?new Z2(c,this.Ca,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g($APP.cM,b):$APP.H.call(null,$APP.cM,b))?new Z2(this.Pb,c,this.A,this.o,null):new Z2(this.Pb,this.Ca,this.A,$APP.yj.j(this.o,b,c),null)};$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,2,5,$APP.K,[new $APP.df($APP.BI,this.Pb,null),new $APP.df($APP.cM,this.Ca,null)],null),this.o))};
$APP.h.X=function(a,b){return new Z2(this.Pb,this.Ca,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.rb=$APP.Cd;$APP.h.sb=function(a,b,c){return T1(b,this.Ca,T1(b,this.Pb,c))};$APP.h.tb=function(a,b){return V2(V2(b,this.Pb),this.Ca)};$APP.h=$2.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};
$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "name":return this.name;case "branches":return this.Bd;default:return $APP.D.j(this.o,b,c)}};$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.parser.Rule{",", ","}",c,$APP.P.g(new $APP.J(null,2,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[$APP.R,this.name],null),new $APP.J(null,2,5,$APP.K,[q4,this.Bd],null)],null),this.o))};$APP.h.ha=function(){return new $APP.Bi(this,2,new $APP.J(null,2,5,$APP.K,[$APP.R,q4],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};
$APP.h.ba=function(){return new $2(this.name,this.Bd,this.A,this.o,this.D)};$APP.h.aa=function(){return 2+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=-900273052^$APP.Wd(this)};$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.name,b.name)&&$APP.A.g(this.Bd,b.Bd)&&$APP.A.g(this.o,b.o)};
$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,2,[$APP.R,null,q4,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new $2(this.name,this.Bd,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "name":case "branches":return!0;default:return $APP.cf(this.o,b)}};
$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g($APP.R,b):$APP.H.call(null,$APP.R,b))?new $2(c,this.Bd,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(q4,b):$APP.H.call(null,q4,b))?new $2(this.name,c,this.A,this.o,null):new $2(this.name,this.Bd,this.A,$APP.yj.j(this.o,b,c),null)};$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,2,5,$APP.K,[new $APP.df($APP.R,this.name,null),new $APP.df(q4,this.Bd,null)],null),this.o))};
$APP.h.X=function(a,b){return new $2(this.name,this.Bd,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.rb=$APP.Cd;$APP.h.sb=function(a,b,c){return T1(b,this.Bd,T1(b,this.name,c))};$APP.h.tb=function(a,b){return V2(V2(b,this.name),this.Bd)};$APP.h=b3.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};
$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "qfind":return this.Zc;case "qwith":return this.cd;case "qreturn-map":return this.ad;case "qin":return this.$c;case "qwhere":return this.bd;default:return $APP.D.j(this.o,b,c)}};$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.parser.Query{",", ","}",c,$APP.P.g(new $APP.J(null,5,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[c3,this.Zc],null),new $APP.J(null,2,5,$APP.K,[d3,this.cd],null),new $APP.J(null,2,5,$APP.K,[e3,this.ad],null),new $APP.J(null,2,5,$APP.K,[f3,this.$c],null),new $APP.J(null,2,5,$APP.K,[g3,this.bd],null)],null),this.o))};
$APP.h.ha=function(){return new $APP.Bi(this,5,new $APP.J(null,5,5,$APP.K,[c3,d3,e3,f3,g3],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};$APP.h.ba=function(){return new b3(this.Zc,this.cd,this.ad,this.$c,this.bd,this.A,this.o,this.D)};$APP.h.aa=function(){return 5+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=181307977^$APP.Wd(this)};
$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.Zc,b.Zc)&&$APP.A.g(this.cd,b.cd)&&$APP.A.g(this.ad,b.ad)&&$APP.A.g(this.$c,b.$c)&&$APP.A.g(this.bd,b.bd)&&$APP.A.g(this.o,b.o)};$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,5,[c3,null,g3,null,f3,null,d3,null,e3,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new b3(this.Zc,this.cd,this.ad,this.$c,this.bd,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};
$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "qfind":case "qwith":case "qreturn-map":case "qin":case "qwhere":return!0;default:return $APP.cf(this.o,b)}};
$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g(c3,b):$APP.H.call(null,c3,b))?new b3(c,this.cd,this.ad,this.$c,this.bd,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(d3,b):$APP.H.call(null,d3,b))?new b3(this.Zc,c,this.ad,this.$c,this.bd,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(e3,b):$APP.H.call(null,e3,b))?new b3(this.Zc,this.cd,c,this.$c,this.bd,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(f3,b):$APP.H.call(null,f3,b))?new b3(this.Zc,this.cd,this.ad,c,this.bd,this.A,this.o,null):$APP.l($APP.H.g?
$APP.H.g(g3,b):$APP.H.call(null,g3,b))?new b3(this.Zc,this.cd,this.ad,this.$c,c,this.A,this.o,null):new b3(this.Zc,this.cd,this.ad,this.$c,this.bd,this.A,$APP.yj.j(this.o,b,c),null)};$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,5,5,$APP.K,[new $APP.df(c3,this.Zc,null),new $APP.df(d3,this.cd,null),new $APP.df(e3,this.ad,null),new $APP.df(f3,this.$c,null),new $APP.df(g3,this.bd,null)],null),this.o))};
$APP.h.X=function(a,b){return new b3(this.Zc,this.cd,this.ad,this.$c,this.bd,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h.rb=$APP.Cd;$APP.h.sb=function(a,b,c){return T1(b,this.bd,T1(b,this.$c,T1(b,this.ad,T1(b,this.cd,T1(b,this.Zc,c)))))};$APP.h.tb=function(a,b){return V2(V2(V2(V2(V2(b,this.Zc),this.cd),this.ad),this.$c),this.bd)};var IPa=OY();$APP.h=k3.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "rels":return this.de;case "sources":return this.sources;case "rules":return this.rules;default:return $APP.D.j(this.o,b,c)}};$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.query.Context{",", ","}",c,$APP.P.g(new $APP.J(null,3,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[w3,this.de],null),new $APP.J(null,2,5,$APP.K,[v3,this.sources],null),new $APP.J(null,2,5,$APP.K,[$APP.tF,this.rules],null)],null),this.o))};$APP.h.ha=function(){return new $APP.Bi(this,3,new $APP.J(null,3,5,$APP.K,[w3,v3,$APP.tF],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};
$APP.h.ba=function(){return new k3(this.de,this.sources,this.rules,this.A,this.o,this.D)};$APP.h.aa=function(){return 3+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=1014232958^$APP.Wd(this)};$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.de,b.de)&&$APP.A.g(this.sources,b.sources)&&$APP.A.g(this.rules,b.rules)&&$APP.A.g(this.o,b.o)};
$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,3,[v3,null,$APP.tF,null,w3,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new k3(this.de,this.sources,this.rules,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "rels":case "sources":case "rules":return!0;default:return $APP.cf(this.o,b)}};
$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g(w3,b):$APP.H.call(null,w3,b))?new k3(c,this.sources,this.rules,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(v3,b):$APP.H.call(null,v3,b))?new k3(this.de,c,this.rules,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g($APP.tF,b):$APP.H.call(null,$APP.tF,b))?new k3(this.de,this.sources,c,this.A,this.o,null):new k3(this.de,this.sources,this.rules,this.A,$APP.yj.j(this.o,b,c),null)};
$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,3,5,$APP.K,[new $APP.df(w3,this.de,null),new $APP.df(v3,this.sources,null),new $APP.df($APP.tF,this.rules,null)],null),this.o))};$APP.h.X=function(a,b){return new k3(this.de,this.sources,this.rules,b,this.o,this.D)};$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};$APP.h=l3.prototype;$APP.h.fa=function(a,b){return this.N(null,b,null)};
$APP.h.N=function(a,b,c){switch(b instanceof $APP.G?b.S:null){case "attrs":return this.oa;case "tuples":return this.we;default:return $APP.D.j(this.o,b,c)}};$APP.h.pa=function(a,b,c){return $APP.nf.j(function(d,e){var f=$APP.B.j(e,0,null);e=$APP.B.j(e,1,null);return b.j?b.j(d,f,e):b.call(null,d,f,e)},c,this)};
$APP.h.V=function(a,b,c){return $APP.ak(b,function(d){return $APP.ak(b,$APP.dk,""," ","",c,d)},"#datascript.query.Relation{",", ","}",c,$APP.P.g(new $APP.J(null,2,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[f1,this.oa],null),new $APP.J(null,2,5,$APP.K,[B3,this.we],null)],null),this.o))};$APP.h.ha=function(){return new $APP.Bi(this,2,new $APP.J(null,2,5,$APP.K,[f1,B3],null),$APP.l(this.o)?$APP.rd(this.o):$APP.gh())};$APP.h.W=function(){return this.A};
$APP.h.ba=function(){return new l3(this.oa,this.we,this.A,this.o,this.D)};$APP.h.aa=function(){return 2+$APP.me(this.o)};$APP.h.Y=function(){var a=this.D;return null!=a?a:this.D=a=1107093117^$APP.Wd(this)};$APP.h.R=function(a,b){return null!=b&&this.constructor===b.constructor&&$APP.A.g(this.oa,b.oa)&&$APP.A.g(this.we,b.we)&&$APP.A.g(this.o,b.o)};
$APP.h.ta=function(a,b){return $APP.cf(new $APP.Bj(null,new $APP.k(null,2,[B3,null,f1,null],null),null),b)?$APP.Im.g($APP.vc($APP.Ji.g($APP.ah,this),this.A),b):new l3(this.oa,this.we,this.A,$APP.ch($APP.Im.g(this.o,b)),null)};$APP.h.ja=function(a,b){switch(b instanceof $APP.G?b.S:null){case "attrs":case "tuples":return!0;default:return $APP.cf(this.o,b)}};
$APP.h.U=function(a,b,c){return $APP.l($APP.H.g?$APP.H.g(f1,b):$APP.H.call(null,f1,b))?new l3(c,this.we,this.A,this.o,null):$APP.l($APP.H.g?$APP.H.g(B3,b):$APP.H.call(null,B3,b))?new l3(this.oa,c,this.A,this.o,null):new l3(this.oa,this.we,this.A,$APP.yj.j(this.o,b,c),null)};$APP.h.Z=function(){return $APP.u($APP.P.g(new $APP.J(null,2,5,$APP.K,[new $APP.df(f1,this.oa,null),new $APP.df(B3,this.we,null)],null),this.o))};$APP.h.X=function(a,b){return new l3(this.oa,this.we,b,this.o,this.D)};
$APP.h.da=function(a,b){return $APP.Oe(b)?this.U(null,$APP.ze(b,0),$APP.ze(b,1)):$APP.nf.j($APP.Qb,this,b)};
var q3=function q3(a,b){return $APP.A.g($APP.HH,a)?!0:$APP.A.g(new $APP.J(null,1,5,$APP.K,[$APP.BH],null),a)?$APP.Ke(b):a instanceof $APP.t?$APP.A.g(b,a):$APP.Ke(a)?$APP.A.g($APP.xe(a),$APP.BH)?$APP.Ke(b)&&$APP.vh(function(d){var e=$APP.B.j(d,0,null);d=$APP.B.j(d,1,null);return q3.g?q3.g(e,d):q3.call(null,e,d)},$APP.ek.j($APP.iw,$APP.Gj(a),b)):$APP.Ke(b)&&$APP.A.g($APP.me(b),$APP.me(a))&&$APP.vh(function(d){var e=$APP.B.j(d,0,null);d=$APP.B.j(d,1,null);return q3.g?q3.g(e,d):q3.call(null,e,d)},$APP.ek.j($APP.iw,
a,b)):a.h?a.h(b):a.call(null,b)},I3=function I3(a,b){var d=$APP.bh(a),e=$APP.D.g(d,f1);d=$APP.D.g(d,B3);var f=$APP.bh(b),g=$APP.D.g(f,f1);f=$APP.D.g(f,B3);if($APP.A.g(e,g))return new l3(e,$APP.Ji.g($APP.pf(d),f),null,null,null);if(kNa(e,g)){if($APP.vh($APP.ub,$APP.wj(e))){var m=$APP.pf(function(){return function z(x){return new $APP.Hg(null,function(){for(;;){var F=$APP.u(x);if(F){if($APP.Pe(F)){var M=$APP.hd(F),T=$APP.me(M),X=$APP.Kg(T);a:for(var aa=0;;)if(aa<T){var ba=$APP.ze(M,aa),ca=$APP.B.j(ba,
0,null);ba=$APP.B.j(ba,1,null);$APP.Og(X,new $APP.J(null,2,5,$APP.K,[ba,e.h?e.h(ca):e.call(null,ca)],null));aa+=1}else{M=!0;break a}return M?$APP.Ng($APP.Pg(X),z($APP.id(F))):$APP.Ng($APP.Pg(X),null)}M=$APP.v(F);X=$APP.B.j(M,0,null);M=$APP.B.j(M,1,null);return $APP.Bg(new $APP.J(null,2,5,$APP.K,[M,e.h?e.h(X):e.call(null,X)],null),z($APP.Rd(F)))}return null}},null,null)}(g)}()),r=$APP.nf.g($APP.ko,$APP.wj(e))+1;b=$APP.$c($APP.nf.j(function(w,x){for(var z=Array(r),F=$APP.u(m),M=null,T=0,X=0;;)if(X<
T){var aa=M.ea(null,X),ba=$APP.B.j(aa,0,null);aa=$APP.B.j(aa,1,null);z[aa]=x[ba];X+=1}else if(F=$APP.u(F))$APP.Pe(F)?(T=$APP.hd(F),F=$APP.id(F),M=T,T=$APP.me(T)):(T=$APP.v(F),M=$APP.B.j(T,0,null),T=$APP.B.j(T,1,null),z[T]=x[M],F=$APP.y(F),M=null,T=0),X=0;else break;return $APP.Wh.g(w,z)},$APP.Yc($APP.pf(d)),f));return new l3(e,b,null,null,null)}var n=$APP.Ij($APP.uj($APP.Hm.l($APP.C([e,g]))),$APP.lo.C());d=function(){var w=new l3(n,$APP.Xh,null,null,null);return I3.g?I3.g(w,a):I3.call(null,w,a)}();
return I3.g?I3.g(d,b):I3.call(null,d,b)}throw $APP.Sm.g(["Can’t sum relations with different attrs: ",$APP.yk.l($APP.C([e]))," and ",$APP.yk.l($APP.C([g]))].join(""),new $APP.k(null,1,[$APP.zJ,H3],null));},G3=function G3(a){switch(arguments.length){case 0:return G3.C();case 2:return G3.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.p.h(arguments.length)].join(""));}};G3.C=function(){return new l3($APP.ah,new $APP.J(null,1,5,$APP.K,[[]],null),null,null,null)};
G3.g=function(a,b){var c=$APP.uj(f1.h(a)),d=$APP.uj(f1.h(b)),e=$APP.of($APP.ek.g(f1.h(a),c)),f=$APP.of($APP.ek.g(f1.h(b),d));return new l3($APP.Ij($APP.P.g(c,d),$APP.lo.C()),$APP.$c($APP.nf.j(function(g,m){return $APP.nf.j(function(r,n){return $APP.Wh.g(r,lNa(m,e,n,f))},g,B3.h(b))},$APP.Yc($APP.Xh),B3.h(a))),null,null,null)};G3.B=2;o2.prototype.Qf=function(){return G3.C()};
p2.prototype.Qf=function(a,b){return new l3($APP.$g([$APP.Ap.g(this,new $APP.J(null,2,5,$APP.K,[u3,$APP.wn],null)),0]),new $APP.J(null,1,5,$APP.K,[$APP.Ds.h(new $APP.J(null,1,5,$APP.K,[b],null))],null),null,null,null)};
r2.prototype.Qf=function(a,b){var c=this;if(zZ(b))return $APP.Ge(b)?s3(c):$APP.nf.g(I3,$APP.ek.g(function(d){return t3(c.binding,d)},b));throw $APP.Sm.g(["Cannot bind value ",$APP.yk.l($APP.C([b]))," to collection ",$APP.yk.l($APP.C([X1(c)]))].join(""),new $APP.k(null,3,[$APP.zJ,p4,$APP.GJ,b,l4,X1(c)],null));};
q2.prototype.Qf=function(a,b){if(zZ(b)){if($APP.me(b)<$APP.me(this.qc))throw $APP.Sm.g(["Not enough elements in a collection ",$APP.yk.l($APP.C([b]))," to bind tuple ",$APP.yk.l($APP.C([X1(this)]))].join(""),new $APP.k(null,3,[$APP.zJ,p4,$APP.GJ,b,l4,X1(this)],null));return $APP.nf.g(G3,$APP.ek.j(function(c,d){return t3(c,d)},this.qc,b))}throw $APP.Sm.g(["Cannot bind value ",$APP.yk.l($APP.C([b]))," to tuple ",$APP.yk.l($APP.C([X1(this)]))].join(""),new $APP.k(null,3,[$APP.zJ,p4,$APP.GJ,b,l4,X1(this)],
null));};var x3=null,y3=null,BNa=$APP.Ak.h(0),L3=function L3(a){switch(arguments.length){case 2:return L3.g(arguments[0],arguments[1]);case 3:return L3.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.p.h(arguments.length)].join(""));}};L3.g=function(a,b){return L3.j(a,b,b)};
L3.j=function(a,b,c){for(;;){var d=q3,e=b;if($APP.l(function(){var ba=new $APP.J(null,1,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[$APP.Fd,$APP.BH],null)],null),ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}()))return T3(S3(a),$APP.Vh.g(o3,$APP.te(b)),b),yNa(a,b);if($APP.l(function(){var ba=new $APP.J(null,2,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[$APP.Fd,$APP.BH],null),$APP.HH],null),ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}()))return T3(S3(a),$APP.Vh.g(o3,$APP.te(b)),b),zNa(a,b);if($APP.l(function(){var ba=
new $APP.J(null,2,5,$APP.K,[n3,$APP.BH],null),ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}())){var f=$APP.u(b);c=$APP.v(f);f=$APP.y(f);var g=y3;y3=$APP.D.g(v3.h(a),c);try{return L3.j(a,f,b)}finally{y3=g}}else{if($APP.l(function(){var ba=new $APP.J(null,2,5,$APP.K,[$APP.wt,$APP.BH],null),ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}())){var m=b,r=$APP.u(m),n=$APP.v(r),w=$APP.y(r);f=n;g=w;var x=KNa(S3(a),g,b),z=$APP.ek.g(function(ba){return function(ca){return U3.g?U3.g(ba,ca):U3.call(null,ba,ca)}}(a,
b,c,m,r,n,w,f,g,x,d,e),g);b=$APP.ek.g(function(){return function(ba){return $APP.nf.g(C3,w3.h(ba))}}(a,b,c,m,r,n,w,f,g,x,z,d,e),z);return $APP.yj.j($APP.v(z),w3,new $APP.J(null,1,5,$APP.K,[$APP.nf.g(I3,b)],null))}if($APP.l(function(){var ba=new $APP.J(null,3,5,$APP.K,[Y2,new $APP.J(null,2,5,$APP.K,[new $APP.J(null,1,5,$APP.K,[$APP.BH],null),$APP.BH],null),$APP.BH],null),ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}())){g=$APP.u(b);f=$APP.v(g);g=$APP.y(g);m=$APP.v(g);f=$APP.y(g);m=$APP.u(m);g=$APP.v(m);
m=$APP.y(m);x=g;g=f;f=S3(a);T3(f,x,c);LNa(f,m,g);c=$APP.tt.j(Y2,$APP.P.g(x,m),g);f=b;b=c;c=f;continue}else{if($APP.l(function(){var ba=new $APP.J(null,3,5,$APP.K,[Y2,new $APP.J(null,1,5,$APP.K,[$APP.BH],null),$APP.BH],null),ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}())){n=b;w=$APP.u(n);var F=$APP.v(w),M=$APP.y(w);f=F;var T=$APP.v(M),X=$APP.y(M);m=T;g=X;var aa=$APP.Fj(m);x=LNa(S3(a),aa,g);r=R3(a,aa);z=$APP.ek.g(function(ba,ca,ja,oa,ma,O,I,la,S,W,ia,na,pa,wa,za){return function(Ea){return R3(U3.g?
U3.g(za,Ea):U3.call(null,za,Ea),pa)}}(a,b,c,n,w,F,M,f,T,X,m,g,aa,x,r,d,e),g);b=$APP.ek.g(function(){return function(ba){return $APP.nf.g(C3,w3.h(ba))}}(a,b,c,n,w,F,M,f,T,X,m,g,aa,x,r,z,d,e),z);b=$APP.nf.g(I3,b);return $APP.Tn.G(a,w3,D3,b)}if($APP.l(function(){var ba=new $APP.J(null,2,5,$APP.K,[$APP.qt,$APP.BH],null),ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}()))return c=$APP.u(b),b=$APP.v(c),c=$APP.y(c),f=b,b=c,$APP.nf.j(U3,a,b);if($APP.l(function(){var ba=new $APP.J(null,2,5,$APP.K,[$APP.lA,
$APP.BH],null),ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}())){f=$APP.u(b);b=$APP.v(f);g=$APP.y(f);f=b;b=g;f=S3(a);g=$APP.Fj(K3(b));if($APP.Ge($APP.jv.g(f,g)))throw $APP.Sm.g(["Insufficient bindings: none of ",$APP.yk.l($APP.C([g]))," is bound in ",$APP.yk.l($APP.C([c]))].join(""),new $APP.k(null,2,[$APP.zJ,H3,$APP.ez,c],null));x=null;a=$APP.yj.j(a,w3,new $APP.J(null,1,5,$APP.K,[$APP.nf.g(C3,w3.h(a))],null));b=$APP.nf.j(U3,a,b);b=rNa($APP.v(w3.h(a)),$APP.nf.g(C3,w3.h(b)));return $APP.yj.j(a,w3,
new $APP.J(null,1,5,$APP.K,[b],null))}if($APP.l(function(){var ba=new $APP.J(null,3,5,$APP.K,[W2,new $APP.J(null,1,5,$APP.K,[$APP.BH],null),$APP.BH],null),ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}()))return b=$APP.u(b),f=$APP.v(b),b=$APP.y(b),f=$APP.v(b),b=$APP.y(b),m=f,f=S3(a),x=T3(f,m,c),a=$APP.yj.j(a,w3,new $APP.J(null,1,5,$APP.K,[$APP.nf.g(C3,w3.h(a))],null)),r=R3(a,m),b=R3($APP.nf.j(U3,r,b),m),b=rNa($APP.v(w3.h(a)),$APP.nf.g(C3,w3.h(b))),$APP.yj.j(a,w3,new $APP.J(null,1,5,$APP.K,[b],null));
if($APP.l(function(){var ba=new $APP.J(null,1,5,$APP.K,[$APP.BH],null),ca=e;return d.g?d.g(ba,ca):d.call(null,ba,ca)}())){c=y3;b=INa(c,b);f=uNa(c,b);g=x3;x3=(null!=c?$APP.Cd===c.Bh||(c.Cd?0:$APP.Bb(h_,c)):$APP.Bb(h_,c))?JNa(c,b):x3;try{return $APP.Tn.G(a,w3,D3,f)}finally{x3=g}}else throw Error(["No matching clause: ",$APP.p.h(e)].join(""));}}break}};L3.B=3;
var U3=function U3(a,b){if(ANa(a,b))if(n3($APP.v(b))){var d=y3;y3=$APP.D.g(v3.h(a),$APP.v(b));try{var e=$APP.y(b);return U3.g?U3.g(a,e):U3.call(null,a,e)}finally{y3=d}}else return $APP.Tn.G(a,w3,D3,HNa(a,b));else return L3.g(a,b)};Z1.prototype.Rf=function(a,b){return F3(b,this.Ja)};$1.prototype.Rf=function(a,b){return $APP.Ap.g(b,new $APP.J(null,2,5,$APP.K,[v3,this.Ja],null))};d2.prototype.Rf=function(){var a=$APP.D.g(HPa,this.Ja);return $APP.l(a)?a:null};c2.prototype.Rf=function(){return this.value};
y2.prototype.Sf=function(a,b,c){return null==b?c:TNa(b,c)};z2.prototype.Sf=function(a,b,c){return $APP.Ji.j($APP.Xh,$APP.ek.h($APP.v),c)};A2.prototype.Sf=function(a,b,c){return $APP.se(c)};B2.prototype.Sf=function(a,b,c){return null!=b?$APP.v(TNa(b,new $APP.J(null,1,5,$APP.K,[$APP.v(c)],null))):$APP.v(c)};var S4=function S4(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;return S4.l(arguments[0],1<c.length?new $APP.Nd(c.slice(1),0,null):null)};
S4.l=function(a,b){var c=MY(IPa,a,function(){return jNa(a)}),d=c3.h(c),e=x2(d),f=$APP.Sh.l(u2,$APP.C([x2(d)])),g=$APP.me(e),m=d3.h(c);m=$APP.P.g(f,$APP.ek.g($APP.wn,m));f=$APP.Ke(a)?cNa(a):a;var r=$APP.vD.h(f);b=pNa(new k3($APP.Xh,$APP.ah,$APP.ah,null,null,null),f3.h(c),b);m=ONa(MNa(b,r),m);f=$APP.l(hNa.h(f))?$APP.vq.g(function(n){return $APP.pf($APP.bm.j(n,0,g))},m):m;f=$APP.l($APP.wh(C2,e))?RNa(e,b,f):f;e=$APP.l($APP.wh(D2,e))?UNa(e,b,f):f;return W3(d,e3.h(c),e)};S4.B=1;
S4.F=function(a){var b=$APP.v(a);a=$APP.y(a);return this.l(b,a)};Y3.g=function(a,b){return Y3.j(a,b,null)};Y3.j=function(a,b,c){if(a instanceof v_)throw $APP.Sm.g("Filtered DB cannot be modified",new $APP.k(null,1,[$APP.zJ,wPa],null));return D0(ELa(new $APP.k(null,5,[b0,a,c0,a,d0,$APP.Xh,e0,$APP.ah,f0,c],null)),b)};Y3.B=3;
var T4=function T4(a){switch(arguments.length){case 2:return T4.g(arguments[0],arguments[1]);case 3:return T4.j(arguments[0],arguments[1],arguments[2]);case 4:return T4.G(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return T4.P(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return T4.ua(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:throw Error(["Invalid arity: ",$APP.p.h(arguments.length)].join(""));}};
T4.g=function(a,b){return b_(a,b,$APP.Xh)};T4.j=function(a,b,c){return b_(a,b,new $APP.J(null,1,5,$APP.K,[c],null))};T4.G=function(a,b,c,d){return b_(a,b,new $APP.J(null,2,5,$APP.K,[c,d],null))};T4.P=function(a,b,c,d,e){return b_(a,b,new $APP.J(null,3,5,$APP.K,[c,d,e],null))};T4.ua=function(a,b,c,d,e,f){return b_(a,b,new $APP.J(null,4,5,$APP.K,[c,d,e,f],null))};T4.B=6;
var U4=function U4(a){switch(arguments.length){case 1:return U4.h(arguments[0]);case 2:return U4.g(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",$APP.p.h(arguments.length)].join(""));}};U4.h=function(a){return b4(S_.h?S_.h(a):S_.call(null,a))};U4.g=function(a,b){return b4(S_.g?S_.g(a,b):S_.call(null,a,b))};U4.B=2;
var V4=function V4(a){switch(arguments.length){case 0:return V4.C();case 1:return V4.h(arguments[0]);default:throw Error(["Invalid arity: ",$APP.p.h(arguments.length)].join(""));}};V4.C=function(){return b4(C4.C?C4.C():C4.call(null))};V4.h=function(a){return b4(C4.h?C4.h(a):C4.call(null,a))};V4.B=1;
var W4=function W4(a){switch(arguments.length){case 2:return W4.g(arguments[0],arguments[1]);case 3:return W4.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.p.h(arguments.length)].join(""));}};W4.g=function(a,b){return W4.j(a,b,null)};
W4.j=function(a,b,c){b=VNa(a,b,c);a=a4.h($APP.De(a));a=null==a?null:$APP.q(a);a=$APP.u(a);c=null;for(var d=0,e=0;;)if(e<d){var f=c.ea(null,e);$APP.B.j(f,0,null);f=$APP.B.j(f,1,null);f.h?f.h(b):f.call(null,b);e+=1}else if(a=$APP.u(a))$APP.Pe(a)?(d=$APP.hd(a),a=$APP.id(a),c=d,d=$APP.me(d)):(c=$APP.v(a),$APP.B.j(c,0,null),c=$APP.B.j(c,1,null),c.h?c.h(b):c.call(null,b),a=$APP.y(a),c=null,d=0),e=0;else break;return b};W4.B=3;
var X4=function X4(a){switch(arguments.length){case 2:return X4.g(arguments[0],arguments[1]);case 3:return X4.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.p.h(arguments.length)].join(""));}};X4.g=function(a,b){return X4.j(a,b,null)};
X4.j=function(a,b,c){c=ELa(new $APP.k(null,4,[b0,$APP.q(a),c0,b,d0,$APP.P.g($APP.ek.g(function(r){return $APP.yj.j(r,$APP.KA,!1)},T4.g($APP.q(a),$APP.m_)),T4.g(b,$APP.m_)),f0,c],null));$APP.Fh(a,b);for(var d=$APP.u(function(){var r=a4.h($APP.De(a));return null==r?null:$APP.q(r)}()),e=null,f=0,g=0;;)if(g<f){var m=e.ea(null,g);$APP.B.j(m,0,null);m=$APP.B.j(m,1,null);m.h?m.h(c):m.call(null,c);g+=1}else if(d=$APP.u(d))$APP.Pe(d)?(f=$APP.hd(d),d=$APP.id(d),e=f,f=$APP.me(f)):(e=$APP.v(d),$APP.B.j(e,0,null),
e=$APP.B.j(e,1,null),e.h?e.h(c):e.call(null,c),d=$APP.y(d),e=null,f=0),g=0;else break;return b};X4.B=3;var Y4=function Y4(a){switch(arguments.length){case 2:return Y4.g(arguments[0],arguments[1]);case 3:return Y4.j(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",$APP.p.h(arguments.length)].join(""));}};Y4.g=function(a,b){return Y4.j(a,$APP.Lw.C(),b)};Y4.j=function(a,b,c){$APP.Bk.G(a4.h($APP.De(a)),$APP.yj,b,c);return b};Y4.B=3;
for(var Z4=$APP.u(new $APP.k(null,2,[ROa,$APP.OZ,BPa,$APP.T_],null)),$4=null,a5=0,b5=0;;)if(b5<a5){var JPa=$4.ea(null,b5),KPa=$APP.B.j(JPa,0,null),LPa=$APP.B.j(JPa,1,null),MPa=KPa,NPa=LPa;$APP.D.g($APP.q($APP.xM),MPa);$APP.Bk.G($APP.xM,$APP.yj,MPa,NPa);b5+=1}else{var OPa=$APP.u(Z4);if(OPa){var c5=OPa;if($APP.Pe(c5)){var PPa=$APP.hd(c5),QPa=$APP.id(c5),RPa=PPa,SPa=$APP.me(PPa);Z4=QPa;$4=RPa;a5=SPa}else{var TPa=$APP.v(c5),UPa=$APP.B.j(TPa,0,null),VPa=$APP.B.j(TPa,1,null),WPa=UPa,XPa=VPa;$APP.D.g($APP.q($APP.xM),
WPa);$APP.Bk.G($APP.xM,$APP.yj,WPa,XPa);Z4=$APP.y(c5);$4=null;a5=0}b5=0}else break}$APP.Ak.h(-1E6);var d5=function d5(a){switch(arguments.length){case 0:return d5.C();case 1:return d5.h(arguments[0]);default:throw Error(["Invalid arity: ",$APP.p.h(arguments.length)].join(""));}};d5.C=function(){return d5.h((new Date).getTime())};
d5.h=function(a){return $APP.cl([$APP.p.h(d4(a/1E3|0,8)),"-",$APP.p.h(d4($APP.Ck(65536),4)),"-",$APP.p.h(d4($APP.Ck(65536)&4095|16384,4)),"-",$APP.p.h(d4($APP.Ck(65536)&16383|32768,4)),"-",$APP.p.h(d4($APP.Ck(65536),4)),$APP.p.h(d4($APP.Ck(65536),4)),$APP.p.h(d4($APP.Ck(65536),4))].join(""))};d5.B=1;var e5=$APP.mu($APP.iK),f5=$APP.mu($APP.QL),YPa=$APP.kj([wOa,OOa,cOa,$APP.cI,rPa,n4,sPa,COa,POa,xOa,ePa,vPa,U_,oPa,xPa,DPa,APa,cPa,tPa,CPa,$APP.gD,r4,E2,jPa],[function(){var a=new $APP.Ld(function(){return Y3},gOa,$APP.kj([$APP.U,$APP.R,$APP.Pm,$APP.Jx,$APP.NI,$APP.In,$APP.Qm,$APP.qM,$APP.Y,$APP.Z,$APP.AD],[$APP.iK,wOa,"datascript/core.cljc",11,new $APP.k(null,6,[$APP.ky,!1,$APP.Xs,3,$APP.$K,3,$APP.qK,new $APP.J(null,2,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[U_,k4],null),new $APP.J(null,3,5,$APP.K,
[U_,k4,t4],null)],null),$APP.Y,$APP.N(new $APP.J(null,2,5,$APP.K,[U_,k4],null),new $APP.J(null,3,5,$APP.K,[U_,k4,t4],null)),$APP.tD,$APP.N(null,null)],null),1,256,256,$APP.N(new $APP.J(null,2,5,$APP.K,[U_,k4],null),new $APP.J(null,3,5,$APP.K,[U_,k4,t4],null)),"Same as [[transact!]], but applies to an immutable database value. Returns transaction report (see [[transact!]]).",$APP.l(Y3)?Y3.J:null])),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,4,[$APP.U,e5,$APP.R,c,
$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}(),function(){var a=new $APP.Ld(function(){return P4},GPa,$APP.kj([$APP.U,$APP.R,$APP.Pm,$APP.Jx,$APP.In,$APP.Qm,$APP.qM,$APP.Y,$APP.Z,$APP.AD],[$APP.iK,OOa,"datascript/core.cljc",12,1,120,130,$APP.Qd,'Same as [[pull]], but accepts sequence of ids and returns sequence of maps.\n\n             Usage:\n\n             ```\n             (pull-many db [:db/id :name] [1 2])\n             ; \x3d\x3e [{:db/id 1, :name "Ivan"}\n             ;     {:db/id 2, :name "Oleg"}]\n             ```',
$APP.l(P4)?P4.J:null])),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,4,[$APP.U,e5,$APP.R,c,$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}(),function(){var a=new $APP.Ld(function(){return L0},nPa,$APP.kj([$APP.U,$APP.R,$APP.Pm,$APP.Jx,$APP.In,$APP.Qm,$APP.qM,$APP.Y,$APP.Z,$APP.AD],[$APP.iK,cOa,"datascript/core.cljc",9,1,23,72,$APP.Qd,"Retrieves an entity by its id from database. Entities are lazy map-like structures to navigate DataScript database content.\n\n             For `eid` pass entity id or lookup attr:\n             \n                 (entity db 1)\n                 (entity db [:unique-attr :value])\n            \n             If entity does not exist, `nil` is returned:\n\n                 (entity db 100500) ; \x3d\x3e nil\n\n             Creating an entity by id is very cheap, almost no-op, as attr access is on-demand:\n\n                 (entity db 1) ; \x3d\x3e {:db/id 1}\n\n             Entity attributes can be lazily accessed through key lookups:\n             \n                 (:attr (entity db 1)) ; \x3d\x3e :value\n                 (get (entity db 1) :attr) ; \x3d\x3e :value\n\n             Cardinality many attributes are returned sequences:\n\n                 (:attrs (entity db 1)) ; \x3d\x3e [:v1 :v2 :v3]\n\n             Reference attributes are returned as another entities:\n\n                 (:ref (entity db 1)) ; \x3d\x3e {:db/id 2}\n                 (:ns/ref (entity db 1)) ; \x3d\x3e {:db/id 2}\n\n             References can be walked backwards by prepending `_` to name part of an attribute:\n\n                 (:_ref (entity db 2)) ; \x3d\x3e [{:db/id 1}]\n                 (:ns/_ref (entity db 2)) ; \x3d\x3e [{:db/id 1}]\n             \n             Reverse reference lookup returns sequence of entities unless attribute is marked as `:db/isComponent`:\n\n                 (:_component-ref (entity db 2)) ; \x3d\x3e {:db/id 1}\n\n             Entity gotchas:\n               \n             - Entities print as map, but are not exactly maps (they have compatible get interface though).\n             - Entities are effectively immutable “views” into a particular version of a database.\n             - Entities retain reference to the whole database.\n             - You can’t change database through entities, only read.\n             - Creating an entity by id is very cheap, almost no-op (attributes are looked up on demand).\n             - Comparing entities just compares their ids. Be careful when comparing entities taken from different dbs or from different versions of the same db.\n             - Accessed entity attributes are cached on entity itself (except backward references).\n             - When printing, only cached attributes (the ones you have accessed before) are printed. See [[touch]].",
$APP.l(L0)?L0.J:null])),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,4,[$APP.U,e5,$APP.R,c,$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}(),function(){var a=new $APP.Ld(function(){return S4},bOa,$APP.kj([$APP.U,$APP.R,$APP.Pm,$APP.Jx,$APP.In,$APP.Qm,$APP.qM,$APP.Y,$APP.Z,$APP.AD],[$APP.iK,$APP.cI,"datascript/core.cljc",4,1,135,147,$APP.Qd,'Executes a datalog query. See [docs.datomic.com/on-prem/query.html](https://docs.datomic.com/on-prem/query.html).\n\n          Usage:\n          \n          ```\n          (q \'[:find ?value\n               :where [_ :likes ?value]]\n             db)\n          ; \x3d\x3e #{["fries"] ["candy"] ["pie"] ["pizza"]}\n          ```',
$APP.l(S4)?S4.J:null])),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,4,[$APP.U,e5,$APP.R,c,$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}(),function(){var a=new $APP.Ld(function(){return Y4},KOa,$APP.kj([$APP.U,$APP.R,$APP.Pm,$APP.Jx,$APP.NI,$APP.In,$APP.Qm,$APP.qM,$APP.Y,$APP.Z,$APP.AD],[$APP.iK,rPa,"datascript/core.cljc",14,new $APP.k(null,6,[$APP.ky,!1,$APP.Xs,3,$APP.$K,
3,$APP.qK,new $APP.J(null,2,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[o4,$APP.rx],null),new $APP.J(null,3,5,$APP.K,[o4,$APP.GF,$APP.rx],null)],null),$APP.Y,$APP.N(new $APP.J(null,2,5,$APP.K,[o4,$APP.rx],null),new $APP.J(null,3,5,$APP.K,[o4,$APP.GF,$APP.rx],null)),$APP.tD,$APP.N(null,null)],null),1,592,592,$APP.N(new $APP.J(null,2,5,$APP.K,[o4,$APP.rx],null),new $APP.J(null,3,5,$APP.K,[o4,$APP.GF,$APP.rx],null)),"Listen for changes on the given connection. Whenever a transaction is applied to the database via [[transact!]], the callback is called\n   with the transaction report. `key` is any opaque unique value.\n   \n   Idempotent. Calling [[listen!]] with the same key twice will override old callback with the new value.\n   \n   Returns the key under which this listener is registered. See also [[unlisten!]].",
$APP.l(Y4)?Y4.J:null])),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,4,[$APP.U,e5,$APP.R,c,$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}(),function(){var a=new $APP.Ld(function(){return MZ},uPa,$APP.kj([$APP.U,$APP.R,$APP.Pm,$APP.Jx,$APP.In,$APP.Qm,$APP.qM,$APP.Y,$APP.Z,$APP.AD],[$APP.iK,n4,"datascript/core.cljc",8,1,172,178,$APP.Qd,"Low-level fn to create raw datoms.\n\n             Optionally with transaction id (number) and `added` flag (`true` for addition, `false` for retraction).\n\n             See also [[init-db]].",
$APP.l(MZ)?MZ.J:null])),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,4,[$APP.U,e5,$APP.R,c,$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}(),function(){var a=new $APP.Ld(function(){return Z3},NOa,$APP.kj([$APP.U,$APP.R,$APP.Pm,$APP.Jx,$APP.In,$APP.Qm,$APP.qM,$APP.Y,$APP.Z,$APP.AD],[$APP.iK,sPa,"datascript/core.cljc",14,1,271,271,$APP.N(new $APP.J(null,2,5,$APP.K,[U_,k4],null)),
"Applies transaction to an immutable db value, returning new immutable db value. Same as `(:db-after (with db tx-data))`.",$APP.l(Z3)?Z3.J:null])),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,4,[$APP.U,e5,$APP.R,c,$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}(),function(){var a=new $APP.Ld(function(){return $3},IOa,$APP.kj([$APP.U,$APP.R,$APP.Pm,$APP.Jx,$APP.In,$APP.Qm,$APP.qM,
$APP.Y,$APP.Z,$APP.AD],[$APP.iK,COa,"datascript/core.cljc",18,1,405,405,$APP.N(new $APP.J(null,4,5,$APP.K,[U_,nOa,$APP.cx,$APP.IJ],null)),'Returns part of `:avet` index between `[_ attr start]` and `[_ attr end]` in AVET sort order.\n  \n   Same properties as [[datoms]].\n   \n   `attr` must be a reference, unique attribute or marked as `:db/index true`.\n   \n   Usage:\n\n       (index-range db :likes "a" "zzzzzzzzz")\n       ; \x3d\x3e (#datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n        \n       (index-range db :likes "egg" "pineapple")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [2 :likes "pie"])\n           \n   Useful patterns:\n     \n       ; find all entities with age in a specific range (inclusive)\n       (-\x3e\x3e (index-range db :age 18 60) (map :e))',
$APP.l($3)?$3.J:null])),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,4,[$APP.U,e5,$APP.R,c,$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}(),function(){var a=new $APP.Ld(function(){return b4},bPa,$APP.kj([$APP.U,$APP.R,$APP.Pm,$APP.Jx,$APP.In,$APP.Qm,$APP.qM,$APP.Y,$APP.Z,$APP.AD],[$APP.iK,POa,"datascript/core.cljc",19,1,444,444,$APP.N(new $APP.J(null,1,5,$APP.K,[U_],null)),
"Creates a mutable reference to a given immutable database. See [[create-conn]].",$APP.l(b4)?b4.J:null])),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,4,[$APP.U,e5,$APP.R,c,$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}(),function(){var a=new $APP.Ld(function(){return X4},fOa,$APP.kj([$APP.U,$APP.R,$APP.Pm,$APP.Jx,$APP.NI,$APP.In,$APP.Qm,$APP.qM,$APP.Y,$APP.Z,$APP.AD],[$APP.iK,
xOa,"datascript/core.cljc",18,new $APP.k(null,6,[$APP.ky,!1,$APP.Xs,3,$APP.$K,3,$APP.qK,new $APP.J(null,2,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[o4,U_],null),new $APP.J(null,3,5,$APP.K,[o4,U_,t4],null)],null),$APP.Y,$APP.N(new $APP.J(null,2,5,$APP.K,[o4,U_],null),new $APP.J(null,3,5,$APP.K,[o4,U_,t4],null)),$APP.tD,$APP.N(null,null)],null),1,570,570,$APP.N(new $APP.J(null,2,5,$APP.K,[o4,U_],null),new $APP.J(null,3,5,$APP.K,[o4,U_,t4],null)),"Forces underlying `conn` value to become `db`. Will generate a tx-report that will remove everything from old value and insert everything from the new one.",
$APP.l(X4)?X4.J:null])),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,4,[$APP.U,e5,$APP.R,c,$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}(),function(){var a=new $APP.Ld(function(){return W4},tOa,$APP.kj([$APP.U,$APP.R,$APP.Pm,$APP.Jx,$APP.NI,$APP.In,$APP.Qm,$APP.qM,$APP.Y,$APP.Z,$APP.AD],[$APP.iK,ePa,"datascript/core.cljc",16,new $APP.k(null,6,[$APP.ky,!1,$APP.Xs,3,$APP.$K,
3,$APP.qK,new $APP.J(null,2,5,$APP.K,[new $APP.J(null,2,5,$APP.K,[o4,k4],null),new $APP.J(null,3,5,$APP.K,[o4,k4,t4],null)],null),$APP.Y,$APP.N(new $APP.J(null,2,5,$APP.K,[o4,k4],null),new $APP.J(null,3,5,$APP.K,[o4,k4,t4],null)),$APP.tD,$APP.N(null,null)],null),1,476,476,$APP.N(new $APP.J(null,2,5,$APP.K,[o4,k4],null),new $APP.J(null,3,5,$APP.K,[o4,k4,t4],null)),'Applies transaction the underlying database value and atomically updates connection reference to point to the result of that transaction, new db value.\n  \n   Returns transaction report, a map:\n\n       { :db-before ...       ; db value before transaction\n         :db-after  ...       ; db value after transaction\n         :tx-data   [...]     ; plain datoms that were added/retracted from db-before\n         :tempids   {...}     ; map of tempid from tx-data \x3d\x3e assigned entid in db-after\n         :tx-meta   tx-meta } ; the exact value you passed as `tx-meta`\n\n  Note! `conn` will be updated in-place and is not returned from [[transact!]].\n  \n  Usage:\n\n      ; add a single datom to an existing entity (1)\n      (transact! conn [[:db/add 1 :name "Ivan"]])\n  \n      ; retract a single datom\n      (transact! conn [[:db/retract 1 :name "Ivan"]])\n  \n      ; retract single entity attribute\n      (transact! conn [[:db.fn/retractAttribute 1 :name]])\n  \n      ; ... or equivalently (since Datomic changed its API to support this):\n      (transact! conn [[:db/retract 1 :name]])\n      \n      ; retract all entity attributes (effectively deletes entity)\n      (transact! conn [[:db.fn/retractEntity 1]])\n  \n      ; create a new entity (`-1`, as any other negative value, is a tempid\n      ; that will be replaced with DataScript to a next unused eid)\n      (transact! conn [[:db/add -1 :name "Ivan"]])\n  \n      ; check assigned id (here `*1` is a result returned from previous `transact!` call)\n      (def report *1)\n      (:tempids report) ; \x3d\x3e {-1 296}\n  \n      ; check actual datoms inserted\n      (:tx-data report) ; \x3d\x3e [#datascript/Datom [296 :name "Ivan"]]\n  \n      ; tempid can also be a string\n      (transact! conn [[:db/add "ivan" :name "Ivan"]])\n      (:tempids *1) ; \x3d\x3e {"ivan" 297}\n  \n      ; reference another entity (must exist)\n      (transact! conn [[:db/add -1 :friend 296]])\n  \n      ; create an entity and set multiple attributes (in a single transaction\n      ; equal tempids will be replaced with the same yet unused entid)\n      (transact! conn [[:db/add -1 :name "Ivan"]\n                       [:db/add -1 :likes "fries"]\n                       [:db/add -1 :likes "pizza"]\n                       [:db/add -1 :friend 296]])\n  \n      ; create an entity and set multiple attributes (alternative map form)\n      (transact! conn [{:db/id  -1\n                        :name   "Ivan"\n                        :likes  ["fries" "pizza"]\n                        :friend 296}])\n      \n      ; update an entity (alternative map form). Can’t retract attributes in\n      ; map form. For cardinality many attrs, value (fish in this example)\n      ; will be added to the list of existing values\n      (transact! conn [{:db/id  296\n                        :name   "Oleg"\n                        :likes  ["fish"]}])\n\n      ; ref attributes can be specified as nested map, that will create nested entity as well\n      (transact! conn [{:db/id  -1\n                        :name   "Oleg"\n                        :friend {:db/id -2\n                                 :name "Sergey"}}])\n                                 \n      ; reverse attribute name can be used if you want created entity to become\n      ; a value in another entity reference\n      (transact! conn [{:db/id  -1\n                        :name   "Oleg"\n                        :_friend 296}])\n      ; equivalent to\n      (transact! conn [{:db/id  -1, :name   "Oleg"}\n                       {:db/id 296, :friend -1}])\n      ; equivalent to\n      (transact! conn [[:db/add  -1 :name   "Oleg"]\n                       [:db/add 296 :friend -1]])',
$APP.l(W4)?W4.J:null])),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,4,[$APP.U,e5,$APP.R,c,$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}(),function(){var a=new $APP.Ld(function(){return d5},WNa,$APP.kj([$APP.U,$APP.R,$APP.Pm,$APP.Jx,$APP.NI,$APP.In,$APP.Qm,$APP.qM,$APP.Y,$APP.Z,$APP.AD],[$APP.iK,vPa,"datascript/core.cljc",13,new $APP.k(null,6,[$APP.ky,!1,$APP.Xs,1,$APP.$K,
1,$APP.qK,new $APP.J(null,2,5,$APP.K,[$APP.Xh,new $APP.J(null,1,5,$APP.K,[u4],null)],null),$APP.Y,$APP.N($APP.Xh,new $APP.J(null,1,5,$APP.K,[u4],null)),$APP.tD,$APP.N(null,null)],null),1,728,728,$APP.N($APP.Xh,new $APP.J(null,1,5,$APP.K,[u4],null)),"Generates a UUID that grow with time. Such UUIDs will always go to the end  of the index and that will minimize insertions in the middle.\n  \n   Consist of 64 bits of current UNIX timestamp (in seconds) and 64 random bits (2^64 different unique values per second).",
$APP.l(d5)?d5.J:null])),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,4,[$APP.U,e5,$APP.R,c,$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}(),function(){var a=new $APP.Ld(function(){return c4},iOa,$APP.kj([$APP.U,$APP.R,$APP.Pm,$APP.Jx,$APP.In,$APP.Qm,$APP.qM,$APP.Y,$APP.Z,$APP.AD],[$APP.iK,U_,"datascript/core.cljc",9,1,654,654,$APP.N(new $APP.J(null,1,5,$APP.K,[o4],null)),
"Returns the underlying immutable database value from a connection.\n   \n   Exists for Datomic API compatibility. Prefer using `@conn` directly if possible.",$APP.l(c4)?c4.J:null])),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,4,[$APP.U,e5,$APP.R,c,$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}(),function(){var a=new $APP.Ld(function(){return Q4},kOa,$APP.kj([$APP.U,$APP.R,
$APP.Pm,$APP.Jx,$APP.In,$APP.Qm,$APP.qM,$APP.Y,$APP.Z,$APP.AD],[$APP.iK,oPa,"datascript/core.cljc",15,1,195,207,$APP.Qd,"Converts db into a data structure (not string!) that can be fed to serializer\n             of your choice (e.g. `js/JSON.stringify` in CLJS, `cheshire.core/generate-string`\n             or `jsonista.core/write-value-as-string` in CLJ).\n\n             On JVM, `serializable` holds a global lock that prevents any two serializations\n             to run in parallel (an implementation constraint, be aware).\n\n             Options:\n\n             `:freeze-fn` Non-primitive values will be serialized using this. Optional.\n             `pr-str` by default.",
$APP.l(Q4)?Q4.J:null])),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,4,[$APP.U,e5,$APP.R,c,$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}(),function(){var a=new $APP.Ld(function(){return U4},AOa,$APP.kj([$APP.U,$APP.R,$APP.Pm,$APP.Jx,$APP.NI,$APP.In,$APP.Qm,$APP.qM,$APP.Y,$APP.Z,$APP.AD],[$APP.iK,xPa,"datascript/core.cljc",23,new $APP.k(null,6,[$APP.ky,!1,$APP.Xs,2,$APP.$K,
2,$APP.qK,new $APP.J(null,2,5,$APP.K,[new $APP.J(null,1,5,$APP.K,[r4],null),new $APP.J(null,2,5,$APP.K,[r4,i4],null)],null),$APP.Y,$APP.N(new $APP.J(null,1,5,$APP.K,[r4],null),new $APP.J(null,2,5,$APP.K,[r4,i4],null)),$APP.tD,$APP.N(null,null)],null),1,450,450,$APP.N(new $APP.J(null,1,5,$APP.K,[r4],null),new $APP.J(null,2,5,$APP.K,[r4,i4],null)),"Creates an empty DB and a mutable reference to it. See [[create-conn]].",$APP.l(U4)?U4.J:null])),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),
d=new $APP.k(null,4,[$APP.U,e5,$APP.R,c,$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}(),function(){var a=new $APP.Ld(function(){return R4},VOa,$APP.kj([$APP.U,$APP.R,$APP.Pm,$APP.Jx,$APP.In,$APP.Qm,$APP.qM,$APP.Y,$APP.Z,$APP.AD],[$APP.iK,DPa,"datascript/core.cljc",20,1,210,218,$APP.Qd,"Creates db from a data structure (not string!) produced by serializable.\n\n             Opts:\n\n             `:thaw-fn` Non-primitive values will be deserialized using this.\n             Must match :freeze-fn from serializable. Optional. `clojure.edn/read-string`\n             by default.",
$APP.l(R4)?R4.J:null])),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,4,[$APP.U,e5,$APP.R,c,$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}(),function(){var a=new $APP.Ld(function(){return C4},TOa,$APP.kj([$APP.U,$APP.R,$APP.Pm,$APP.Jx,$APP.In,$APP.Qm,$APP.qM,$APP.Y,$APP.Z,$APP.AD],[$APP.iK,APa,"datascript/core.cljc",11,1,152,164,$APP.Qd,"Creates an empty database with an optional schema.\n\n             Usage:\n             \n             ```\n             (empty-db) ; \x3d\x3e #datascript/DB {:schema {}, :datoms []}\n  \n             (empty-db {:likes {:db/cardinality :db.cardinality/many}})\n             ; \x3d\x3e #datascript/DB {:schema {:likes {:db/cardinality :db.cardinality/many}}\n             ;                    :datoms []}\n             ```",
$APP.l(C4)?C4.J:null])),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,4,[$APP.U,e5,$APP.R,c,$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}(),function(){var a=new $APP.Ld(function(){return S_},ZOa,$APP.kj([$APP.U,$APP.R,$APP.Pm,$APP.Jx,$APP.In,$APP.Qm,$APP.qM,$APP.Y,$APP.Z,$APP.AD],[$APP.iK,cPa,"datascript/core.cljc",10,1,186,192,$APP.Qd,"Low-level fn for creating database quickly from a trusted sequence of datoms.\n\n             Does no validation on inputs, so `datoms` must be well-formed and match schema.\n\n             Used internally in db (de)serialization. See also [[datom]].",
$APP.l(S_)?S_.J:null])),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,4,[$APP.U,e5,$APP.R,c,$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}(),function(){var a=new $APP.Ld(function(){return N0},dOa,$APP.kj([$APP.U,$APP.R,$APP.Pm,$APP.Jx,$APP.In,$APP.Qm,$APP.qM,$APP.Y,$APP.Z,$APP.AD],[$APP.iK,tPa,"datascript/core.cljc",8,1,91,100,$APP.Qd,"Forces all entity attributes to be eagerly fetched and cached. Only usable for debug output.\n\n             Usage:\n\n             ```\n             (entity db 1) ; \x3d\x3e {:db/id 1}\n             (touch (entity db 1)) ; \x3d\x3e {:db/id 1, :dislikes [:pie], :likes [:pizza]}\n             ```",
$APP.l(N0)?N0.J:null])),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,4,[$APP.U,e5,$APP.R,c,$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}(),function(){var a=new $APP.Ld(function(){return 536870912},mPa,$APP.kj([$APP.TC,$APP.U,$APP.R,$APP.Pm,$APP.Jx,$APP.In,$APP.cy,$APP.Qm,$APP.qM,$APP.Y,$APP.Z,$APP.AD],[!0,$APP.iK,CPa,"datascript/core.cljc",26,1,!0,18,18,$APP.Qd,null,$APP.l(536870912)?
(536870912).J:null])),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,4,[$APP.U,e5,$APP.R,c,$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}(),function(){var a=new $APP.Ld(function(){return X3},aOa,$APP.kj([$APP.U,$APP.R,$APP.Pm,$APP.Jx,$APP.In,$APP.Qm,$APP.qM,$APP.Y,$APP.Z,$APP.AD],[$APP.iK,$APP.gD,"datascript/core.cljc",13,1,235,235,$APP.N(new $APP.J(null,2,5,$APP.K,[U_,$APP.TL],
null)),"Returns a view over database that has same interface but only includes datoms for which the `(pred db datom)` is true. Can be applied multiple times.\n   \n   Filtered DB gotchas:\n\n   - All operations on filtered database are proxied to original DB, then filter pred is applied.\n   - Not cached. You pay filter penalty every time.\n   - Supports entities, pull, queries, index access.\n   - Does not support [[with]] and [[db-with]].",$APP.l(X3)?X3.J:null])),b=$APP.q(a);a=$APP.De(a);var c=
$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,4,[$APP.U,e5,$APP.R,c,$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}(),function(){var a=new $APP.Ld(function(){return T4},lPa,$APP.kj([$APP.U,$APP.R,$APP.Pm,$APP.Jx,$APP.NI,$APP.In,$APP.Qm,$APP.qM,$APP.Y,$APP.Z,$APP.AD],[$APP.iK,r4,"datascript/core.cljc",13,new $APP.k(null,6,[$APP.ky,!1,$APP.Xs,6,$APP.$K,6,$APP.qK,new $APP.J(null,5,5,$APP.K,[new $APP.J(null,
2,5,$APP.K,[U_,$APP.wD],null),new $APP.J(null,3,5,$APP.K,[U_,$APP.wD,$APP.fC],null),new $APP.J(null,4,5,$APP.K,[U_,$APP.wD,$APP.fC,$APP.gC],null),new $APP.J(null,5,5,$APP.K,[U_,$APP.wD,$APP.fC,$APP.gC,$APP.hC],null),new $APP.J(null,6,5,$APP.K,[U_,$APP.wD,$APP.fC,$APP.gC,$APP.hC,m4],null)],null),$APP.Y,$APP.N(new $APP.J(null,2,5,$APP.K,[U_,$APP.wD],null),new $APP.J(null,3,5,$APP.K,[U_,$APP.wD,$APP.fC],null),new $APP.J(null,4,5,$APP.K,[U_,$APP.wD,$APP.fC,$APP.gC],null),new $APP.J(null,5,5,$APP.K,[U_,
$APP.wD,$APP.fC,$APP.gC,$APP.hC],null),new $APP.J(null,6,5,$APP.K,[U_,$APP.wD,$APP.fC,$APP.gC,$APP.hC,m4],null)),$APP.tD,$APP.N(null,null,null,null,null)],null),1,280,280,$APP.N(new $APP.J(null,2,5,$APP.K,[U_,$APP.wD],null),new $APP.J(null,3,5,$APP.K,[U_,$APP.wD,$APP.fC],null),new $APP.J(null,4,5,$APP.K,[U_,$APP.wD,$APP.fC,$APP.gC],null),new $APP.J(null,5,5,$APP.K,[U_,$APP.wD,$APP.fC,$APP.gC,$APP.hC],null),new $APP.J(null,6,5,$APP.K,[U_,$APP.wD,$APP.fC,$APP.gC,$APP.hC,m4],null)),'Index lookup. Returns a sequence of datoms (lazy iterator over actual DB index) which components (e, a, v) match passed arguments.\n\n   Datoms are sorted in index sort order. Possible `index` values are: `:eavt`, `:aevt`, `:avet`.\n\n   Usage:\n\n       ; find all datoms for entity id \x3d\x3d 1 (any attrs and values)\n       ; sort by attribute, then value\n       (datoms db :eavt 1)\n       ; \x3d\x3e (#datascript/Datom [1 :friends 2]\n       ;     #datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [1 :name "Ivan"])\n  \n       ; find all datoms for entity id \x3d\x3d 1 and attribute \x3d\x3d :likes (any values)\n       ; sorted by value\n       (datoms db :eavt 1 :likes)\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"])\n       \n       ; find all datoms for entity id \x3d\x3d 1, attribute \x3d\x3d :likes and value \x3d\x3d "pizza"\n       (datoms db :eavt 1 :likes "pizza")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "pizza"])\n  \n       ; find all datoms for attribute \x3d\x3d :likes (any entity ids and values)\n       ; sorted by entity id, then value\n       (datoms db :aevt :likes)\n       ; \x3d\x3e (#datascript/Datom [1 :likes "fries"]\n       ;     #datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "candy"]\n       ;     #datascript/Datom [2 :likes "pie"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n  \n       ; find all datoms that have attribute \x3d\x3d `:likes` and value \x3d\x3d `"pizza"` (any entity id)\n       ; `:likes` must be a unique attr, reference or marked as `:db/index true`\n       (datoms db :avet :likes "pizza")\n       ; \x3d\x3e (#datascript/Datom [1 :likes "pizza"]\n       ;     #datascript/Datom [2 :likes "pizza"])\n  \n       ; find all datoms sorted by entity id, then attribute, then value\n       (datoms db :eavt) ; \x3d\x3e (...)\n\n   Useful patterns:\n\n       ; get all values of :db.cardinality/many attribute\n       (-\x3e\x3e (datoms db :eavt eid attr) (map :v))\n  \n       ; lookup entity ids by attribute value\n       (-\x3e\x3e (datoms db :avet attr value) (map :e))\n  \n       ; find all entities with a specific attribute\n       (-\x3e\x3e (datoms db :aevt attr) (map :e))\n  \n       ; find “singleton” entity by its attr\n       (-\x3e\x3e (datoms db :aevt attr) first :e)\n  \n       ; find N entities with lowest attr value (e.g. 10 earliest posts)\n       (-\x3e\x3e (datoms db :avet attr) (take N))\n  \n       ; find N entities with highest attr value (e.g. 10 latest posts)\n       (-\x3e\x3e (datoms db :avet attr) (reverse) (take N))\n\n   Gotchas:\n   \n   - Index lookup is usually more efficient than doing a query with a single clause.\n   - Resulting iterator is calculated in constant time and small constant memory overhead.\n   - Iterator supports efficient `first`, `next`, `reverse`, `seq` and is itself a sequence.\n   - Will not return datoms that are not part of the index (e.g. attributes with no `:db/index` in schema when querying `:avet` index).\n     - `:eavt` and `:aevt` contain all datoms.\n     - `:avet` only contains datoms for references, `:db/unique` and `:db/index` attributes.',
$APP.l(T4)?T4.J:null])),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,4,[$APP.U,e5,$APP.R,c,$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}(),function(){var a=new $APP.Ld(function(){return O4},lOa,$APP.kj([$APP.U,$APP.R,$APP.Pm,$APP.Jx,$APP.In,$APP.Qm,$APP.qM,$APP.Y,$APP.Z,$APP.AD],[$APP.iK,E2,"datascript/core.cljc",7,1,105,117,$APP.Qd,'Fetches data from database using recursive declarative description. See [docs.datomic.com/on-prem/pull.html](https://docs.datomic.com/on-prem/pull.html).\n\n             Unlike [[entity]], returns plain Clojure map (not lazy).\n\n             Usage:\n\n                 (pull db [:db/id, :name, :likes, {:friends [:db/id :name]}] 1)\n                 ; \x3d\x3e {:db/id   1,\n                 ;     :name    "Ivan"\n                 ;     :likes   [:pizza]\n                 ;     :friends [{:db/id 2, :name "Oleg"}]}',
$APP.l(O4)?O4.J:null])),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,4,[$APP.U,e5,$APP.R,c,$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}(),function(){var a=new $APP.Ld(function(){return V4},SOa,$APP.kj([$APP.U,$APP.R,$APP.Pm,$APP.Jx,$APP.NI,$APP.In,$APP.Qm,$APP.qM,$APP.Y,$APP.Z,$APP.AD],[$APP.iK,jPa,"datascript/core.cljc",18,new $APP.k(null,6,[$APP.ky,!1,$APP.Xs,1,$APP.$K,
1,$APP.qK,new $APP.J(null,2,5,$APP.K,[$APP.Xh,new $APP.J(null,1,5,$APP.K,[i4],null)],null),$APP.Y,$APP.N($APP.Xh,new $APP.J(null,1,5,$APP.K,[i4],null)),$APP.tD,$APP.N(null,null)],null),1,456,456,$APP.N($APP.Xh,new $APP.J(null,1,5,$APP.K,[i4],null)),"Creates a mutable reference (a “connection”) to an empty immutable database.\n\n   Connections are lightweight in-memory structures (~atoms) with direct support of transaction listeners ([[listen!]], [[unlisten!]]) and other handy DataScript APIs ([[transact!]], [[reset-conn!]], [[db]]).\n\n   To access underlying immutable DB value, deref: `@conn`.",
$APP.l(V4)?V4.J:null])),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,4,[$APP.U,e5,$APP.R,c,$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}()]),ZPa=new $APP.k(null,7,[pOa,function(){var a=new $APP.Ld(function(){return $APP.T_},pPa,$APP.kj([$APP.U,$APP.R,$APP.Pm,$APP.Jx,$APP.In,$APP.Qm,$APP.qM,$APP.Y,$APP.Z,$APP.AD],[$APP.QL,pOa,"datascript/db.cljc",21,1,885,885,$APP.N(new $APP.J(null,
1,5,$APP.K,[new $APP.k(null,1,[$APP.yz,new $APP.J(null,2,5,$APP.K,[i4,r4],null)],null)],null)),null,$APP.l($APP.T_)?$APP.T_.J:null])),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,4,[$APP.U,f5,$APP.R,c,$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}(),dPa,function(){var a=new $APP.Ld(function(){return $APP.OZ},fPa,$APP.kj([$APP.U,$APP.R,$APP.Pm,$APP.Jx,$APP.In,$APP.Qm,$APP.qM,
$APP.zn,$APP.Y,$APP.Z,$APP.AD],[$APP.QL,dPa,"datascript/db.cljc",31,1,297,297,B4,$APP.N(new $APP.J(null,1,5,$APP.K,[$APP.vK],null)),null,$APP.l($APP.OZ)?$APP.OZ.J:null])),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,4,[$APP.U,f5,$APP.R,c,$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}(),$Na,function(){var a=new $APP.Ld(function(){return $APP.CZ},hOa,$APP.kj([$APP.Kr,$APP.U,
$APP.R,$APP.Pm,$APP.Jx,$APP.In,$APP.Qm,$APP.qM,$APP.Y,$APP.Z,$APP.AD],[XNa,$APP.QL,$Na,"datascript/db.cljc",15,1,154,156,$APP.N(new $APP.J(null,1,5,$APP.K,[$APP.rC],null)),null,$APP.l($APP.CZ)?$APP.CZ.J:null])),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,4,[$APP.U,f5,$APP.R,c,$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}(),ZNa,function(){var a=new $APP.Ld(function(){return $APP.BZ},
uOa,$APP.kj([$APP.Kr,$APP.U,$APP.R,$APP.Pm,$APP.Jx,$APP.In,$APP.Qm,$APP.qM,$APP.Y,$APP.Z,$APP.AD],[XNa,$APP.QL,ZNa,"datascript/db.cljc",12,1,154,155,$APP.N(new $APP.J(null,1,5,$APP.K,[$APP.rC],null)),null,$APP.l($APP.BZ)?$APP.BZ.J:null])),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,4,[$APP.U,f5,$APP.R,c,$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}(),n4,function(){var a=
new $APP.Ld(function(){return MZ},$Oa,$APP.kj([$APP.U,$APP.R,$APP.Pm,$APP.Jx,$APP.NI,$APP.In,$APP.Qm,$APP.qM,$APP.zn,$APP.Y,$APP.Z,$APP.AD],[$APP.QL,n4,"datascript/db.cljc",19,new $APP.k(null,6,[$APP.ky,!1,$APP.Xs,5,$APP.$K,5,$APP.qK,new $APP.J(null,3,5,$APP.K,[new $APP.J(null,3,5,$APP.K,[$APP.RH,$APP.LH,$APP.fI],null),new $APP.J(null,4,5,$APP.K,[$APP.RH,$APP.LH,$APP.fI,j4],null),new $APP.J(null,5,5,$APP.K,[$APP.RH,$APP.LH,$APP.fI,j4,g4],null)],null),$APP.Y,$APP.N(new $APP.J(null,3,5,$APP.K,[$APP.RH,
$APP.LH,$APP.fI],null),new $APP.J(null,4,5,$APP.K,[$APP.RH,$APP.LH,$APP.fI,j4],null),new $APP.J(null,5,5,$APP.K,[$APP.RH,$APP.LH,$APP.fI,j4,g4],null)),$APP.tD,$APP.N(null,null,null)],null),1,233,233,B4,$APP.N(new $APP.J(null,3,5,$APP.K,[$APP.RH,$APP.LH,$APP.fI],null),new $APP.J(null,4,5,$APP.K,[$APP.RH,$APP.LH,$APP.fI,j4],null),new $APP.J(null,5,5,$APP.K,[$APP.RH,$APP.LH,$APP.fI,j4,g4],null)),null,$APP.l(MZ)?MZ.J:null])),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,
4,[$APP.U,f5,$APP.R,c,$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}(),gPa,function(){var a=new $APP.Ld(function(){return $APP.k_},LOa,new $APP.k(null,8,[$APP.U,$APP.QL,$APP.Z,null,$APP.Pm,"datascript/db.cljc",$APP.Qm,499,$APP.In,22,$APP.R,gPa,$APP.AD,$APP.l($APP.k_)?$APP.k_.J:null,$APP.Y,$APP.Qd],null)),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,4,[$APP.U,f5,$APP.R,c,$APP.Y,
$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}(),B4,function(){var a=new $APP.Ld(function(){return $APP.DZ},MOa,new $APP.k(null,8,[$APP.U,$APP.QL,$APP.Z,null,$APP.Pm,"datascript/db.cljc",$APP.Qm,160,$APP.In,10,$APP.R,B4,$APP.AD,$APP.l($APP.DZ)?$APP.DZ.J:null,$APP.Y,$APP.Qd],null)),b=$APP.q(a);a=$APP.De(a);var c=$APP.l(null)?null:$APP.R.h(a),d=new $APP.k(null,4,[$APP.U,f5,$APP.R,c,$APP.Y,$APP.Y.h(a),$APP.Z,$APP.Z.h(a)],
null);return $APP.l($APP.ar.h(a))?$APP.iu(c,b,d):$APP.l($APP.rq.h(a))?$APP.ju(c,b,d):$APP.hu(c,b,d)}()],null);$APP.Wu(new $APP.k(null,1,[$APP.Rq,new $APP.k(null,2,[$APP.iK,YPa,$APP.QL,ZPa],null)],null));